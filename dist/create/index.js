#!/usr/bin/env node
import { createRequire as topLevelCreateRequire } from "module";const require = topLevelCreateRequire(import.meta.url);
var Wi=Object.create;var Ie=Object.defineProperty;var Gi=Object.getOwnPropertyDescriptor;var qi=Object.getOwnPropertyNames;var Zi=Object.getPrototypeOf,Yi=Object.prototype.hasOwnProperty;var Bt=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(t,i)=>(typeof require<"u"?require:t)[i]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var yt=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports);var Ki=(a,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of qi(t))!Yi.call(a,s)&&s!==i&&Ie(a,s,{get:()=>t[s],enumerable:!(r=Gi(t,s))||r.enumerable});return a};var Xi=(a,t,i)=>(i=a!=null?Wi(Zi(a)):{},Ki(t||!a||!a.__esModule?Ie(i,"default",{value:a,enumerable:!0}):i,a));var Pt=yt(we=>{var Gt=class extends Error{constructor(t,i,r){super(r),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=i,this.exitCode=t,this.nestedError=void 0}},_e=class extends Gt{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};we.CommanderError=Gt;we.InvalidArgumentError=_e});var qt=yt(Ae=>{var{InvalidArgumentError:Js}=Pt(),ve=class{constructor(t,i){switch(this.description=i||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,i){return i===this.defaultValue||!Array.isArray(i)?[t]:i.concat(t)}default(t,i){return this.defaultValue=t,this.defaultValueDescription=i,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(i,r)=>{if(!this.argChoices.includes(i))throw new Js(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(i,r):i},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function Qs(a){let t=a.name()+(a.variadic===!0?"...":"");return a.required?"<"+t+">":"["+t+"]"}Ae.Argument=ve;Ae.humanReadableArgName=Qs});var Se=yt(Bi=>{var{humanReadableArgName:tn}=qt(),Oe=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){let i=t.commands.filter(r=>!r._hidden);if(t._hasImplicitHelpCommand()){let[,r,s]=t._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),n=t.createCommand(r).helpOption(!1);n.description(t._helpCommandDescription),s&&n.arguments(s),i.push(n)}return this.sortSubcommands&&i.sort((r,s)=>r.name().localeCompare(s.name())),i}compareOptions(t,i){let r=s=>s.short?s.short.replace(/^-/,""):s.long.replace(/^--/,"");return r(t).localeCompare(r(i))}visibleOptions(t){let i=t.options.filter(n=>!n.hidden),r=t._hasHelpOption&&t._helpShortFlag&&!t._findOption(t._helpShortFlag),s=t._hasHelpOption&&!t._findOption(t._helpLongFlag);if(r||s){let n;r?s?n=t.createOption(t._helpFlags,t._helpDescription):n=t.createOption(t._helpShortFlag,t._helpDescription):n=t.createOption(t._helpLongFlag,t._helpDescription),i.push(n)}return this.sortOptions&&i.sort(this.compareOptions),i}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];let i=[];for(let r=t.parent;r;r=r.parent){let s=r.options.filter(n=>!n.hidden);i.push(...s)}return this.sortOptions&&i.sort(this.compareOptions),i}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach(i=>{i.description=i.description||t._argsDescription[i.name()]||""}),t.registeredArguments.find(i=>i.description)?t.registeredArguments:[]}subcommandTerm(t){let i=t.registeredArguments.map(r=>tn(r)).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(i?" "+i:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,i){return i.visibleCommands(t).reduce((r,s)=>Math.max(r,i.subcommandTerm(s).length),0)}longestOptionTermLength(t,i){return i.visibleOptions(t).reduce((r,s)=>Math.max(r,i.optionTerm(s).length),0)}longestGlobalOptionTermLength(t,i){return i.visibleGlobalOptions(t).reduce((r,s)=>Math.max(r,i.optionTerm(s).length),0)}longestArgumentTermLength(t,i){return i.visibleArguments(t).reduce((r,s)=>Math.max(r,i.argumentTerm(s).length),0)}commandUsage(t){let i=t._name;t._aliases[0]&&(i=i+"|"+t._aliases[0]);let r="";for(let s=t.parent;s;s=s.parent)r=s.name()+" "+r;return r+i+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){let i=[];return t.argChoices&&i.push(`choices: ${t.argChoices.map(r=>JSON.stringify(r)).join(", ")}`),t.defaultValue!==void 0&&(t.required||t.optional||t.isBoolean()&&typeof t.defaultValue=="boolean")&&i.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),t.presetArg!==void 0&&t.optional&&i.push(`preset: ${JSON.stringify(t.presetArg)}`),t.envVar!==void 0&&i.push(`env: ${t.envVar}`),i.length>0?`${t.description} (${i.join(", ")})`:t.description}argumentDescription(t){let i=[];if(t.argChoices&&i.push(`choices: ${t.argChoices.map(r=>JSON.stringify(r)).join(", ")}`),t.defaultValue!==void 0&&i.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),i.length>0){let r=`(${i.join(", ")})`;return t.description?`${t.description} ${r}`:r}return t.description}formatHelp(t,i){let r=i.padWidth(t,i),s=i.helpWidth||80,n=2,e=2;function u(w,m){if(m){let E=`${w.padEnd(r+e)}${m}`;return i.wrap(E,s-n,r+e)}return w}function o(w){return w.join(`
`).replace(/^/gm," ".repeat(n))}let c=[`Usage: ${i.commandUsage(t)}`,""],d=i.commandDescription(t);d.length>0&&(c=c.concat([i.wrap(d,s,0),""]));let b=i.visibleArguments(t).map(w=>u(i.argumentTerm(w),i.argumentDescription(w)));b.length>0&&(c=c.concat(["Arguments:",o(b),""]));let _=i.visibleOptions(t).map(w=>u(i.optionTerm(w),i.optionDescription(w)));if(_.length>0&&(c=c.concat(["Options:",o(_),""])),this.showGlobalOptions){let w=i.visibleGlobalOptions(t).map(m=>u(i.optionTerm(m),i.optionDescription(m)));w.length>0&&(c=c.concat(["Global Options:",o(w),""]))}let f=i.visibleCommands(t).map(w=>u(i.subcommandTerm(w),i.subcommandDescription(w)));return f.length>0&&(c=c.concat(["Commands:",o(f),""])),c.join(`
`)}padWidth(t,i){return Math.max(i.longestOptionTermLength(t,i),i.longestGlobalOptionTermLength(t,i),i.longestSubcommandTermLength(t,i),i.longestArgumentTermLength(t,i))}wrap(t,i,r,s=40){let n=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",e=new RegExp(`[\\n][${n}]+`);if(t.match(e))return t;let u=i-r;if(u<s)return t;let o=t.slice(0,r),c=t.slice(r).replace(`\r
`,`
`),d=" ".repeat(r),_="\\s\u200B",f=new RegExp(`
|.{1,${u-1}}([${_}]|$)|[^${_}]+?([${_}]|$)`,"g"),w=c.match(f)||[];return o+w.map((m,E)=>m===`
`?"":(E>0?d:"")+m.trimEnd()).join(`
`)}};Bi.Help=Oe});var Re=yt(Zt=>{var{InvalidArgumentError:en}=Pt(),Be=class{constructor(t,i){this.flags=t,this.description=i||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;let r=xi(t);this.short=r.shortFlag,this.long=r.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,i){return this.defaultValue=t,this.defaultValueDescription=i,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let i=t;return typeof t=="string"&&(i={[t]:!0}),this.implied=Object.assign(this.implied||{},i),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,i){return i===this.defaultValue||!Array.isArray(i)?[t]:i.concat(t)}choices(t){return this.argChoices=t.slice(),this.parseArg=(i,r)=>{if(!this.argChoices.includes(i))throw new en(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(i,r):i},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return rn(this.name().replace(/^no-/,""))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},xe=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach(i=>{i.negate?this.negativeOptions.set(i.attributeName(),i):this.positiveOptions.set(i.attributeName(),i)}),this.negativeOptions.forEach((i,r)=>{this.positiveOptions.has(r)&&this.dualOptions.add(r)})}valueFromOption(t,i){let r=i.attributeName();if(!this.dualOptions.has(r))return!0;let s=this.negativeOptions.get(r).presetArg,n=s!==void 0?s:!1;return i.negate===(n===t)}};function rn(a){return a.split("-").reduce((t,i)=>t+i[0].toUpperCase()+i.slice(1))}function xi(a){let t,i,r=a.split(/[ |,]+/);return r.length>1&&!/^[[<]/.test(r[1])&&(t=r.shift()),i=r.shift(),!t&&/^-[^-]$/.test(i)&&(t=i,i=void 0),{shortFlag:t,longFlag:i}}Zt.Option=Be;Zt.splitOptionFlags=xi;Zt.DualOptions=xe});var ki=yt(Ri=>{function sn(a,t){if(Math.abs(a.length-t.length)>3)return Math.max(a.length,t.length);let i=[];for(let r=0;r<=a.length;r++)i[r]=[r];for(let r=0;r<=t.length;r++)i[0][r]=r;for(let r=1;r<=t.length;r++)for(let s=1;s<=a.length;s++){let n=1;a[s-1]===t[r-1]?n=0:n=1,i[s][r]=Math.min(i[s-1][r]+1,i[s][r-1]+1,i[s-1][r-1]+n),s>1&&r>1&&a[s-1]===t[r-2]&&a[s-2]===t[r-1]&&(i[s][r]=Math.min(i[s][r],i[s-2][r-2]+1))}return i[a.length][t.length]}function nn(a,t){if(!t||t.length===0)return"";t=Array.from(new Set(t));let i=a.startsWith("--");i&&(a=a.slice(2),t=t.map(e=>e.slice(2)));let r=[],s=3,n=.4;return t.forEach(e=>{if(e.length<=1)return;let u=sn(a,e),o=Math.max(a.length,e.length);(o-u)/o>n&&(u<s?(s=u,r=[e]):u===s&&r.push(e))}),r.sort((e,u)=>e.localeCompare(u)),i&&(r=r.map(e=>`--${e}`)),r.length>1?`
(Did you mean one of ${r.join(", ")}?)`:r.length===1?`
(Did you mean ${r[0]}?)`:""}Ri.suggestSimilar=nn});var Mi=yt(Ni=>{var on=Bt("events").EventEmitter,ke=Bt("child_process"),Et=Bt("path"),Te=Bt("fs"),ot=Bt("process"),{Argument:un,humanReadableArgName:an}=qt(),{CommanderError:$e}=Pt(),{Help:hn}=Se(),{Option:Ti,splitOptionFlags:ln,DualOptions:cn}=Re(),{suggestSimilar:$i}=ki(),Le=class a extends on{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:i=>ot.stdout.write(i),writeErr:i=>ot.stderr.write(i),getOutHelpWidth:()=>ot.stdout.isTTY?ot.stdout.columns:void 0,getErrHelpWidth:()=>ot.stderr.isTTY?ot.stderr.columns:void 0,outputError:(i,r)=>r(i)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._hasHelpOption=t._hasHelpOption,this._helpFlags=t._helpFlags,this._helpDescription=t._helpDescription,this._helpShortFlag=t._helpShortFlag,this._helpLongFlag=t._helpLongFlag,this._helpCommandName=t._helpCommandName,this._helpCommandnameAndArgs=t._helpCommandnameAndArgs,this._helpCommandDescription=t._helpCommandDescription,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){let t=[];for(let i=this;i;i=i.parent)t.push(i);return t}command(t,i,r){let s=i,n=r;typeof s=="object"&&s!==null&&(n=s,s=null),n=n||{};let[,e,u]=t.match(/([^ ]+) *(.*)/),o=this.createCommand(e);return s&&(o.description(s),o._executableHandler=!0),n.isDefault&&(this._defaultCommandName=o._name),o._hidden=!!(n.noHelp||n.hidden),o._executableFile=n.executableFile||null,u&&o.arguments(u),this.commands.push(o),o.parent=this,o.copyInheritedSettings(this),s?this:o}createCommand(t){return new a(t)}createHelp(){return Object.assign(new hn,this.configureHelp())}configureHelp(t){return t===void 0?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return t===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return typeof t!="string"&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,i){if(!t._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return i=i||{},i.isDefault&&(this._defaultCommandName=t._name),(i.noHelp||i.hidden)&&(t._hidden=!0),this.commands.push(t),t.parent=this,this}createArgument(t,i){return new un(t,i)}argument(t,i,r,s){let n=this.createArgument(t,i);return typeof r=="function"?n.default(s).argParser(r):n.default(r),this.addArgument(n),this}arguments(t){return t.trim().split(/ +/).forEach(i=>{this.argument(i)}),this}addArgument(t){let i=this.registeredArguments.slice(-1)[0];if(i&&i.variadic)throw new Error(`only the last argument can be variadic '${i.name()}'`);if(t.required&&t.defaultValue!==void 0&&t.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}addHelpCommand(t,i){return t===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof t=="string"&&(this._helpCommandName=t.split(" ")[0],this._helpCommandnameAndArgs=t),this._helpCommandDescription=i||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(t,i){let r=["preSubcommand","preAction","postAction"];if(!r.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.
Expecting one of '${r.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(i):this._lifeCycleHooks[t]=[i],this}exitOverride(t){return t?this._exitCallback=t:this._exitCallback=i=>{if(i.code!=="commander.executeSubCommandAsync")throw i},this}_exit(t,i,r){this._exitCallback&&this._exitCallback(new $e(t,i,r)),ot.exit(t)}action(t){let i=r=>{let s=this.registeredArguments.length,n=r.slice(0,s);return this._storeOptionsAsProperties?n[s]=this:n[s]=this.opts(),n.push(this),t.apply(this,n)};return this._actionHandler=i,this}createOption(t,i){return new Ti(t,i)}_callParseArg(t,i,r,s){try{return t.parseArg(i,r)}catch(n){if(n.code==="commander.invalidArgument"){let e=`${s} ${n.message}`;this.error(e,{exitCode:n.exitCode,code:n.code})}throw n}}addOption(t){let i=t.name(),r=t.attributeName();if(t.negate){let n=t.long.replace(/^--no-/,"--");this._findOption(n)||this.setOptionValueWithSource(r,t.defaultValue===void 0?!0:t.defaultValue,"default")}else t.defaultValue!==void 0&&this.setOptionValueWithSource(r,t.defaultValue,"default");this.options.push(t);let s=(n,e,u)=>{n==null&&t.presetArg!==void 0&&(n=t.presetArg);let o=this.getOptionValue(r);n!==null&&t.parseArg?n=this._callParseArg(t,n,o,e):n!==null&&t.variadic&&(n=t._concatValue(n,o)),n==null&&(t.negate?n=!1:t.isBoolean()||t.optional?n=!0:n=""),this.setOptionValueWithSource(r,n,u)};return this.on("option:"+i,n=>{let e=`error: option '${t.flags}' argument '${n}' is invalid.`;s(n,e,"cli")}),t.envVar&&this.on("optionEnv:"+i,n=>{let e=`error: option '${t.flags}' value '${n}' from env '${t.envVar}' is invalid.`;s(n,e,"env")}),this}_optionEx(t,i,r,s,n){if(typeof i=="object"&&i instanceof Ti)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let e=this.createOption(i,r);if(e.makeOptionMandatory(!!t.mandatory),typeof s=="function")e.default(n).argParser(s);else if(s instanceof RegExp){let u=s;s=(o,c)=>{let d=u.exec(o);return d?d[0]:c},e.default(n).argParser(s)}else e.default(s);return this.addOption(e)}option(t,i,r,s){return this._optionEx({},t,i,r,s)}requiredOption(t,i,r,s){return this._optionEx({mandatory:!0},t,i,r,s)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){if(this._passThroughOptions=!!t,this.parent&&t&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,i){return this.setOptionValueWithSource(t,i,void 0)}setOptionValueWithSource(t,i,r){return this._storeOptionsAsProperties?this[t]=i:this._optionValues[t]=i,this._optionValueSources[t]=r,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let i;return this._getCommandAndAncestors().forEach(r=>{r.getOptionValueSource(t)!==void 0&&(i=r.getOptionValueSource(t))}),i}_prepareUserArgs(t,i){if(t!==void 0&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");i=i||{},t===void 0&&(t=ot.argv,ot.versions&&ot.versions.electron&&(i.from="electron")),this.rawArgs=t.slice();let r;switch(i.from){case void 0:case"node":this._scriptPath=t[1],r=t.slice(2);break;case"electron":ot.defaultApp?(this._scriptPath=t[1],r=t.slice(2)):r=t.slice(1);break;case"user":r=t.slice(0);break;default:throw new Error(`unexpected parse option { from: '${i.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",r}parse(t,i){let r=this._prepareUserArgs(t,i);return this._parseCommand([],r),this}async parseAsync(t,i){let r=this._prepareUserArgs(t,i);return await this._parseCommand([],r),this}_executeSubCommand(t,i){i=i.slice();let r=!1,s=[".js",".ts",".tsx",".mjs",".cjs"];function n(d,b){let _=Et.resolve(d,b);if(Te.existsSync(_))return _;if(s.includes(Et.extname(b)))return;let f=s.find(w=>Te.existsSync(`${_}${w}`));if(f)return`${_}${f}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let e=t._executableFile||`${this._name}-${t._name}`,u=this._executableDir||"";if(this._scriptPath){let d;try{d=Te.realpathSync(this._scriptPath)}catch{d=this._scriptPath}u=Et.resolve(Et.dirname(d),u)}if(u){let d=n(u,e);if(!d&&!t._executableFile&&this._scriptPath){let b=Et.basename(this._scriptPath,Et.extname(this._scriptPath));b!==this._name&&(d=n(u,`${b}-${t._name}`))}e=d||e}r=s.includes(Et.extname(e));let o;ot.platform!=="win32"?r?(i.unshift(e),i=Ii(ot.execArgv).concat(i),o=ke.spawn(ot.argv[0],i,{stdio:"inherit"})):o=ke.spawn(e,i,{stdio:"inherit"}):(i.unshift(e),i=Ii(ot.execArgv).concat(i),o=ke.spawn(ot.execPath,i,{stdio:"inherit"})),o.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(b=>{ot.on(b,()=>{o.killed===!1&&o.exitCode===null&&o.kill(b)})});let c=this._exitCallback;c?o.on("close",()=>{c(new $e(ot.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):o.on("close",ot.exit.bind(ot)),o.on("error",d=>{if(d.code==="ENOENT"){let b=u?`searched for local subcommand relative to directory '${u}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",_=`'${e}' does not exist
 - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${b}`;throw new Error(_)}else if(d.code==="EACCES")throw new Error(`'${e}' not executable`);if(!c)ot.exit(1);else{let b=new $e(1,"commander.executeSubCommandAsync","(error)");b.nestedError=d,c(b)}}),this.runningCommand=o}_dispatchSubcommand(t,i,r){let s=this._findCommand(t);s||this.help({error:!0});let n;return n=this._chainOrCallSubCommandHook(n,s,"preSubcommand"),n=this._chainOrCall(n,()=>{if(s._executableHandler)this._executeSubCommand(s,i.concat(r));else return s._parseCommand(i,r)}),n}_dispatchHelpCommand(t){t||this.help();let i=this._findCommand(t);return i&&!i._executableHandler&&i.help(),this._dispatchSubcommand(t,[],[this._helpLongFlag||this._helpShortFlag])}_checkNumberOfArguments(){this.registeredArguments.forEach((t,i)=>{t.required&&this.args[i]==null&&this.missingArgument(t.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let t=(r,s,n)=>{let e=s;if(s!==null&&r.parseArg){let u=`error: command-argument value '${s}' is invalid for argument '${r.name()}'.`;e=this._callParseArg(r,s,n,u)}return e};this._checkNumberOfArguments();let i=[];this.registeredArguments.forEach((r,s)=>{let n=r.defaultValue;r.variadic?s<this.args.length?(n=this.args.slice(s),r.parseArg&&(n=n.reduce((e,u)=>t(r,u,e),r.defaultValue))):n===void 0&&(n=[]):s<this.args.length&&(n=this.args[s],r.parseArg&&(n=t(r,n,r.defaultValue))),i[s]=n}),this.processedArgs=i}_chainOrCall(t,i){return t&&t.then&&typeof t.then=="function"?t.then(()=>i()):i()}_chainOrCallHooks(t,i){let r=t,s=[];return this._getCommandAndAncestors().reverse().filter(n=>n._lifeCycleHooks[i]!==void 0).forEach(n=>{n._lifeCycleHooks[i].forEach(e=>{s.push({hookedCommand:n,callback:e})})}),i==="postAction"&&s.reverse(),s.forEach(n=>{r=this._chainOrCall(r,()=>n.callback(n.hookedCommand,this))}),r}_chainOrCallSubCommandHook(t,i,r){let s=t;return this._lifeCycleHooks[r]!==void 0&&this._lifeCycleHooks[r].forEach(n=>{s=this._chainOrCall(s,()=>n(this,i))}),s}_parseCommand(t,i){let r=this.parseOptions(i);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(r.operands),i=r.unknown,this.args=t.concat(i),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),i);if(this._hasImplicitHelpCommand()&&t[0]===this._helpCommandName)return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return Li(this,i),this._dispatchSubcommand(this._defaultCommandName,t,i);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),Li(this,r.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let s=()=>{r.unknown.length>0&&this.unknownOption(r.unknown[0])},n=`command:${this.name()}`;if(this._actionHandler){s(),this._processArguments();let e;return e=this._chainOrCallHooks(e,"preAction"),e=this._chainOrCall(e,()=>this._actionHandler(this.processedArgs)),this.parent&&(e=this._chainOrCall(e,()=>{this.parent.emit(n,t,i)})),e=this._chainOrCallHooks(e,"postAction"),e}if(this.parent&&this.parent.listenerCount(n))s(),this._processArguments(),this.parent.emit(n,t,i);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,i);this.listenerCount("command:*")?this.emit("command:*",t,i):this.commands.length?this.unknownCommand():(s(),this._processArguments())}else this.commands.length?(s(),this.help({error:!0})):(s(),this._processArguments())}_findCommand(t){if(t)return this.commands.find(i=>i._name===t||i._aliases.includes(t))}_findOption(t){return this.options.find(i=>i.is(t))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(t=>{t.options.forEach(i=>{i.mandatory&&t.getOptionValue(i.attributeName())===void 0&&t.missingMandatoryOptionValue(i)})})}_checkForConflictingLocalOptions(){let t=this.options.filter(r=>{let s=r.attributeName();return this.getOptionValue(s)===void 0?!1:this.getOptionValueSource(s)!=="default"});t.filter(r=>r.conflictsWith.length>0).forEach(r=>{let s=t.find(n=>r.conflictsWith.includes(n.attributeName()));s&&this._conflictingOption(r,s)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(t=>{t._checkForConflictingLocalOptions()})}parseOptions(t){let i=[],r=[],s=i,n=t.slice();function e(o){return o.length>1&&o[0]==="-"}let u=null;for(;n.length;){let o=n.shift();if(o==="--"){s===r&&s.push(o),s.push(...n);break}if(u&&!e(o)){this.emit(`option:${u.name()}`,o);continue}if(u=null,e(o)){let c=this._findOption(o);if(c){if(c.required){let d=n.shift();d===void 0&&this.optionMissingArgument(c),this.emit(`option:${c.name()}`,d)}else if(c.optional){let d=null;n.length>0&&!e(n[0])&&(d=n.shift()),this.emit(`option:${c.name()}`,d)}else this.emit(`option:${c.name()}`);u=c.variadic?c:null;continue}}if(o.length>2&&o[0]==="-"&&o[1]!=="-"){let c=this._findOption(`-${o[1]}`);if(c){c.required||c.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${c.name()}`,o.slice(2)):(this.emit(`option:${c.name()}`),n.unshift(`-${o.slice(2)}`));continue}}if(/^--[^=]+=/.test(o)){let c=o.indexOf("="),d=this._findOption(o.slice(0,c));if(d&&(d.required||d.optional)){this.emit(`option:${d.name()}`,o.slice(c+1));continue}}if(e(o)&&(s=r),(this._enablePositionalOptions||this._passThroughOptions)&&i.length===0&&r.length===0){if(this._findCommand(o)){i.push(o),n.length>0&&r.push(...n);break}else if(o===this._helpCommandName&&this._hasImplicitHelpCommand()){i.push(o),n.length>0&&i.push(...n);break}else if(this._defaultCommandName){r.push(o),n.length>0&&r.push(...n);break}}if(this._passThroughOptions){s.push(o),n.length>0&&s.push(...n);break}s.push(o)}return{operands:i,unknown:r}}opts(){if(this._storeOptionsAsProperties){let t={},i=this.options.length;for(let r=0;r<i;r++){let s=this.options[r].attributeName();t[s]=s===this._versionOptionName?this._version:this[s]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((t,i)=>Object.assign(t,i.opts()),{})}error(t,i){this._outputConfiguration.outputError(`${t}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let r=i||{},s=r.exitCode||1,n=r.code||"commander.error";this._exit(s,n,t)}_parseOptionsEnv(){this.options.forEach(t=>{if(t.envVar&&t.envVar in ot.env){let i=t.attributeName();(this.getOptionValue(i)===void 0||["default","config","env"].includes(this.getOptionValueSource(i)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,ot.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}})}_parseOptionsImplied(){let t=new cn(this.options),i=r=>this.getOptionValue(r)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(r));this.options.filter(r=>r.implied!==void 0&&i(r.attributeName())&&t.valueFromOption(this.getOptionValue(r.attributeName()),r)).forEach(r=>{Object.keys(r.implied).filter(s=>!i(s)).forEach(s=>{this.setOptionValueWithSource(s,r.implied[s],"implied")})})}missingArgument(t){let i=`error: missing required argument '${t}'`;this.error(i,{code:"commander.missingArgument"})}optionMissingArgument(t){let i=`error: option '${t.flags}' argument missing`;this.error(i,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){let i=`error: required option '${t.flags}' not specified`;this.error(i,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,i){let r=e=>{let u=e.attributeName(),o=this.getOptionValue(u),c=this.options.find(b=>b.negate&&u===b.attributeName()),d=this.options.find(b=>!b.negate&&u===b.attributeName());return c&&(c.presetArg===void 0&&o===!1||c.presetArg!==void 0&&o===c.presetArg)?c:d||e},s=e=>{let u=r(e),o=u.attributeName();return this.getOptionValueSource(o)==="env"?`environment variable '${u.envVar}'`:`option '${u.flags}'`},n=`error: ${s(t)} cannot be used with ${s(i)}`;this.error(n,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let i="";if(t.startsWith("--")&&this._showSuggestionAfterError){let s=[],n=this;do{let e=n.createHelp().visibleOptions(n).filter(u=>u.long).map(u=>u.long);s=s.concat(e),n=n.parent}while(n&&!n._enablePositionalOptions);i=$i(t,s)}let r=`error: unknown option '${t}'${i}`;this.error(r,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;let i=this.registeredArguments.length,r=i===1?"":"s",n=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${i} argument${r} but got ${t.length}.`;this.error(n,{code:"commander.excessArguments"})}unknownCommand(){let t=this.args[0],i="";if(this._showSuggestionAfterError){let s=[];this.createHelp().visibleCommands(this).forEach(n=>{s.push(n.name()),n.alias()&&s.push(n.alias())}),i=$i(t,s)}let r=`error: unknown command '${t}'${i}`;this.error(r,{code:"commander.unknownCommand"})}version(t,i,r){if(t===void 0)return this._version;this._version=t,i=i||"-V, --version",r=r||"output the version number";let s=this.createOption(i,r);return this._versionOptionName=s.attributeName(),this.options.push(s),this.on("option:"+s.name(),()=>{this._outputConfiguration.writeOut(`${t}
`),this._exit(0,"commander.version",t)}),this}description(t,i){return t===void 0&&i===void 0?this._description:(this._description=t,i&&(this._argsDescription=i),this)}summary(t){return t===void 0?this._summary:(this._summary=t,this)}alias(t){if(t===void 0)return this._aliases[0];let i=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(i=this.commands[this.commands.length-1]),t===i._name)throw new Error("Command alias can't be the same as its name");return i._aliases.push(t),this}aliases(t){return t===void 0?this._aliases:(t.forEach(i=>this.alias(i)),this)}usage(t){if(t===void 0){if(this._usage)return this._usage;let i=this.registeredArguments.map(r=>an(r));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?i:[]).join(" ")}return this._usage=t,this}name(t){return t===void 0?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=Et.basename(t,Et.extname(t)),this}executableDir(t){return t===void 0?this._executableDir:(this._executableDir=t,this)}helpInformation(t){let i=this.createHelp();return i.helpWidth===void 0&&(i.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),i.formatHelp(this,i)}_getHelpContext(t){t=t||{};let i={error:!!t.error},r;return i.error?r=s=>this._outputConfiguration.writeErr(s):r=s=>this._outputConfiguration.writeOut(s),i.write=t.write||r,i.command=this,i}outputHelp(t){let i;typeof t=="function"&&(i=t,t=void 0);let r=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach(n=>n.emit("beforeAllHelp",r)),this.emit("beforeHelp",r);let s=this.helpInformation(r);if(i&&(s=i(s),typeof s!="string"&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(s),this._helpLongFlag&&this.emit(this._helpLongFlag),this.emit("afterHelp",r),this._getCommandAndAncestors().forEach(n=>n.emit("afterAllHelp",r))}helpOption(t,i){if(typeof t=="boolean")return this._hasHelpOption=t,this;this._helpFlags=t||this._helpFlags,this._helpDescription=i||this._helpDescription;let r=ln(this._helpFlags);return this._helpShortFlag=r.shortFlag,this._helpLongFlag=r.longFlag,this}help(t){this.outputHelp(t);let i=ot.exitCode||0;i===0&&t&&typeof t!="function"&&t.error&&(i=1),this._exit(i,"commander.help","(outputHelp)")}addHelpText(t,i){let r=["beforeAll","before","after","afterAll"];if(!r.includes(t))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${r.join("', '")}'`);let s=`${t}Help`;return this.on(s,n=>{let e;typeof i=="function"?e=i({error:n.error,command:n.command}):e=i,e&&n.write(`${e}
`)}),this}};function Li(a,t){a._hasHelpOption&&t.find(r=>r===a._helpLongFlag||r===a._helpShortFlag)&&(a.outputHelp(),a._exit(0,"commander.helpDisplayed","(outputHelp)"))}function Ii(a){return a.map(t=>{if(!t.startsWith("--inspect"))return t;let i,r="127.0.0.1",s="9229",n;return(n=t.match(/^(--inspect(-brk)?)$/))!==null?i=n[1]:(n=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(i=n[1],/^\d+$/.test(n[3])?s=n[3]:r=n[3]):(n=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(i=n[1],r=n[3],s=n[4]),i&&s!=="0"?`${i}=${r}:${parseInt(s)+1}`:t})}Ni.Command=Le});var Vi=yt((Ct,ji)=>{var{Argument:pn}=qt(),{Command:Pi}=Mi(),{CommanderError:dn,InvalidArgumentError:Hi}=Pt(),{Help:Dn}=Se(),{Option:mn}=Re();Ct=ji.exports=new Pi;Ct.program=Ct;Ct.Command=Pi;Ct.Option=mn;Ct.Argument=pn;Ct.Help=Dn;Ct.CommanderError=dn;Ct.InvalidArgumentError=Hi;Ct.InvalidOptionArgumentError=Hi});import{createRequire as Ji}from"module";import{statSync as Nr,readdirSync as Mr,existsSync as Pr,rmSync as Hr}from"fs";import{stdin as gi,stdout as Ci}from"node:process";import*as bt from"node:readline";import Ne from"node:readline";import{WriteStream as jr}from"node:tty";import gt from"node:process";import{readFile as bs,writeFile as ys,rm as Fs,mkdir as qe}from"node:fs/promises";import{existsSync as xt,createWriteStream as _s,readdirSync as ws}from"node:fs";import{pipeline as Rs}from"node:stream";import{homedir as ks}from"node:os";import{promisify as Ts}from"node:util";import{normalize as Gs}from"path";var vt=Ji(import.meta.url),Qi=Object.create,Ke=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,er=Object.getOwnPropertyNames,ir=Object.getPrototypeOf,rr=Object.prototype.hasOwnProperty,z=(a=>typeof vt<"u"?vt:typeof Proxy<"u"?new Proxy(a,{get:(t,i)=>(typeof vt<"u"?vt:t)[i]}):a)(function(a){if(typeof vt<"u")return vt.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')}),W=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports),sr=(a,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of er(t))!rr.call(a,s)&&s!==i&&Ke(a,s,{get:()=>t[s],enumerable:!(r=tr(t,s))||r.enumerable});return a},_t=(a,t,i)=>(i=a!=null?Qi(ir(a)):{},sr(t||!a||!a.__esModule?Ke(i,"default",{value:a,enumerable:!0}):i,a)),Xe=W((a,t)=>{"use strict";var i="\x1B",r=`${i}[`,s="\x07",n={to(o,c){return c?`${r}${c+1};${o+1}H`:`${r}${o+1}G`},move(o,c){let d="";return o<0?d+=`${r}${-o}D`:o>0&&(d+=`${r}${o}C`),c<0?d+=`${r}${-c}A`:c>0&&(d+=`${r}${c}B`),d},up:(o=1)=>`${r}${o}A`,down:(o=1)=>`${r}${o}B`,forward:(o=1)=>`${r}${o}C`,backward:(o=1)=>`${r}${o}D`,nextLine:(o=1)=>`${r}E`.repeat(o),prevLine:(o=1)=>`${r}F`.repeat(o),left:`${r}G`,hide:`${r}?25l`,show:`${r}?25h`,save:`${i}7`,restore:`${i}8`},e={up:(o=1)=>`${r}S`.repeat(o),down:(o=1)=>`${r}T`.repeat(o)},u={screen:`${r}2J`,up:(o=1)=>`${r}1J`.repeat(o),down:(o=1)=>`${r}J`.repeat(o),line:`${r}2K`,lineEnd:`${r}K`,lineStart:`${r}1K`,lines(o){let c="";for(let d=0;d<o;d++)c+=this.line+(d<o-1?n.up():"");return o&&(c+=n.left),c}};t.exports={cursor:n,scroll:e,erase:u,beep:s}}),Je=W((a,t)=>{var i=z("tty"),r=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||i.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),s=(u,o,c=u)=>d=>{let b=""+d,_=b.indexOf(o,u.length);return~_?u+n(b,o,c,_)+o:u+b+o},n=(u,o,c,d)=>{let b=u.substring(0,d)+c,_=u.substring(d+o.length),f=_.indexOf(o);return~f?b+n(_,o,c,f):b+_},e=(u=r)=>({isColorSupported:u,reset:u?o=>`\x1B[0m${o}\x1B[0m`:String,bold:u?s("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:u?s("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:u?s("\x1B[3m","\x1B[23m"):String,underline:u?s("\x1B[4m","\x1B[24m"):String,inverse:u?s("\x1B[7m","\x1B[27m"):String,hidden:u?s("\x1B[8m","\x1B[28m"):String,strikethrough:u?s("\x1B[9m","\x1B[29m"):String,black:u?s("\x1B[30m","\x1B[39m"):String,red:u?s("\x1B[31m","\x1B[39m"):String,green:u?s("\x1B[32m","\x1B[39m"):String,yellow:u?s("\x1B[33m","\x1B[39m"):String,blue:u?s("\x1B[34m","\x1B[39m"):String,magenta:u?s("\x1B[35m","\x1B[39m"):String,cyan:u?s("\x1B[36m","\x1B[39m"):String,white:u?s("\x1B[37m","\x1B[39m"):String,gray:u?s("\x1B[90m","\x1B[39m"):String,bgBlack:u?s("\x1B[40m","\x1B[49m"):String,bgRed:u?s("\x1B[41m","\x1B[49m"):String,bgGreen:u?s("\x1B[42m","\x1B[49m"):String,bgYellow:u?s("\x1B[43m","\x1B[49m"):String,bgBlue:u?s("\x1B[44m","\x1B[49m"):String,bgMagenta:u?s("\x1B[45m","\x1B[49m"):String,bgCyan:u?s("\x1B[46m","\x1B[49m"):String,bgWhite:u?s("\x1B[47m","\x1B[49m"):String});t.exports=e(),t.exports.createColors=e}),$t=W((a,t)=>{"use strict";var i=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);t.exports=r=>r?Object.keys(r).map(s=>[i.has(s)?i.get(s):s,r[s]]).reduce((s,n)=>(s[n[0]]=n[1],s),Object.create(null)):{}}),ae=W(a=>{"use strict";var t=typeof process=="object"&&process?process:{stdout:null,stderr:null},i=z("events"),r=z("stream"),s=z("string_decoder"),n=s.StringDecoder,e=Symbol("EOF"),u=Symbol("maybeEmitEnd"),o=Symbol("emittedEnd"),c=Symbol("emittingEnd"),d=Symbol("emittedError"),b=Symbol("closed"),_=Symbol("read"),f=Symbol("flush"),w=Symbol("flushChunk"),m=Symbol("encoding"),E=Symbol("decoder"),x=Symbol("flowing"),h=Symbol("paused"),l=Symbol("resume"),D=Symbol("buffer"),C=Symbol("pipes"),y=Symbol("bufferLength"),g=Symbol("bufferPush"),A=Symbol("bufferShift"),B=Symbol("objectMode"),R=Symbol("destroyed"),I=Symbol("error"),$=Symbol("emitData"),U=Symbol("emitEnd"),j=Symbol("emitEnd2"),G=Symbol("async"),tt=Symbol("abort"),M=Symbol("aborted"),Y=Symbol("signal"),J=q=>Promise.resolve().then(q),et=global._MP_NO_ITERATOR_SYMBOLS_!=="1",O=et&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),F=et&&Symbol.iterator||Symbol("iterator not implemented"),p=q=>q==="end"||q==="finish"||q==="prefinish",S=q=>q instanceof ArrayBuffer||typeof q=="object"&&q.constructor&&q.constructor.name==="ArrayBuffer"&&q.byteLength>=0,N=q=>!Buffer.isBuffer(q)&&ArrayBuffer.isView(q),X=class{constructor(q,k,L){this.src=q,this.dest=k,this.opts=L,this.ondrain=()=>q[l](),k.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},T=class extends X{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(q,k,L){super(q,k,L),this.proxyErrors=K=>k.emit("error",K),q.on("error",this.proxyErrors)}},Z=class Qe extends r{constructor(k){super(),this[x]=!1,this[h]=!1,this[C]=[],this[D]=[],this[B]=k&&k.objectMode||!1,this[B]?this[m]=null:this[m]=k&&k.encoding||null,this[m]==="buffer"&&(this[m]=null),this[G]=k&&!!k.async||!1,this[E]=this[m]?new n(this[m]):null,this[e]=!1,this[o]=!1,this[c]=!1,this[b]=!1,this[d]=null,this.writable=!0,this.readable=!0,this[y]=0,this[R]=!1,k&&k.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),k&&k.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[C]}),this[Y]=k&&k.signal,this[M]=!1,this[Y]&&(this[Y].addEventListener("abort",()=>this[tt]()),this[Y].aborted&&this[tt]())}get bufferLength(){return this[y]}get encoding(){return this[m]}set encoding(k){if(this[B])throw new Error("cannot set encoding in objectMode");if(this[m]&&k!==this[m]&&(this[E]&&this[E].lastNeed||this[y]))throw new Error("cannot change encoding");this[m]!==k&&(this[E]=k?new n(k):null,this[D].length&&(this[D]=this[D].map(L=>this[E].write(L)))),this[m]=k}setEncoding(k){this.encoding=k}get objectMode(){return this[B]}set objectMode(k){this[B]=this[B]||!!k}get async(){return this[G]}set async(k){this[G]=this[G]||!!k}[tt](){this[M]=!0,this.emit("abort",this[Y].reason),this.destroy(this[Y].reason)}get aborted(){return this[M]}set aborted(k){}write(k,L,K){if(this[M])return!1;if(this[e])throw new Error("write after end");if(this[R])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof L=="function"&&(K=L,L="utf8"),L||(L="utf8");let pt=this[G]?J:ct=>ct();return!this[B]&&!Buffer.isBuffer(k)&&(N(k)?k=Buffer.from(k.buffer,k.byteOffset,k.byteLength):S(k)?k=Buffer.from(k):typeof k!="string"&&(this.objectMode=!0)),this[B]?(this.flowing&&this[y]!==0&&this[f](!0),this.flowing?this.emit("data",k):this[g](k),this[y]!==0&&this.emit("readable"),K&&pt(K),this.flowing):k.length?(typeof k=="string"&&!(L===this[m]&&!this[E].lastNeed)&&(k=Buffer.from(k,L)),Buffer.isBuffer(k)&&this[m]&&(k=this[E].write(k)),this.flowing&&this[y]!==0&&this[f](!0),this.flowing?this.emit("data",k):this[g](k),this[y]!==0&&this.emit("readable"),K&&pt(K),this.flowing):(this[y]!==0&&this.emit("readable"),K&&pt(K),this.flowing)}read(k){if(this[R])return null;if(this[y]===0||k===0||k>this[y])return this[u](),null;this[B]&&(k=null),this[D].length>1&&!this[B]&&(this.encoding?this[D]=[this[D].join("")]:this[D]=[Buffer.concat(this[D],this[y])]);let L=this[_](k||null,this[D][0]);return this[u](),L}[_](k,L){return k===L.length||k===null?this[A]():(this[D][0]=L.slice(k),L=L.slice(0,k),this[y]-=k),this.emit("data",L),!this[D].length&&!this[e]&&this.emit("drain"),L}end(k,L,K){return typeof k=="function"&&(K=k,k=null),typeof L=="function"&&(K=L,L="utf8"),k&&this.write(k,L),K&&this.once("end",K),this[e]=!0,this.writable=!1,(this.flowing||!this[h])&&this[u](),this}[l](){this[R]||(this[h]=!1,this[x]=!0,this.emit("resume"),this[D].length?this[f]():this[e]?this[u]():this.emit("drain"))}resume(){return this[l]()}pause(){this[x]=!1,this[h]=!0}get destroyed(){return this[R]}get flowing(){return this[x]}get paused(){return this[h]}[g](k){this[B]?this[y]+=1:this[y]+=k.length,this[D].push(k)}[A](){return this[B]?this[y]-=1:this[y]-=this[D][0].length,this[D].shift()}[f](k){do;while(this[w](this[A]())&&this[D].length);!k&&!this[D].length&&!this[e]&&this.emit("drain")}[w](k){return this.emit("data",k),this.flowing}pipe(k,L){if(this[R])return;let K=this[o];return L=L||{},k===t.stdout||k===t.stderr?L.end=!1:L.end=L.end!==!1,L.proxyErrors=!!L.proxyErrors,K?L.end&&k.end():(this[C].push(L.proxyErrors?new T(this,k,L):new X(this,k,L)),this[G]?J(()=>this[l]()):this[l]()),k}unpipe(k){let L=this[C].find(K=>K.dest===k);L&&(this[C].splice(this[C].indexOf(L),1),L.unpipe())}addListener(k,L){return this.on(k,L)}on(k,L){let K=super.on(k,L);return k==="data"&&!this[C].length&&!this.flowing?this[l]():k==="readable"&&this[y]!==0?super.emit("readable"):p(k)&&this[o]?(super.emit(k),this.removeAllListeners(k)):k==="error"&&this[d]&&(this[G]?J(()=>L.call(this,this[d])):L.call(this,this[d])),K}get emittedEnd(){return this[o]}[u](){!this[c]&&!this[o]&&!this[R]&&this[D].length===0&&this[e]&&(this[c]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[b]&&this.emit("close"),this[c]=!1)}emit(k,L,...K){if(k!=="error"&&k!=="close"&&k!==R&&this[R])return;if(k==="data")return!this[B]&&!L?!1:this[G]?J(()=>this[$](L)):this[$](L);if(k==="end")return this[U]();if(k==="close"){if(this[b]=!0,!this[o]&&!this[R])return;let ct=super.emit("close");return this.removeAllListeners("close"),ct}else if(k==="error"){this[d]=L,super.emit(I,L);let ct=!this[Y]||this.listeners("error").length?super.emit("error",L):!1;return this[u](),ct}else if(k==="resume"){let ct=super.emit("resume");return this[u](),ct}else if(k==="finish"||k==="prefinish"){let ct=super.emit(k);return this.removeAllListeners(k),ct}let pt=super.emit(k,L,...K);return this[u](),pt}[$](k){for(let K of this[C])K.dest.write(k)===!1&&this.pause();let L=super.emit("data",k);return this[u](),L}[U](){this[o]||(this[o]=!0,this.readable=!1,this[G]?J(()=>this[j]()):this[j]())}[j](){if(this[E]){let L=this[E].end();if(L){for(let K of this[C])K.dest.write(L);super.emit("data",L)}}for(let L of this[C])L.end();let k=super.emit("end");return this.removeAllListeners("end"),k}collect(){let k=[];this[B]||(k.dataLength=0);let L=this.promise();return this.on("data",K=>{k.push(K),this[B]||(k.dataLength+=K.length)}),L.then(()=>k)}concat(){return this[B]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(k=>this[B]?Promise.reject(new Error("cannot concat in objectMode")):this[m]?k.join(""):Buffer.concat(k,k.dataLength))}promise(){return new Promise((k,L)=>{this.on(R,()=>L(new Error("stream destroyed"))),this.on("error",K=>L(K)),this.on("end",()=>k())})}[O](){let k=!1,L=()=>(this.pause(),k=!0,Promise.resolve({done:!0}));return{next:()=>{if(k)return L();let K=this.read();if(K!==null)return Promise.resolve({done:!1,value:K});if(this[e])return L();let pt=null,ct=null,wt=Q=>{this.removeListener("data",v),this.removeListener("end",P),this.removeListener(R,V),L(),ct(Q)},v=Q=>{this.removeListener("error",wt),this.removeListener("end",P),this.removeListener(R,V),this.pause(),pt({value:Q,done:!!this[e]})},P=()=>{this.removeListener("error",wt),this.removeListener("data",v),this.removeListener(R,V),L(),pt({done:!0})},V=()=>wt(new Error("stream destroyed"));return new Promise((Q,it)=>{ct=it,pt=Q,this.once(R,V),this.once("error",wt),this.once("end",P),this.once("data",v)})},throw:L,return:L,[O](){return this}}}[F](){let k=!1,L=()=>(this.pause(),this.removeListener(I,L),this.removeListener(R,L),this.removeListener("end",L),k=!0,{done:!0}),K=()=>{if(k)return L();let pt=this.read();return pt===null?L():{value:pt}};return this.once("end",L),this.once(I,L),this.once(R,L),{next:K,throw:L,return:L,[F](){return this}}}destroy(k){return this[R]?(k?this.emit("error",k):this.emit(R),this):(this[R]=!0,this[D].length=0,this[y]=0,typeof this.close=="function"&&!this[b]&&this.close(),k?this.emit("error",k):this.emit(R),this)}static isStream(k){return!!k&&(k instanceof Qe||k instanceof r||k instanceof i&&(typeof k.pipe=="function"||typeof k.write=="function"&&typeof k.end=="function"))}};a.Minipass=Z}),nr=W((a,t)=>{var i=z("zlib").constants||{ZLIB_VERNUM:4736};t.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},i))}),or=W((a,t)=>{"use strict";var i=typeof process=="object"&&process?process:{stdout:null,stderr:null},r=z("events"),s=z("stream"),n=z("string_decoder").StringDecoder,e=Symbol("EOF"),u=Symbol("maybeEmitEnd"),o=Symbol("emittedEnd"),c=Symbol("emittingEnd"),d=Symbol("emittedError"),b=Symbol("closed"),_=Symbol("read"),f=Symbol("flush"),w=Symbol("flushChunk"),m=Symbol("encoding"),E=Symbol("decoder"),x=Symbol("flowing"),h=Symbol("paused"),l=Symbol("resume"),D=Symbol("bufferLength"),C=Symbol("bufferPush"),y=Symbol("bufferShift"),g=Symbol("objectMode"),A=Symbol("destroyed"),B=Symbol("emitData"),R=Symbol("emitEnd"),I=Symbol("emitEnd2"),$=Symbol("async"),U=F=>Promise.resolve().then(F),j=global._MP_NO_ITERATOR_SYMBOLS_!=="1",G=j&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),tt=j&&Symbol.iterator||Symbol("iterator not implemented"),M=F=>F==="end"||F==="finish"||F==="prefinish",Y=F=>F instanceof ArrayBuffer||typeof F=="object"&&F.constructor&&F.constructor.name==="ArrayBuffer"&&F.byteLength>=0,J=F=>!Buffer.isBuffer(F)&&ArrayBuffer.isView(F),et=class{constructor(F,p,S){this.src=F,this.dest=p,this.opts=S,this.ondrain=()=>F[l](),p.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},O=class extends et{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(F,p,S){super(F,p,S),this.proxyErrors=N=>p.emit("error",N),F.on("error",this.proxyErrors)}};t.exports=class ti extends s{constructor(p){super(),this[x]=!1,this[h]=!1,this.pipes=[],this.buffer=[],this[g]=p&&p.objectMode||!1,this[g]?this[m]=null:this[m]=p&&p.encoding||null,this[m]==="buffer"&&(this[m]=null),this[$]=p&&!!p.async||!1,this[E]=this[m]?new n(this[m]):null,this[e]=!1,this[o]=!1,this[c]=!1,this[b]=!1,this[d]=null,this.writable=!0,this.readable=!0,this[D]=0,this[A]=!1}get bufferLength(){return this[D]}get encoding(){return this[m]}set encoding(p){if(this[g])throw new Error("cannot set encoding in objectMode");if(this[m]&&p!==this[m]&&(this[E]&&this[E].lastNeed||this[D]))throw new Error("cannot change encoding");this[m]!==p&&(this[E]=p?new n(p):null,this.buffer.length&&(this.buffer=this.buffer.map(S=>this[E].write(S)))),this[m]=p}setEncoding(p){this.encoding=p}get objectMode(){return this[g]}set objectMode(p){this[g]=this[g]||!!p}get async(){return this[$]}set async(p){this[$]=this[$]||!!p}write(p,S,N){if(this[e])throw new Error("write after end");if(this[A])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof S=="function"&&(N=S,S="utf8"),S||(S="utf8");let X=this[$]?U:T=>T();return!this[g]&&!Buffer.isBuffer(p)&&(J(p)?p=Buffer.from(p.buffer,p.byteOffset,p.byteLength):Y(p)?p=Buffer.from(p):typeof p!="string"&&(this.objectMode=!0)),this[g]?(this.flowing&&this[D]!==0&&this[f](!0),this.flowing?this.emit("data",p):this[C](p),this[D]!==0&&this.emit("readable"),N&&X(N),this.flowing):p.length?(typeof p=="string"&&!(S===this[m]&&!this[E].lastNeed)&&(p=Buffer.from(p,S)),Buffer.isBuffer(p)&&this[m]&&(p=this[E].write(p)),this.flowing&&this[D]!==0&&this[f](!0),this.flowing?this.emit("data",p):this[C](p),this[D]!==0&&this.emit("readable"),N&&X(N),this.flowing):(this[D]!==0&&this.emit("readable"),N&&X(N),this.flowing)}read(p){if(this[A])return null;if(this[D]===0||p===0||p>this[D])return this[u](),null;this[g]&&(p=null),this.buffer.length>1&&!this[g]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[D])]);let S=this[_](p||null,this.buffer[0]);return this[u](),S}[_](p,S){return p===S.length||p===null?this[y]():(this.buffer[0]=S.slice(p),S=S.slice(0,p),this[D]-=p),this.emit("data",S),!this.buffer.length&&!this[e]&&this.emit("drain"),S}end(p,S,N){return typeof p=="function"&&(N=p,p=null),typeof S=="function"&&(N=S,S="utf8"),p&&this.write(p,S),N&&this.once("end",N),this[e]=!0,this.writable=!1,(this.flowing||!this[h])&&this[u](),this}[l](){this[A]||(this[h]=!1,this[x]=!0,this.emit("resume"),this.buffer.length?this[f]():this[e]?this[u]():this.emit("drain"))}resume(){return this[l]()}pause(){this[x]=!1,this[h]=!0}get destroyed(){return this[A]}get flowing(){return this[x]}get paused(){return this[h]}[C](p){this[g]?this[D]+=1:this[D]+=p.length,this.buffer.push(p)}[y](){return this.buffer.length&&(this[g]?this[D]-=1:this[D]-=this.buffer[0].length),this.buffer.shift()}[f](p){do;while(this[w](this[y]()));!p&&!this.buffer.length&&!this[e]&&this.emit("drain")}[w](p){return p?(this.emit("data",p),this.flowing):!1}pipe(p,S){if(this[A])return;let N=this[o];return S=S||{},p===i.stdout||p===i.stderr?S.end=!1:S.end=S.end!==!1,S.proxyErrors=!!S.proxyErrors,N?S.end&&p.end():(this.pipes.push(S.proxyErrors?new O(this,p,S):new et(this,p,S)),this[$]?U(()=>this[l]()):this[l]()),p}unpipe(p){let S=this.pipes.find(N=>N.dest===p);S&&(this.pipes.splice(this.pipes.indexOf(S),1),S.unpipe())}addListener(p,S){return this.on(p,S)}on(p,S){let N=super.on(p,S);return p==="data"&&!this.pipes.length&&!this.flowing?this[l]():p==="readable"&&this[D]!==0?super.emit("readable"):M(p)&&this[o]?(super.emit(p),this.removeAllListeners(p)):p==="error"&&this[d]&&(this[$]?U(()=>S.call(this,this[d])):S.call(this,this[d])),N}get emittedEnd(){return this[o]}[u](){!this[c]&&!this[o]&&!this[A]&&this.buffer.length===0&&this[e]&&(this[c]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[b]&&this.emit("close"),this[c]=!1)}emit(p,S,...N){if(p!=="error"&&p!=="close"&&p!==A&&this[A])return;if(p==="data")return S?this[$]?U(()=>this[B](S)):this[B](S):!1;if(p==="end")return this[R]();if(p==="close"){if(this[b]=!0,!this[o]&&!this[A])return;let T=super.emit("close");return this.removeAllListeners("close"),T}else if(p==="error"){this[d]=S;let T=super.emit("error",S);return this[u](),T}else if(p==="resume"){let T=super.emit("resume");return this[u](),T}else if(p==="finish"||p==="prefinish"){let T=super.emit(p);return this.removeAllListeners(p),T}let X=super.emit(p,S,...N);return this[u](),X}[B](p){for(let N of this.pipes)N.dest.write(p)===!1&&this.pause();let S=super.emit("data",p);return this[u](),S}[R](){this[o]||(this[o]=!0,this.readable=!1,this[$]?U(()=>this[I]()):this[I]())}[I](){if(this[E]){let S=this[E].end();if(S){for(let N of this.pipes)N.dest.write(S);super.emit("data",S)}}for(let S of this.pipes)S.end();let p=super.emit("end");return this.removeAllListeners("end"),p}collect(){let p=[];this[g]||(p.dataLength=0);let S=this.promise();return this.on("data",N=>{p.push(N),this[g]||(p.dataLength+=N.length)}),S.then(()=>p)}concat(){return this[g]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(p=>this[g]?Promise.reject(new Error("cannot concat in objectMode")):this[m]?p.join(""):Buffer.concat(p,p.dataLength))}promise(){return new Promise((p,S)=>{this.on(A,()=>S(new Error("stream destroyed"))),this.on("error",N=>S(N)),this.on("end",()=>p())})}[G](){return{next:()=>{let p=this.read();if(p!==null)return Promise.resolve({done:!1,value:p});if(this[e])return Promise.resolve({done:!0});let S=null,N=null,X=k=>{this.removeListener("data",T),this.removeListener("end",Z),N(k)},T=k=>{this.removeListener("error",X),this.removeListener("end",Z),this.pause(),S({value:k,done:!!this[e]})},Z=()=>{this.removeListener("error",X),this.removeListener("data",T),S({done:!0})},q=()=>X(new Error("stream destroyed"));return new Promise((k,L)=>{N=L,S=k,this.once(A,q),this.once("error",X),this.once("end",Z),this.once("data",T)})}}}[tt](){return{next:()=>{let p=this.read();return{value:p,done:p===null}}}}destroy(p){return this[A]?(p?this.emit("error",p):this.emit(A),this):(this[A]=!0,this.buffer.length=0,this[D]=0,typeof this.close=="function"&&!this[b]&&this.close(),p?this.emit("error",p):this.emit(A),this)}static isStream(p){return!!p&&(p instanceof ti||p instanceof s||p instanceof r&&(typeof p.pipe=="function"||typeof p.write=="function"&&typeof p.end=="function"))}}}),ei=W(a=>{"use strict";var t=z("assert"),i=z("buffer").Buffer,r=z("zlib"),s=a.constants=nr(),n=or(),e=i.concat,u=Symbol("_superWrite"),o=class extends Error{constructor(M){super("zlib: "+M.message),this.code=M.code,this.errno=M.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+M.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},c=Symbol("opts"),d=Symbol("flushFlag"),b=Symbol("finishFlushFlag"),_=Symbol("fullFlushFlag"),f=Symbol("handle"),w=Symbol("onError"),m=Symbol("sawError"),E=Symbol("level"),x=Symbol("strategy"),h=Symbol("ended"),l=Symbol("_defaultFullFlush"),D=class extends n{constructor(M,Y){if(!M||typeof M!="object")throw new TypeError("invalid options for ZlibBase constructor");super(M),this[m]=!1,this[h]=!1,this[c]=M,this[d]=M.flush,this[b]=M.finishFlush;try{this[f]=new r[Y](M)}catch(J){throw new o(J)}this[w]=J=>{this[m]||(this[m]=!0,this.close(),this.emit("error",J))},this[f].on("error",J=>this[w](new o(J))),this.once("end",()=>this.close)}close(){this[f]&&(this[f].close(),this[f]=null,this.emit("close"))}reset(){if(!this[m])return t(this[f],"zlib binding closed"),this[f].reset()}flush(M){this.ended||(typeof M!="number"&&(M=this[_]),this.write(Object.assign(i.alloc(0),{[d]:M})))}end(M,Y,J){return M&&this.write(M,Y),this.flush(this[b]),this[h]=!0,super.end(null,null,J)}get ended(){return this[h]}write(M,Y,J){if(typeof Y=="function"&&(J=Y,Y="utf8"),typeof M=="string"&&(M=i.from(M,Y)),this[m])return;t(this[f],"zlib binding closed");let et=this[f]._handle,O=et.close;et.close=()=>{};let F=this[f].close;this[f].close=()=>{},i.concat=N=>N;let p;try{let N=typeof M[d]=="number"?M[d]:this[d];p=this[f]._processChunk(M,N),i.concat=e}catch(N){i.concat=e,this[w](new o(N))}finally{this[f]&&(this[f]._handle=et,et.close=O,this[f].close=F,this[f].removeAllListeners("error"))}this[f]&&this[f].on("error",N=>this[w](new o(N)));let S;if(p)if(Array.isArray(p)&&p.length>0){S=this[u](i.from(p[0]));for(let N=1;N<p.length;N++)S=this[u](p[N])}else S=this[u](i.from(p));return J&&J(),S}[u](M){return super.write(M)}},C=class extends D{constructor(M,Y){M=M||{},M.flush=M.flush||s.Z_NO_FLUSH,M.finishFlush=M.finishFlush||s.Z_FINISH,super(M,Y),this[_]=s.Z_FULL_FLUSH,this[E]=M.level,this[x]=M.strategy}params(M,Y){if(!this[m]){if(!this[f])throw new Error("cannot switch params when binding is closed");if(!this[f].params)throw new Error("not supported in this implementation");if(this[E]!==M||this[x]!==Y){this.flush(s.Z_SYNC_FLUSH),t(this[f],"zlib binding closed");let J=this[f].flush;this[f].flush=(et,O)=>{this.flush(et),O()};try{this[f].params(M,Y)}finally{this[f].flush=J}this[f]&&(this[E]=M,this[x]=Y)}}}},y=class extends C{constructor(M){super(M,"Deflate")}},g=class extends C{constructor(M){super(M,"Inflate")}},A=Symbol("_portable"),B=class extends C{constructor(M){super(M,"Gzip"),this[A]=M&&!!M.portable}[u](M){return this[A]?(this[A]=!1,M[9]=255,super[u](M)):super[u](M)}},R=class extends C{constructor(M){super(M,"Gunzip")}},I=class extends C{constructor(M){super(M,"DeflateRaw")}},$=class extends C{constructor(M){super(M,"InflateRaw")}},U=class extends C{constructor(M){super(M,"Unzip")}},j=class extends D{constructor(M,Y){M=M||{},M.flush=M.flush||s.BROTLI_OPERATION_PROCESS,M.finishFlush=M.finishFlush||s.BROTLI_OPERATION_FINISH,super(M,Y),this[_]=s.BROTLI_OPERATION_FLUSH}},G=class extends j{constructor(M){super(M,"BrotliCompress")}},tt=class extends j{constructor(M){super(M,"BrotliDecompress")}};a.Deflate=y,a.Inflate=g,a.Gzip=B,a.Gunzip=R,a.DeflateRaw=I,a.InflateRaw=$,a.Unzip=U,typeof r.BrotliCompress=="function"?(a.BrotliCompress=G,a.BrotliDecompress=tt):a.BrotliCompress=a.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}),Lt=W((a,t)=>{var i=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;t.exports=i!=="win32"?r=>r:r=>r&&r.replace(/\\/g,"/")}),he=W((a,t)=>{"use strict";var{Minipass:i}=ae(),r=Lt(),s=Symbol("slurp");t.exports=class extends i{constructor(n,e,u){switch(super(),this.pause(),this.extended=e,this.globalExtended=u,this.header=n,this.startBlockSize=512*Math.ceil(n.size/512),this.blockRemain=this.startBlockSize,this.remain=n.size,this.type=n.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=r(n.path),this.mode=n.mode,this.mode&&(this.mode=this.mode&4095),this.uid=n.uid,this.gid=n.gid,this.uname=n.uname,this.gname=n.gname,this.size=n.size,this.mtime=n.mtime,this.atime=n.atime,this.ctime=n.ctime,this.linkpath=r(n.linkpath),this.uname=n.uname,this.gname=n.gname,e&&this[s](e),u&&this[s](u,!0)}write(n){let e=n.length;if(e>this.blockRemain)throw new Error("writing more to entry than is appropriate");let u=this.remain,o=this.blockRemain;return this.remain=Math.max(0,u-e),this.blockRemain=Math.max(0,o-e),this.ignore?!0:u>=e?super.write(n):super.write(n.slice(0,u))}[s](n,e){for(let u in n)n[u]!==null&&n[u]!==void 0&&!(e&&u==="path")&&(this[u]=u==="path"||u==="linkpath"?r(n[u]):n[u])}}}),ii=W(a=>{"use strict";a.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),a.code=new Map(Array.from(a.name).map(t=>[t[1],t[0]]))}),ur=W((a,t)=>{"use strict";var i=(d,b)=>{if(Number.isSafeInteger(d))d<0?s(d,b):r(d,b);else throw Error("cannot encode number outside of javascript safe integer range");return b},r=(d,b)=>{b[0]=128;for(var _=b.length;_>1;_--)b[_-1]=d&255,d=Math.floor(d/256)},s=(d,b)=>{b[0]=255;var _=!1;d=d*-1;for(var f=b.length;f>1;f--){var w=d&255;d=Math.floor(d/256),_?b[f-1]=o(w):w===0?b[f-1]=0:(_=!0,b[f-1]=c(w))}},n=d=>{let b=d[0],_=b===128?u(d.slice(1,d.length)):b===255?e(d):null;if(_===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(_))throw Error("parsed number outside of javascript safe integer range");return _},e=d=>{for(var b=d.length,_=0,f=!1,w=b-1;w>-1;w--){var m=d[w],E;f?E=o(m):m===0?E=m:(f=!0,E=c(m)),E!==0&&(_-=E*Math.pow(256,b-w-1))}return _},u=d=>{for(var b=d.length,_=0,f=b-1;f>-1;f--){var w=d[f];w!==0&&(_+=w*Math.pow(256,b-f-1))}return _},o=d=>(255^d)&255,c=d=>(255^d)+1&255;t.exports={encode:i,parse:n}}),It=W((a,t)=>{"use strict";var i=ii(),r=z("path").posix,s=ur(),n=Symbol("slurp"),e=Symbol("type"),u=class{constructor(g,A,B,R){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[e]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(g)?this.decode(g,A||0,B,R):g&&this.set(g)}decode(g,A,B,R){if(A||(A=0),!g||!(g.length>=A+512))throw new Error("need 512 bytes for header");if(this.path=c(g,A,100),this.mode=_(g,A+100,8),this.uid=_(g,A+108,8),this.gid=_(g,A+116,8),this.size=_(g,A+124,12),this.mtime=d(g,A+136,12),this.cksum=_(g,A+148,12),this[n](B),this[n](R,!0),this[e]=c(g,A+156,1),this[e]===""&&(this[e]="0"),this[e]==="0"&&this.path.slice(-1)==="/"&&(this[e]="5"),this[e]==="5"&&(this.size=0),this.linkpath=c(g,A+157,100),g.slice(A+257,A+265).toString()==="ustar\x0000")if(this.uname=c(g,A+265,32),this.gname=c(g,A+297,32),this.devmaj=_(g,A+329,8),this.devmin=_(g,A+337,8),g[A+475]!==0){let $=c(g,A+345,155);this.path=$+"/"+this.path}else{let $=c(g,A+345,130);$&&(this.path=$+"/"+this.path),this.atime=d(g,A+476,12),this.ctime=d(g,A+488,12)}let I=8*32;for(let $=A;$<A+148;$++)I+=g[$];for(let $=A+156;$<A+512;$++)I+=g[$];this.cksumValid=I===this.cksum,this.cksum===null&&I===8*32&&(this.nullBlock=!0)}[n](g,A){for(let B in g)g[B]!==null&&g[B]!==void 0&&!(A&&B==="path")&&(this[B]=g[B])}encode(g,A){if(g||(g=this.block=Buffer.alloc(512),A=0),A||(A=0),!(g.length>=A+512))throw new Error("need 512 bytes for header");let B=this.ctime||this.atime?130:155,R=o(this.path||"",B),I=R[0],$=R[1];this.needPax=R[2],this.needPax=y(g,A,100,I)||this.needPax,this.needPax=E(g,A+100,8,this.mode)||this.needPax,this.needPax=E(g,A+108,8,this.uid)||this.needPax,this.needPax=E(g,A+116,8,this.gid)||this.needPax,this.needPax=E(g,A+124,12,this.size)||this.needPax,this.needPax=D(g,A+136,12,this.mtime)||this.needPax,g[A+156]=this[e].charCodeAt(0),this.needPax=y(g,A+157,100,this.linkpath)||this.needPax,g.write("ustar\x0000",A+257,8),this.needPax=y(g,A+265,32,this.uname)||this.needPax,this.needPax=y(g,A+297,32,this.gname)||this.needPax,this.needPax=E(g,A+329,8,this.devmaj)||this.needPax,this.needPax=E(g,A+337,8,this.devmin)||this.needPax,this.needPax=y(g,A+345,B,$)||this.needPax,g[A+475]!==0?this.needPax=y(g,A+345,155,$)||this.needPax:(this.needPax=y(g,A+345,130,$)||this.needPax,this.needPax=D(g,A+476,12,this.atime)||this.needPax,this.needPax=D(g,A+488,12,this.ctime)||this.needPax);let U=8*32;for(let j=A;j<A+148;j++)U+=g[j];for(let j=A+156;j<A+512;j++)U+=g[j];return this.cksum=U,E(g,A+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(g){for(let A in g)g[A]!==null&&g[A]!==void 0&&(this[A]=g[A])}get type(){return i.name.get(this[e])||this[e]}get typeKey(){return this[e]}set type(g){i.code.has(g)?this[e]=i.code.get(g):this[e]=g}},o=(g,A)=>{let B=g,R="",I,$=r.parse(g).root||".";if(Buffer.byteLength(B)<100)I=[B,R,!1];else{R=r.dirname(B),B=r.basename(B);do Buffer.byteLength(B)<=100&&Buffer.byteLength(R)<=A?I=[B,R,!1]:Buffer.byteLength(B)>100&&Buffer.byteLength(R)<=A?I=[B.slice(0,100-1),R,!0]:(B=r.join(r.basename(R),B),R=r.dirname(R));while(R!==$&&!I);I||(I=[g.slice(0,100-1),"",!0])}return I},c=(g,A,B)=>g.slice(A,A+B).toString("utf8").replace(/\0.*/,""),d=(g,A,B)=>b(_(g,A,B)),b=g=>g===null?null:new Date(g*1e3),_=(g,A,B)=>g[A]&128?s.parse(g.slice(A,A+B)):w(g,A,B),f=g=>isNaN(g)?null:g,w=(g,A,B)=>f(parseInt(g.slice(A,A+B).toString("utf8").replace(/\0.*$/,"").trim(),8)),m={12:8589934591,8:2097151},E=(g,A,B,R)=>R===null?!1:R>m[B]||R<0?(s.encode(R,g.slice(A,A+B)),!0):(x(g,A,B,R),!1),x=(g,A,B,R)=>g.write(h(R,B),A,B,"ascii"),h=(g,A)=>l(Math.floor(g).toString(8),A),l=(g,A)=>(g.length===A-1?g:new Array(A-g.length-1).join("0")+g+" ")+"\0",D=(g,A,B,R)=>R===null?!1:E(g,A,B,R.getTime()/1e3),C=new Array(156).join("\0"),y=(g,A,B,R)=>R===null?!1:(g.write(R+C,A,B,"utf8"),R.length!==Buffer.byteLength(R)||R.length>B);t.exports=u}),le=W((a,t)=>{"use strict";var i=It(),r=z("path"),s=class{constructor(o,c){this.atime=o.atime||null,this.charset=o.charset||null,this.comment=o.comment||null,this.ctime=o.ctime||null,this.gid=o.gid||null,this.gname=o.gname||null,this.linkpath=o.linkpath||null,this.mtime=o.mtime||null,this.path=o.path||null,this.size=o.size||null,this.uid=o.uid||null,this.uname=o.uname||null,this.dev=o.dev||null,this.ino=o.ino||null,this.nlink=o.nlink||null,this.global=c||!1}encode(){let o=this.encodeBody();if(o==="")return null;let c=Buffer.byteLength(o),d=512*Math.ceil(1+c/512),b=Buffer.allocUnsafe(d);for(let _=0;_<512;_++)b[_]=0;new i({path:("PaxHeader/"+r.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:c,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(b),b.write(o,512,c,"utf8");for(let _=c+512;_<b.length;_++)b[_]=0;return b}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(o){if(this[o]===null||this[o]===void 0)return"";let c=this[o]instanceof Date?this[o].getTime()/1e3:this[o],d=" "+(o==="dev"||o==="ino"||o==="nlink"?"SCHILY.":"")+o+"="+c+`
`,b=Buffer.byteLength(d),_=Math.floor(Math.log(b)/Math.log(10))+1;return b+_>=Math.pow(10,_)&&(_+=1),_+b+d}};s.parse=(o,c,d)=>new s(n(e(o),c),d);var n=(o,c)=>c?Object.keys(o).reduce((d,b)=>(d[b]=o[b],d),c):o,e=o=>o.replace(/\n$/,"").split(`
`).reduce(u,Object.create(null)),u=(o,c)=>{let d=parseInt(c,10);if(d!==Buffer.byteLength(c)+1)return o;c=c.slice((d+" ").length);let b=c.split("="),_=b.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!_)return o;let f=b.join("=");return o[_]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(_)?new Date(f*1e3):/^[0-9]+$/.test(f)?+f:f,o};t.exports=s}),Nt=W((a,t)=>{t.exports=i=>{let r=i.length-1,s=-1;for(;r>-1&&i.charAt(r)==="/";)s=r,r--;return s===-1?i:i.slice(0,s)}}),ce=W((a,t)=>{"use strict";t.exports=i=>class extends i{warn(r,s,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=s instanceof Error&&s.code||r,n.tarCode=r,!this.strict&&n.recoverable!==!1?(s instanceof Error&&(n=Object.assign(s,n),s=s.message),this.emit("warn",n.tarCode,s,n)):s instanceof Error?this.emit("error",Object.assign(s,n)):this.emit("error",Object.assign(new Error(`${r}: ${s}`),n))}}}),ri=W((a,t)=>{"use strict";var i=["|","<",">","?",":"],r=i.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),s=new Map(i.map((e,u)=>[e,r[u]])),n=new Map(r.map((e,u)=>[e,i[u]]));t.exports={encode:e=>i.reduce((u,o)=>u.split(o).join(s.get(o)),e),decode:e=>r.reduce((u,o)=>u.split(o).join(n.get(o)),e)}}),si=W((a,t)=>{var{isAbsolute:i,parse:r}=z("path").win32;t.exports=s=>{let n="",e=r(s);for(;i(s)||e.root;){let u=s.charAt(0)==="/"&&s.slice(0,4)!=="//?/"?"/":e.root;s=s.slice(u.length),n+=u,e=r(s)}return[n,s]}}),ar=W((a,t)=>{"use strict";t.exports=(i,r,s)=>(i&=4095,s&&(i=(i|384)&-19),r&&(i&256&&(i|=64),i&32&&(i|=8),i&4&&(i|=1)),i)}),ni=W((a,t)=>{"use strict";var{Minipass:i}=ae(),r=le(),s=It(),n=z("fs"),e=z("path"),u=Lt(),o=Nt(),c=(F,p)=>p?(F=u(F).replace(/^\.(\/|$)/,""),o(p)+"/"+F):u(F),d=16*1024*1024,b=Symbol("process"),_=Symbol("file"),f=Symbol("directory"),w=Symbol("symlink"),m=Symbol("hardlink"),E=Symbol("header"),x=Symbol("read"),h=Symbol("lstat"),l=Symbol("onlstat"),D=Symbol("onread"),C=Symbol("onreadlink"),y=Symbol("openfile"),g=Symbol("onopenfile"),A=Symbol("close"),B=Symbol("mode"),R=Symbol("awaitDrain"),I=Symbol("ondrain"),$=Symbol("prefix"),U=Symbol("hadError"),j=ce(),G=ri(),tt=si(),M=ar(),Y=j(class extends i{constructor(F,p){if(p=p||{},super(p),typeof F!="string")throw new TypeError("path is required");this.path=u(F),this.portable=!!p.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=p.maxReadSize||d,this.linkCache=p.linkCache||new Map,this.statCache=p.statCache||new Map,this.preservePaths=!!p.preservePaths,this.cwd=u(p.cwd||process.cwd()),this.strict=!!p.strict,this.noPax=!!p.noPax,this.noMtime=!!p.noMtime,this.mtime=p.mtime||null,this.prefix=p.prefix?u(p.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof p.onwarn=="function"&&this.on("warn",p.onwarn);let S=!1;if(!this.preservePaths){let[N,X]=tt(this.path);N&&(this.path=X,S=N)}this.win32=!!p.win32||process.platform==="win32",this.win32&&(this.path=G.decode(this.path.replace(/\\/g,"/")),F=F.replace(/\\/g,"/")),this.absolute=u(p.absolute||e.resolve(this.cwd,F)),this.path===""&&(this.path="./"),S&&this.warn("TAR_ENTRY_INFO",`stripping ${S} from absolute path`,{entry:this,path:S+this.path}),this.statCache.has(this.absolute)?this[l](this.statCache.get(this.absolute)):this[h]()}emit(F,...p){return F==="error"&&(this[U]=!0),super.emit(F,...p)}[h](){n.lstat(this.absolute,(F,p)=>{if(F)return this.emit("error",F);this[l](p)})}[l](F){this.statCache.set(this.absolute,F),this.stat=F,F.isFile()||(F.size=0),this.type=O(F),this.emit("stat",F),this[b]()}[b](){switch(this.type){case"File":return this[_]();case"Directory":return this[f]();case"SymbolicLink":return this[w]();default:return this.end()}}[B](F){return M(F,this.type==="Directory",this.portable)}[$](F){return c(F,this.prefix)}[E](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new s({path:this[$](this.path),linkpath:this.type==="Link"?this[$](this.linkpath):this.linkpath,mode:this[B](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new r({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[$](this.path),linkpath:this.type==="Link"?this[$](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[f](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[E](),this.end()}[w](){n.readlink(this.absolute,(F,p)=>{if(F)return this.emit("error",F);this[C](p)})}[C](F){this.linkpath=u(F),this[E](),this.end()}[m](F){this.type="Link",this.linkpath=u(e.relative(this.cwd,F)),this.stat.size=0,this[E](),this.end()}[_](){if(this.stat.nlink>1){let F=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(F)){let p=this.linkCache.get(F);if(p.indexOf(this.cwd)===0)return this[m](p)}this.linkCache.set(F,this.absolute)}if(this[E](),this.stat.size===0)return this.end();this[y]()}[y](){n.open(this.absolute,"r",(F,p)=>{if(F)return this.emit("error",F);this[g](p)})}[g](F){if(this.fd=F,this[U])return this[A]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let p=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(p),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[x]()}[x](){let{fd:F,buf:p,offset:S,length:N,pos:X}=this;n.read(F,p,S,N,X,(T,Z)=>{if(T)return this[A](()=>this.emit("error",T));this[D](Z)})}[A](F){n.close(this.fd,F)}[D](F){if(F<=0&&this.remain>0){let S=new Error("encountered unexpected EOF");return S.path=this.absolute,S.syscall="read",S.code="EOF",this[A](()=>this.emit("error",S))}if(F>this.remain){let S=new Error("did not encounter expected EOF");return S.path=this.absolute,S.syscall="read",S.code="EOF",this[A](()=>this.emit("error",S))}if(F===this.remain)for(let S=F;S<this.length&&F<this.blockRemain;S++)this.buf[S+this.offset]=0,F++,this.remain++;let p=this.offset===0&&F===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+F);this.write(p)?this[I]():this[R](()=>this[I]())}[R](F){this.once("drain",F)}write(F){if(this.blockRemain<F.length){let p=new Error("writing more data than expected");return p.path=this.absolute,this.emit("error",p)}return this.remain-=F.length,this.blockRemain-=F.length,this.pos+=F.length,this.offset+=F.length,super.write(F)}[I](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[A](F=>F?this.emit("error",F):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[x]()}}),J=class extends Y{[h](){this[l](n.lstatSync(this.absolute))}[w](){this[C](n.readlinkSync(this.absolute))}[y](){this[g](n.openSync(this.absolute,"r"))}[x](){let F=!0;try{let{fd:p,buf:S,offset:N,length:X,pos:T}=this,Z=n.readSync(p,S,N,X,T);this[D](Z),F=!1}finally{if(F)try{this[A](()=>{})}catch{}}}[R](F){F()}[A](F){n.closeSync(this.fd),F()}},et=j(class extends i{constructor(F,p){p=p||{},super(p),this.preservePaths=!!p.preservePaths,this.portable=!!p.portable,this.strict=!!p.strict,this.noPax=!!p.noPax,this.noMtime=!!p.noMtime,this.readEntry=F,this.type=F.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=p.prefix||null,this.path=u(F.path),this.mode=this[B](F.mode),this.uid=this.portable?null:F.uid,this.gid=this.portable?null:F.gid,this.uname=this.portable?null:F.uname,this.gname=this.portable?null:F.gname,this.size=F.size,this.mtime=this.noMtime?null:p.mtime||F.mtime,this.atime=this.portable?null:F.atime,this.ctime=this.portable?null:F.ctime,this.linkpath=u(F.linkpath),typeof p.onwarn=="function"&&this.on("warn",p.onwarn);let S=!1;if(!this.preservePaths){let[N,X]=tt(this.path);N&&(this.path=X,S=N)}this.remain=F.size,this.blockRemain=F.startBlockSize,this.header=new s({path:this[$](this.path),linkpath:this.type==="Link"?this[$](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),S&&this.warn("TAR_ENTRY_INFO",`stripping ${S} from absolute path`,{entry:this,path:S+this.path}),this.header.encode()&&!this.noPax&&super.write(new r({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[$](this.path),linkpath:this.type==="Link"?this[$](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),F.pipe(this)}[$](F){return c(F,this.prefix)}[B](F){return M(F,this.type==="Directory",this.portable)}write(F){let p=F.length;if(p>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=p,super.write(F)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Y.Sync=J,Y.Tar=et;var O=F=>F.isFile()?"File":F.isDirectory()?"Directory":F.isSymbolicLink()?"SymbolicLink":"Unsupported";t.exports=Y}),hr=W((a,t)=>{"use strict";t.exports=function(i){i.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}}),oi=W((a,t)=>{"use strict";t.exports=i,i.Node=e,i.create=i;function i(u){var o=this;if(o instanceof i||(o=new i),o.tail=null,o.head=null,o.length=0,u&&typeof u.forEach=="function")u.forEach(function(b){o.push(b)});else if(arguments.length>0)for(var c=0,d=arguments.length;c<d;c++)o.push(arguments[c]);return o}i.prototype.removeNode=function(u){if(u.list!==this)throw new Error("removing node which does not belong to this list");var o=u.next,c=u.prev;return o&&(o.prev=c),c&&(c.next=o),u===this.head&&(this.head=o),u===this.tail&&(this.tail=c),u.list.length--,u.next=null,u.prev=null,u.list=null,o},i.prototype.unshiftNode=function(u){if(u!==this.head){u.list&&u.list.removeNode(u);var o=this.head;u.list=this,u.next=o,o&&(o.prev=u),this.head=u,this.tail||(this.tail=u),this.length++}},i.prototype.pushNode=function(u){if(u!==this.tail){u.list&&u.list.removeNode(u);var o=this.tail;u.list=this,u.prev=o,o&&(o.next=u),this.tail=u,this.head||(this.head=u),this.length++}},i.prototype.push=function(){for(var u=0,o=arguments.length;u<o;u++)s(this,arguments[u]);return this.length},i.prototype.unshift=function(){for(var u=0,o=arguments.length;u<o;u++)n(this,arguments[u]);return this.length},i.prototype.pop=function(){if(this.tail){var u=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,u}},i.prototype.shift=function(){if(this.head){var u=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,u}},i.prototype.forEach=function(u,o){o=o||this;for(var c=this.head,d=0;c!==null;d++)u.call(o,c.value,d,this),c=c.next},i.prototype.forEachReverse=function(u,o){o=o||this;for(var c=this.tail,d=this.length-1;c!==null;d--)u.call(o,c.value,d,this),c=c.prev},i.prototype.get=function(u){for(var o=0,c=this.head;c!==null&&o<u;o++)c=c.next;if(o===u&&c!==null)return c.value},i.prototype.getReverse=function(u){for(var o=0,c=this.tail;c!==null&&o<u;o++)c=c.prev;if(o===u&&c!==null)return c.value},i.prototype.map=function(u,o){o=o||this;for(var c=new i,d=this.head;d!==null;)c.push(u.call(o,d.value,this)),d=d.next;return c},i.prototype.mapReverse=function(u,o){o=o||this;for(var c=new i,d=this.tail;d!==null;)c.push(u.call(o,d.value,this)),d=d.prev;return c},i.prototype.reduce=function(u,o){var c,d=this.head;if(arguments.length>1)c=o;else if(this.head)d=this.head.next,c=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=0;d!==null;b++)c=u(c,d.value,b),d=d.next;return c},i.prototype.reduceReverse=function(u,o){var c,d=this.tail;if(arguments.length>1)c=o;else if(this.tail)d=this.tail.prev,c=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=this.length-1;d!==null;b--)c=u(c,d.value,b),d=d.prev;return c},i.prototype.toArray=function(){for(var u=new Array(this.length),o=0,c=this.head;c!==null;o++)u[o]=c.value,c=c.next;return u},i.prototype.toArrayReverse=function(){for(var u=new Array(this.length),o=0,c=this.tail;c!==null;o++)u[o]=c.value,c=c.prev;return u},i.prototype.slice=function(u,o){o=o||this.length,o<0&&(o+=this.length),u=u||0,u<0&&(u+=this.length);var c=new i;if(o<u||o<0)return c;u<0&&(u=0),o>this.length&&(o=this.length);for(var d=0,b=this.head;b!==null&&d<u;d++)b=b.next;for(;b!==null&&d<o;d++,b=b.next)c.push(b.value);return c},i.prototype.sliceReverse=function(u,o){o=o||this.length,o<0&&(o+=this.length),u=u||0,u<0&&(u+=this.length);var c=new i;if(o<u||o<0)return c;u<0&&(u=0),o>this.length&&(o=this.length);for(var d=this.length,b=this.tail;b!==null&&d>o;d--)b=b.prev;for(;b!==null&&d>u;d--,b=b.prev)c.push(b.value);return c},i.prototype.splice=function(u,o,...c){u>this.length&&(u=this.length-1),u<0&&(u=this.length+u);for(var d=0,b=this.head;b!==null&&d<u;d++)b=b.next;for(var _=[],d=0;b&&d<o;d++)_.push(b.value),b=this.removeNode(b);b===null&&(b=this.tail),b!==this.head&&b!==this.tail&&(b=b.prev);for(var d=0;d<c.length;d++)b=r(this,b,c[d]);return _},i.prototype.reverse=function(){for(var u=this.head,o=this.tail,c=u;c!==null;c=c.prev){var d=c.prev;c.prev=c.next,c.next=d}return this.head=o,this.tail=u,this};function r(u,o,c){var d=o===u.head?new e(c,null,o,u):new e(c,o,o.next,u);return d.next===null&&(u.tail=d),d.prev===null&&(u.head=d),u.length++,d}function s(u,o){u.tail=new e(o,u.tail,null,u),u.head||(u.head=u.tail),u.length++}function n(u,o){u.head=new e(o,null,u.head,u),u.tail||(u.tail=u.head),u.length++}function e(u,o,c,d){if(!(this instanceof e))return new e(u,o,c,d);this.list=d,this.value=u,o?(o.next=this,this.prev=o):this.prev=null,c?(c.prev=this,this.next=c):this.next=null}try{hr()(i)}catch{}}),pe=W((a,t)=>{"use strict";var i=class{constructor(O,F){this.path=O||"./",this.absolute=F,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:r}=ae(),s=ei(),n=he(),e=ni(),u=e.Sync,o=e.Tar,c=oi(),d=Buffer.alloc(1024),b=Symbol("onStat"),_=Symbol("ended"),f=Symbol("queue"),w=Symbol("current"),m=Symbol("process"),E=Symbol("processing"),x=Symbol("processJob"),h=Symbol("jobs"),l=Symbol("jobDone"),D=Symbol("addFSEntry"),C=Symbol("addTarEntry"),y=Symbol("stat"),g=Symbol("readdir"),A=Symbol("onreaddir"),B=Symbol("pipe"),R=Symbol("entry"),I=Symbol("entryOpt"),$=Symbol("writeEntryClass"),U=Symbol("write"),j=Symbol("ondrain"),G=z("fs"),tt=z("path"),M=ce(),Y=Lt(),J=M(class extends r{constructor(O){if(super(O),O=O||Object.create(null),this.opt=O,this.file=O.file||"",this.cwd=O.cwd||process.cwd(),this.maxReadSize=O.maxReadSize,this.preservePaths=!!O.preservePaths,this.strict=!!O.strict,this.noPax=!!O.noPax,this.prefix=Y(O.prefix||""),this.linkCache=O.linkCache||new Map,this.statCache=O.statCache||new Map,this.readdirCache=O.readdirCache||new Map,this[$]=e,typeof O.onwarn=="function"&&this.on("warn",O.onwarn),this.portable=!!O.portable,this.zip=null,O.gzip||O.brotli){if(O.gzip&&O.brotli)throw new TypeError("gzip and brotli are mutually exclusive");O.gzip&&(typeof O.gzip!="object"&&(O.gzip={}),this.portable&&(O.gzip.portable=!0),this.zip=new s.Gzip(O.gzip)),O.brotli&&(typeof O.brotli!="object"&&(O.brotli={}),this.zip=new s.BrotliCompress(O.brotli)),this.zip.on("data",F=>super.write(F)),this.zip.on("end",F=>super.end()),this.zip.on("drain",F=>this[j]()),this.on("resume",F=>this.zip.resume())}else this.on("drain",this[j]);this.noDirRecurse=!!O.noDirRecurse,this.follow=!!O.follow,this.noMtime=!!O.noMtime,this.mtime=O.mtime||null,this.filter=typeof O.filter=="function"?O.filter:F=>!0,this[f]=new c,this[h]=0,this.jobs=+O.jobs||4,this[E]=!1,this[_]=!1}[U](O){return super.write(O)}add(O){return this.write(O),this}end(O){return O&&this.write(O),this[_]=!0,this[m](),this}write(O){if(this[_])throw new Error("write after end");return O instanceof n?this[C](O):this[D](O),this.flowing}[C](O){let F=Y(tt.resolve(this.cwd,O.path));if(!this.filter(O.path,O))O.resume();else{let p=new i(O.path,F,!1);p.entry=new o(O,this[I](p)),p.entry.on("end",S=>this[l](p)),this[h]+=1,this[f].push(p)}this[m]()}[D](O){let F=Y(tt.resolve(this.cwd,O));this[f].push(new i(O,F)),this[m]()}[y](O){O.pending=!0,this[h]+=1;let F=this.follow?"stat":"lstat";G[F](O.absolute,(p,S)=>{O.pending=!1,this[h]-=1,p?this.emit("error",p):this[b](O,S)})}[b](O,F){this.statCache.set(O.absolute,F),O.stat=F,this.filter(O.path,F)||(O.ignore=!0),this[m]()}[g](O){O.pending=!0,this[h]+=1,G.readdir(O.absolute,(F,p)=>{if(O.pending=!1,this[h]-=1,F)return this.emit("error",F);this[A](O,p)})}[A](O,F){this.readdirCache.set(O.absolute,F),O.readdir=F,this[m]()}[m](){if(!this[E]){this[E]=!0;for(let O=this[f].head;O!==null&&this[h]<this.jobs;O=O.next)if(this[x](O.value),O.value.ignore){let F=O.next;this[f].removeNode(O),O.next=F}this[E]=!1,this[_]&&!this[f].length&&this[h]===0&&(this.zip?this.zip.end(d):(super.write(d),super.end()))}}get[w](){return this[f]&&this[f].head&&this[f].head.value}[l](O){this[f].shift(),this[h]-=1,this[m]()}[x](O){if(!O.pending){if(O.entry){O===this[w]&&!O.piped&&this[B](O);return}if(O.stat||(this.statCache.has(O.absolute)?this[b](O,this.statCache.get(O.absolute)):this[y](O)),!!O.stat&&!O.ignore&&!(!this.noDirRecurse&&O.stat.isDirectory()&&!O.readdir&&(this.readdirCache.has(O.absolute)?this[A](O,this.readdirCache.get(O.absolute)):this[g](O),!O.readdir))){if(O.entry=this[R](O),!O.entry){O.ignore=!0;return}O===this[w]&&!O.piped&&this[B](O)}}}[I](O){return{onwarn:(F,p,S)=>this.warn(F,p,S),noPax:this.noPax,cwd:this.cwd,absolute:O.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[R](O){this[h]+=1;try{return new this[$](O.path,this[I](O)).on("end",()=>this[l](O)).on("error",F=>this.emit("error",F))}catch(F){this.emit("error",F)}}[j](){this[w]&&this[w].entry&&this[w].entry.resume()}[B](O){O.piped=!0,O.readdir&&O.readdir.forEach(S=>{let N=O.path,X=N==="./"?"":N.replace(/\/*$/,"/");this[D](X+S)});let F=O.entry,p=this.zip;p?F.on("data",S=>{p.write(S)||F.pause()}):F.on("data",S=>{super.write(S)||F.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),et=class extends J{constructor(O){super(O),this[$]=u}pause(){}resume(){}[y](O){let F=this.follow?"statSync":"lstatSync";this[b](O,G[F](O.absolute))}[g](O,F){this[A](O,G.readdirSync(O.absolute))}[B](O){let F=O.entry,p=this.zip;O.readdir&&O.readdir.forEach(S=>{let N=O.path,X=N==="./"?"":N.replace(/\/*$/,"/");this[D](X+S)}),p?F.on("data",S=>{p.write(S)}):F.on("data",S=>{super[U](S)})}};J.Sync=et,t.exports=J}),lr=W((a,t)=>{"use strict";var i=typeof process=="object"&&process?process:{stdout:null,stderr:null},r=z("events"),s=z("stream"),n=z("string_decoder").StringDecoder,e=Symbol("EOF"),u=Symbol("maybeEmitEnd"),o=Symbol("emittedEnd"),c=Symbol("emittingEnd"),d=Symbol("emittedError"),b=Symbol("closed"),_=Symbol("read"),f=Symbol("flush"),w=Symbol("flushChunk"),m=Symbol("encoding"),E=Symbol("decoder"),x=Symbol("flowing"),h=Symbol("paused"),l=Symbol("resume"),D=Symbol("bufferLength"),C=Symbol("bufferPush"),y=Symbol("bufferShift"),g=Symbol("objectMode"),A=Symbol("destroyed"),B=Symbol("emitData"),R=Symbol("emitEnd"),I=Symbol("emitEnd2"),$=Symbol("async"),U=F=>Promise.resolve().then(F),j=global._MP_NO_ITERATOR_SYMBOLS_!=="1",G=j&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),tt=j&&Symbol.iterator||Symbol("iterator not implemented"),M=F=>F==="end"||F==="finish"||F==="prefinish",Y=F=>F instanceof ArrayBuffer||typeof F=="object"&&F.constructor&&F.constructor.name==="ArrayBuffer"&&F.byteLength>=0,J=F=>!Buffer.isBuffer(F)&&ArrayBuffer.isView(F),et=class{constructor(F,p,S){this.src=F,this.dest=p,this.opts=S,this.ondrain=()=>F[l](),p.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},O=class extends et{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(F,p,S){super(F,p,S),this.proxyErrors=N=>p.emit("error",N),F.on("error",this.proxyErrors)}};t.exports=class ui extends s{constructor(p){super(),this[x]=!1,this[h]=!1,this.pipes=[],this.buffer=[],this[g]=p&&p.objectMode||!1,this[g]?this[m]=null:this[m]=p&&p.encoding||null,this[m]==="buffer"&&(this[m]=null),this[$]=p&&!!p.async||!1,this[E]=this[m]?new n(this[m]):null,this[e]=!1,this[o]=!1,this[c]=!1,this[b]=!1,this[d]=null,this.writable=!0,this.readable=!0,this[D]=0,this[A]=!1}get bufferLength(){return this[D]}get encoding(){return this[m]}set encoding(p){if(this[g])throw new Error("cannot set encoding in objectMode");if(this[m]&&p!==this[m]&&(this[E]&&this[E].lastNeed||this[D]))throw new Error("cannot change encoding");this[m]!==p&&(this[E]=p?new n(p):null,this.buffer.length&&(this.buffer=this.buffer.map(S=>this[E].write(S)))),this[m]=p}setEncoding(p){this.encoding=p}get objectMode(){return this[g]}set objectMode(p){this[g]=this[g]||!!p}get async(){return this[$]}set async(p){this[$]=this[$]||!!p}write(p,S,N){if(this[e])throw new Error("write after end");if(this[A])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof S=="function"&&(N=S,S="utf8"),S||(S="utf8");let X=this[$]?U:T=>T();return!this[g]&&!Buffer.isBuffer(p)&&(J(p)?p=Buffer.from(p.buffer,p.byteOffset,p.byteLength):Y(p)?p=Buffer.from(p):typeof p!="string"&&(this.objectMode=!0)),this[g]?(this.flowing&&this[D]!==0&&this[f](!0),this.flowing?this.emit("data",p):this[C](p),this[D]!==0&&this.emit("readable"),N&&X(N),this.flowing):p.length?(typeof p=="string"&&!(S===this[m]&&!this[E].lastNeed)&&(p=Buffer.from(p,S)),Buffer.isBuffer(p)&&this[m]&&(p=this[E].write(p)),this.flowing&&this[D]!==0&&this[f](!0),this.flowing?this.emit("data",p):this[C](p),this[D]!==0&&this.emit("readable"),N&&X(N),this.flowing):(this[D]!==0&&this.emit("readable"),N&&X(N),this.flowing)}read(p){if(this[A])return null;if(this[D]===0||p===0||p>this[D])return this[u](),null;this[g]&&(p=null),this.buffer.length>1&&!this[g]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[D])]);let S=this[_](p||null,this.buffer[0]);return this[u](),S}[_](p,S){return p===S.length||p===null?this[y]():(this.buffer[0]=S.slice(p),S=S.slice(0,p),this[D]-=p),this.emit("data",S),!this.buffer.length&&!this[e]&&this.emit("drain"),S}end(p,S,N){return typeof p=="function"&&(N=p,p=null),typeof S=="function"&&(N=S,S="utf8"),p&&this.write(p,S),N&&this.once("end",N),this[e]=!0,this.writable=!1,(this.flowing||!this[h])&&this[u](),this}[l](){this[A]||(this[h]=!1,this[x]=!0,this.emit("resume"),this.buffer.length?this[f]():this[e]?this[u]():this.emit("drain"))}resume(){return this[l]()}pause(){this[x]=!1,this[h]=!0}get destroyed(){return this[A]}get flowing(){return this[x]}get paused(){return this[h]}[C](p){this[g]?this[D]+=1:this[D]+=p.length,this.buffer.push(p)}[y](){return this.buffer.length&&(this[g]?this[D]-=1:this[D]-=this.buffer[0].length),this.buffer.shift()}[f](p){do;while(this[w](this[y]()));!p&&!this.buffer.length&&!this[e]&&this.emit("drain")}[w](p){return p?(this.emit("data",p),this.flowing):!1}pipe(p,S){if(this[A])return;let N=this[o];return S=S||{},p===i.stdout||p===i.stderr?S.end=!1:S.end=S.end!==!1,S.proxyErrors=!!S.proxyErrors,N?S.end&&p.end():(this.pipes.push(S.proxyErrors?new O(this,p,S):new et(this,p,S)),this[$]?U(()=>this[l]()):this[l]()),p}unpipe(p){let S=this.pipes.find(N=>N.dest===p);S&&(this.pipes.splice(this.pipes.indexOf(S),1),S.unpipe())}addListener(p,S){return this.on(p,S)}on(p,S){let N=super.on(p,S);return p==="data"&&!this.pipes.length&&!this.flowing?this[l]():p==="readable"&&this[D]!==0?super.emit("readable"):M(p)&&this[o]?(super.emit(p),this.removeAllListeners(p)):p==="error"&&this[d]&&(this[$]?U(()=>S.call(this,this[d])):S.call(this,this[d])),N}get emittedEnd(){return this[o]}[u](){!this[c]&&!this[o]&&!this[A]&&this.buffer.length===0&&this[e]&&(this[c]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[b]&&this.emit("close"),this[c]=!1)}emit(p,S,...N){if(p!=="error"&&p!=="close"&&p!==A&&this[A])return;if(p==="data")return S?this[$]?U(()=>this[B](S)):this[B](S):!1;if(p==="end")return this[R]();if(p==="close"){if(this[b]=!0,!this[o]&&!this[A])return;let T=super.emit("close");return this.removeAllListeners("close"),T}else if(p==="error"){this[d]=S;let T=super.emit("error",S);return this[u](),T}else if(p==="resume"){let T=super.emit("resume");return this[u](),T}else if(p==="finish"||p==="prefinish"){let T=super.emit(p);return this.removeAllListeners(p),T}let X=super.emit(p,S,...N);return this[u](),X}[B](p){for(let N of this.pipes)N.dest.write(p)===!1&&this.pause();let S=super.emit("data",p);return this[u](),S}[R](){this[o]||(this[o]=!0,this.readable=!1,this[$]?U(()=>this[I]()):this[I]())}[I](){if(this[E]){let S=this[E].end();if(S){for(let N of this.pipes)N.dest.write(S);super.emit("data",S)}}for(let S of this.pipes)S.end();let p=super.emit("end");return this.removeAllListeners("end"),p}collect(){let p=[];this[g]||(p.dataLength=0);let S=this.promise();return this.on("data",N=>{p.push(N),this[g]||(p.dataLength+=N.length)}),S.then(()=>p)}concat(){return this[g]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(p=>this[g]?Promise.reject(new Error("cannot concat in objectMode")):this[m]?p.join(""):Buffer.concat(p,p.dataLength))}promise(){return new Promise((p,S)=>{this.on(A,()=>S(new Error("stream destroyed"))),this.on("error",N=>S(N)),this.on("end",()=>p())})}[G](){return{next:()=>{let p=this.read();if(p!==null)return Promise.resolve({done:!1,value:p});if(this[e])return Promise.resolve({done:!0});let S=null,N=null,X=k=>{this.removeListener("data",T),this.removeListener("end",Z),N(k)},T=k=>{this.removeListener("error",X),this.removeListener("end",Z),this.pause(),S({value:k,done:!!this[e]})},Z=()=>{this.removeListener("error",X),this.removeListener("data",T),S({done:!0})},q=()=>X(new Error("stream destroyed"));return new Promise((k,L)=>{N=L,S=k,this.once(A,q),this.once("error",X),this.once("end",Z),this.once("data",T)})}}}[tt](){return{next:()=>{let p=this.read();return{value:p,done:p===null}}}}destroy(p){return this[A]?(p?this.emit("error",p):this.emit(A),this):(this[A]=!0,this.buffer.length=0,this[D]=0,typeof this.close=="function"&&!this[b]&&this.close(),p?this.emit("error",p):this.emit(A),this)}static isStream(p){return!!p&&(p instanceof ui||p instanceof s||p instanceof r&&(typeof p.pipe=="function"||typeof p.write=="function"&&typeof p.end=="function"))}}}),Mt=W(a=>{"use strict";var t=lr(),i=z("events").EventEmitter,r=z("fs"),s=r.writev;if(!s){let O=process.binding("fs"),F=O.FSReqWrap||O.FSReqCallback;s=(p,S,N,X)=>{let T=(q,k)=>X(q,k,S),Z=new F;Z.oncomplete=T,O.writeBuffers(p,S,N,Z)}}var n=Symbol("_autoClose"),e=Symbol("_close"),u=Symbol("_ended"),o=Symbol("_fd"),c=Symbol("_finished"),d=Symbol("_flags"),b=Symbol("_flush"),_=Symbol("_handleChunk"),f=Symbol("_makeBuf"),w=Symbol("_mode"),m=Symbol("_needDrain"),E=Symbol("_onerror"),x=Symbol("_onopen"),h=Symbol("_onread"),l=Symbol("_onwrite"),D=Symbol("_open"),C=Symbol("_path"),y=Symbol("_pos"),g=Symbol("_queue"),A=Symbol("_read"),B=Symbol("_readSize"),R=Symbol("_reading"),I=Symbol("_remain"),$=Symbol("_size"),U=Symbol("_write"),j=Symbol("_writing"),G=Symbol("_defaultFlag"),tt=Symbol("_errored"),M=class extends t{constructor(O,F){if(F=F||{},super(F),this.readable=!0,this.writable=!1,typeof O!="string")throw new TypeError("path must be a string");this[tt]=!1,this[o]=typeof F.fd=="number"?F.fd:null,this[C]=O,this[B]=F.readSize||16*1024*1024,this[R]=!1,this[$]=typeof F.size=="number"?F.size:1/0,this[I]=this[$],this[n]=typeof F.autoClose=="boolean"?F.autoClose:!0,typeof this[o]=="number"?this[A]():this[D]()}get fd(){return this[o]}get path(){return this[C]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[D](){r.open(this[C],"r",(O,F)=>this[x](O,F))}[x](O,F){O?this[E](O):(this[o]=F,this.emit("open",F),this[A]())}[f](){return Buffer.allocUnsafe(Math.min(this[B],this[I]))}[A](){if(!this[R]){this[R]=!0;let O=this[f]();if(O.length===0)return process.nextTick(()=>this[h](null,0,O));r.read(this[o],O,0,O.length,null,(F,p,S)=>this[h](F,p,S))}}[h](O,F,p){this[R]=!1,O?this[E](O):this[_](F,p)&&this[A]()}[e](){if(this[n]&&typeof this[o]=="number"){let O=this[o];this[o]=null,r.close(O,F=>F?this.emit("error",F):this.emit("close"))}}[E](O){this[R]=!0,this[e](),this.emit("error",O)}[_](O,F){let p=!1;return this[I]-=O,O>0&&(p=super.write(O<F.length?F.slice(0,O):F)),(O===0||this[I]<=0)&&(p=!1,this[e](),super.end()),p}emit(O,F){switch(O){case"prefinish":case"finish":break;case"drain":typeof this[o]=="number"&&this[A]();break;case"error":return this[tt]?void 0:(this[tt]=!0,super.emit(O,F));default:return super.emit(O,F)}}},Y=class extends M{[D](){let O=!0;try{this[x](null,r.openSync(this[C],"r")),O=!1}finally{O&&this[e]()}}[A](){let O=!0;try{if(!this[R]){this[R]=!0;do{let F=this[f](),p=F.length===0?0:r.readSync(this[o],F,0,F.length,null);if(!this[_](p,F))break}while(!0);this[R]=!1}O=!1}finally{O&&this[e]()}}[e](){if(this[n]&&typeof this[o]=="number"){let O=this[o];this[o]=null,r.closeSync(O),this.emit("close")}}},J=class extends i{constructor(O,F){F=F||{},super(F),this.readable=!1,this.writable=!0,this[tt]=!1,this[j]=!1,this[u]=!1,this[m]=!1,this[g]=[],this[C]=O,this[o]=typeof F.fd=="number"?F.fd:null,this[w]=F.mode===void 0?438:F.mode,this[y]=typeof F.start=="number"?F.start:null,this[n]=typeof F.autoClose=="boolean"?F.autoClose:!0;let p=this[y]!==null?"r+":"w";this[G]=F.flags===void 0,this[d]=this[G]?p:F.flags,this[o]===null&&this[D]()}emit(O,F){if(O==="error"){if(this[tt])return;this[tt]=!0}return super.emit(O,F)}get fd(){return this[o]}get path(){return this[C]}[E](O){this[e](),this[j]=!0,this.emit("error",O)}[D](){r.open(this[C],this[d],this[w],(O,F)=>this[x](O,F))}[x](O,F){this[G]&&this[d]==="r+"&&O&&O.code==="ENOENT"?(this[d]="w",this[D]()):O?this[E](O):(this[o]=F,this.emit("open",F),this[b]())}end(O,F){return O&&this.write(O,F),this[u]=!0,!this[j]&&!this[g].length&&typeof this[o]=="number"&&this[l](null,0),this}write(O,F){return typeof O=="string"&&(O=Buffer.from(O,F)),this[u]?(this.emit("error",new Error("write() after end()")),!1):this[o]===null||this[j]||this[g].length?(this[g].push(O),this[m]=!0,!1):(this[j]=!0,this[U](O),!0)}[U](O){r.write(this[o],O,0,O.length,this[y],(F,p)=>this[l](F,p))}[l](O,F){O?this[E](O):(this[y]!==null&&(this[y]+=F),this[g].length?this[b]():(this[j]=!1,this[u]&&!this[c]?(this[c]=!0,this[e](),this.emit("finish")):this[m]&&(this[m]=!1,this.emit("drain"))))}[b](){if(this[g].length===0)this[u]&&this[l](null,0);else if(this[g].length===1)this[U](this[g].pop());else{let O=this[g];this[g]=[],s(this[o],O,this[y],(F,p)=>this[l](F,p))}}[e](){if(this[n]&&typeof this[o]=="number"){let O=this[o];this[o]=null,r.close(O,F=>F?this.emit("error",F):this.emit("close"))}}},et=class extends J{[D](){let O;if(this[G]&&this[d]==="r+")try{O=r.openSync(this[C],this[d],this[w])}catch(F){if(F.code==="ENOENT")return this[d]="w",this[D]();throw F}else O=r.openSync(this[C],this[d],this[w]);this[x](null,O)}[e](){if(this[n]&&typeof this[o]=="number"){let O=this[o];this[o]=null,r.closeSync(O),this.emit("close")}}[U](O){let F=!0;try{this[l](null,r.writeSync(this[o],O,0,O.length,this[y])),F=!1}finally{if(F)try{this[e]()}catch{}}}};a.ReadStream=M,a.ReadStreamSync=Y,a.WriteStream=J,a.WriteStreamSync=et}),de=W((a,t)=>{"use strict";var i=ce(),r=It(),s=z("events"),n=oi(),e=1024*1024,u=he(),o=le(),c=ei(),{nextTick:d}=z("process"),b=Buffer.from([31,139]),_=Symbol("state"),f=Symbol("writeEntry"),w=Symbol("readEntry"),m=Symbol("nextEntry"),E=Symbol("processEntry"),x=Symbol("extendedHeader"),h=Symbol("globalExtendedHeader"),l=Symbol("meta"),D=Symbol("emitMeta"),C=Symbol("buffer"),y=Symbol("queue"),g=Symbol("ended"),A=Symbol("emittedEnd"),B=Symbol("emit"),R=Symbol("unzip"),I=Symbol("consumeChunk"),$=Symbol("consumeChunkSub"),U=Symbol("consumeBody"),j=Symbol("consumeMeta"),G=Symbol("consumeHeader"),tt=Symbol("consuming"),M=Symbol("bufferConcat"),Y=Symbol("maybeEnd"),J=Symbol("writing"),et=Symbol("aborted"),O=Symbol("onDone"),F=Symbol("sawValidEntry"),p=Symbol("sawNullBlock"),S=Symbol("sawEOF"),N=Symbol("closeStream"),X=T=>!0;t.exports=i(class extends s{constructor(T){T=T||{},super(T),this.file=T.file||"",this[F]=null,this.on(O,q=>{(this[_]==="begin"||this[F]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),T.ondone?this.on(O,T.ondone):this.on(O,q=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!T.strict,this.maxMetaEntrySize=T.maxMetaEntrySize||e,this.filter=typeof T.filter=="function"?T.filter:X;let Z=T.file&&(T.file.endsWith(".tar.br")||T.file.endsWith(".tbr"));this.brotli=!T.gzip&&T.brotli!==void 0?T.brotli:Z?void 0:!1,this.writable=!0,this.readable=!1,this[y]=new n,this[C]=null,this[w]=null,this[f]=null,this[_]="begin",this[l]="",this[x]=null,this[h]=null,this[g]=!1,this[R]=null,this[et]=!1,this[p]=!1,this[S]=!1,this.on("end",()=>this[N]()),typeof T.onwarn=="function"&&this.on("warn",T.onwarn),typeof T.onentry=="function"&&this.on("entry",T.onentry)}[G](T,Z){this[F]===null&&(this[F]=!1);let q;try{q=new r(T,Z,this[x],this[h])}catch(k){return this.warn("TAR_ENTRY_INVALID",k)}if(q.nullBlock)this[p]?(this[S]=!0,this[_]==="begin"&&(this[_]="header"),this[B]("eof")):(this[p]=!0,this[B]("nullBlock"));else if(this[p]=!1,!q.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:q});else if(!q.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:q});else{let k=q.type;if(/^(Symbolic)?Link$/.test(k)&&!q.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:q});else if(!/^(Symbolic)?Link$/.test(k)&&q.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:q});else{let L=this[f]=new u(q,this[x],this[h]);if(!this[F])if(L.remain){let K=()=>{L.invalid||(this[F]=!0)};L.on("end",K)}else this[F]=!0;L.meta?L.size>this.maxMetaEntrySize?(L.ignore=!0,this[B]("ignoredEntry",L),this[_]="ignore",L.resume()):L.size>0&&(this[l]="",L.on("data",K=>this[l]+=K),this[_]="meta"):(this[x]=null,L.ignore=L.ignore||!this.filter(L.path,L),L.ignore?(this[B]("ignoredEntry",L),this[_]=L.remain?"ignore":"header",L.resume()):(L.remain?this[_]="body":(this[_]="header",L.end()),this[w]?this[y].push(L):(this[y].push(L),this[m]())))}}}[N](){d(()=>this.emit("close"))}[E](T){let Z=!0;return T?Array.isArray(T)?this.emit.apply(this,T):(this[w]=T,this.emit("entry",T),T.emittedEnd||(T.on("end",q=>this[m]()),Z=!1)):(this[w]=null,Z=!1),Z}[m](){do;while(this[E](this[y].shift()));if(!this[y].length){let T=this[w];!T||T.flowing||T.size===T.remain?this[J]||this.emit("drain"):T.once("drain",Z=>this.emit("drain"))}}[U](T,Z){let q=this[f],k=q.blockRemain,L=k>=T.length&&Z===0?T:T.slice(Z,Z+k);return q.write(L),q.blockRemain||(this[_]="header",this[f]=null,q.end()),L.length}[j](T,Z){let q=this[f],k=this[U](T,Z);return this[f]||this[D](q),k}[B](T,Z,q){!this[y].length&&!this[w]?this.emit(T,Z,q):this[y].push([T,Z,q])}[D](T){switch(this[B]("meta",this[l]),T.type){case"ExtendedHeader":case"OldExtendedHeader":this[x]=o.parse(this[l],this[x],!1);break;case"GlobalExtendedHeader":this[h]=o.parse(this[l],this[h],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[x]=this[x]||Object.create(null),this[x].path=this[l].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[x]=this[x]||Object.create(null),this[x].linkpath=this[l].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+T.type)}}abort(T){this[et]=!0,this.emit("abort",T),this.warn("TAR_ABORT",T,{recoverable:!1})}write(T){if(this[et])return;if((this[R]===null||this.brotli===void 0&&this[R]===!1)&&T){if(this[C]&&(T=Buffer.concat([this[C],T]),this[C]=null),T.length<b.length)return this[C]=T,!0;for(let k=0;this[R]===null&&k<b.length;k++)T[k]!==b[k]&&(this[R]=!1);let q=this.brotli===void 0;if(this[R]===!1&&q)if(T.length<512)if(this[g])this.brotli=!0;else return this[C]=T,!0;else try{new r(T.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[R]===null||this[R]===!1&&this.brotli){let k=this[g];this[g]=!1,this[R]=this[R]===null?new c.Unzip:new c.BrotliDecompress,this[R].on("data",K=>this[I](K)),this[R].on("error",K=>this.abort(K)),this[R].on("end",K=>{this[g]=!0,this[I]()}),this[J]=!0;let L=this[R][k?"end":"write"](T);return this[J]=!1,L}}this[J]=!0,this[R]?this[R].write(T):this[I](T),this[J]=!1;let Z=this[y].length?!1:this[w]?this[w].flowing:!0;return!Z&&!this[y].length&&this[w].once("drain",q=>this.emit("drain")),Z}[M](T){T&&!this[et]&&(this[C]=this[C]?Buffer.concat([this[C],T]):T)}[Y](){if(this[g]&&!this[A]&&!this[et]&&!this[tt]){this[A]=!0;let T=this[f];if(T&&T.blockRemain){let Z=this[C]?this[C].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${T.blockRemain} more bytes, only ${Z} available)`,{entry:T}),this[C]&&T.write(this[C]),T.end()}this[B](O)}}[I](T){if(this[tt])this[M](T);else if(!T&&!this[C])this[Y]();else{if(this[tt]=!0,this[C]){this[M](T);let Z=this[C];this[C]=null,this[$](Z)}else this[$](T);for(;this[C]&&this[C].length>=512&&!this[et]&&!this[S];){let Z=this[C];this[C]=null,this[$](Z)}this[tt]=!1}(!this[C]||this[g])&&this[Y]()}[$](T){let Z=0,q=T.length;for(;Z+512<=q&&!this[et]&&!this[S];)switch(this[_]){case"begin":case"header":this[G](T,Z),Z+=512;break;case"ignore":case"body":Z+=this[U](T,Z);break;case"meta":Z+=this[j](T,Z);break;default:throw new Error("invalid state: "+this[_])}Z<q&&(this[C]?this[C]=Buffer.concat([T.slice(Z),this[C]]):this[C]=T.slice(Z))}end(T){this[et]||(this[R]?this[R].end(T):(this[g]=!0,this.brotli===void 0&&(T=T||Buffer.alloc(0)),this.write(T)))}})}),De=W((a,t)=>{"use strict";var i=$t(),r=de(),s=z("fs"),n=Mt(),e=z("path"),u=Nt();t.exports=(f,w,m)=>{typeof f=="function"?(m=f,w=null,f={}):Array.isArray(f)&&(w=f,f={}),typeof w=="function"&&(m=w,w=null),w?w=Array.from(w):w=[];let E=i(f);if(E.sync&&typeof m=="function")throw new TypeError("callback not supported for sync tar functions");if(!E.file&&typeof m=="function")throw new TypeError("callback only supported with file option");return w.length&&c(E,w),E.noResume||o(E),E.file&&E.sync?d(E):E.file?b(E,m):_(E)};var o=f=>{let w=f.onentry;f.onentry=w?m=>{w(m),m.resume()}:m=>m.resume()},c=(f,w)=>{let m=new Map(w.map(h=>[u(h),!0])),E=f.filter,x=(h,l)=>{let D=l||e.parse(h).root||".",C=h===D?!1:m.has(h)?m.get(h):x(e.dirname(h),D);return m.set(h,C),C};f.filter=E?(h,l)=>E(h,l)&&x(u(h)):h=>x(u(h))},d=f=>{let w=_(f),m=f.file,E=!0,x;try{let h=s.statSync(m),l=f.maxReadSize||16*1024*1024;if(h.size<l)w.end(s.readFileSync(m));else{let D=0,C=Buffer.allocUnsafe(l);for(x=s.openSync(m,"r");D<h.size;){let y=s.readSync(x,C,0,l,D);D+=y,w.write(C.slice(0,y))}w.end()}E=!1}finally{if(E&&x)try{s.closeSync(x)}catch{}}},b=(f,w)=>{let m=new r(f),E=f.maxReadSize||16*1024*1024,x=f.file,h=new Promise((l,D)=>{m.on("error",D),m.on("end",l),s.stat(x,(C,y)=>{if(C)D(C);else{let g=new n.ReadStream(x,{readSize:E,size:y.size});g.on("error",D),g.pipe(m)}})});return w?h.then(w,w):h},_=f=>new r(f)}),cr=W((a,t)=>{"use strict";var i=$t(),r=pe(),s=Mt(),n=De(),e=z("path");t.exports=(f,w,m)=>{if(typeof w=="function"&&(m=w),Array.isArray(f)&&(w=f,f={}),!w||!Array.isArray(w)||!w.length)throw new TypeError("no files or directories specified");w=Array.from(w);let E=i(f);if(E.sync&&typeof m=="function")throw new TypeError("callback not supported for sync tar functions");if(!E.file&&typeof m=="function")throw new TypeError("callback only supported with file option");return E.file&&E.sync?u(E,w):E.file?o(E,w,m):E.sync?b(E,w):_(E,w)};var u=(f,w)=>{let m=new r.Sync(f),E=new s.WriteStreamSync(f.file,{mode:f.mode||438});m.pipe(E),c(m,w)},o=(f,w,m)=>{let E=new r(f),x=new s.WriteStream(f.file,{mode:f.mode||438});E.pipe(x);let h=new Promise((l,D)=>{x.on("error",D),x.on("close",l),E.on("error",D)});return d(E,w),m?h.then(m,m):h},c=(f,w)=>{w.forEach(m=>{m.charAt(0)==="@"?n({file:e.resolve(f.cwd,m.slice(1)),sync:!0,noResume:!0,onentry:E=>f.add(E)}):f.add(m)}),f.end()},d=(f,w)=>{for(;w.length;){let m=w.shift();if(m.charAt(0)==="@")return n({file:e.resolve(f.cwd,m.slice(1)),noResume:!0,onentry:E=>f.add(E)}).then(E=>d(f,w));f.add(m)}f.end()},b=(f,w)=>{let m=new r.Sync(f);return c(m,w),m},_=(f,w)=>{let m=new r(f);return d(m,w),m}}),ai=W((a,t)=>{"use strict";var i=$t(),r=pe(),s=z("fs"),n=Mt(),e=De(),u=z("path"),o=It();t.exports=(w,m,E)=>{let x=i(w);if(!x.file)throw new TypeError("file is required");if(x.gzip||x.brotli||x.file.endsWith(".br")||x.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!m||!Array.isArray(m)||!m.length)throw new TypeError("no files or directories specified");return m=Array.from(m),x.sync?c(x,m):b(x,m,E)};var c=(w,m)=>{let E=new r.Sync(w),x=!0,h,l;try{try{h=s.openSync(w.file,"r+")}catch(y){if(y.code==="ENOENT")h=s.openSync(w.file,"w+");else throw y}let D=s.fstatSync(h),C=Buffer.alloc(512);t:for(l=0;l<D.size;l+=512){for(let A=0,B=0;A<512;A+=B){if(B=s.readSync(h,C,A,C.length-A,l+A),l===0&&C[0]===31&&C[1]===139)throw new Error("cannot append to compressed archives");if(!B)break t}let y=new o(C);if(!y.cksumValid)break;let g=512*Math.ceil(y.size/512);if(l+g+512>D.size)break;l+=g,w.mtimeCache&&w.mtimeCache.set(y.path,y.mtime)}x=!1,d(w,E,l,h,m)}finally{if(x)try{s.closeSync(h)}catch{}}},d=(w,m,E,x,h)=>{let l=new n.WriteStreamSync(w.file,{fd:x,start:E});m.pipe(l),_(m,h)},b=(w,m,E)=>{m=Array.from(m);let x=new r(w),h=(D,C,y)=>{let g=($,U)=>{$?s.close(D,j=>y($)):y(null,U)},A=0;if(C===0)return g(null,0);let B=0,R=Buffer.alloc(512),I=($,U)=>{if($)return g($);if(B+=U,B<512&&U)return s.read(D,R,B,R.length-B,A+B,I);if(A===0&&R[0]===31&&R[1]===139)return g(new Error("cannot append to compressed archives"));if(B<512)return g(null,A);let j=new o(R);if(!j.cksumValid)return g(null,A);let G=512*Math.ceil(j.size/512);if(A+G+512>C||(A+=G+512,A>=C))return g(null,A);w.mtimeCache&&w.mtimeCache.set(j.path,j.mtime),B=0,s.read(D,R,0,512,A,I)};s.read(D,R,0,512,A,I)},l=new Promise((D,C)=>{x.on("error",C);let y="r+",g=(A,B)=>{if(A&&A.code==="ENOENT"&&y==="r+")return y="w+",s.open(w.file,y,g);if(A)return C(A);s.fstat(B,(R,I)=>{if(R)return s.close(B,()=>C(R));h(B,I.size,($,U)=>{if($)return C($);let j=new n.WriteStream(w.file,{fd:B,start:U});x.pipe(j),j.on("error",C),j.on("close",D),f(x,m)})})};s.open(w.file,y,g)});return E?l.then(E,E):l},_=(w,m)=>{m.forEach(E=>{E.charAt(0)==="@"?e({file:u.resolve(w.cwd,E.slice(1)),sync:!0,noResume:!0,onentry:x=>w.add(x)}):w.add(E)}),w.end()},f=(w,m)=>{for(;m.length;){let E=m.shift();if(E.charAt(0)==="@")return e({file:u.resolve(w.cwd,E.slice(1)),noResume:!0,onentry:x=>w.add(x)}).then(x=>f(w,m));w.add(E)}w.end()}}),pr=W((a,t)=>{"use strict";var i=$t(),r=ai();t.exports=(n,e,u)=>{let o=i(n);if(!o.file)throw new TypeError("file is required");if(o.gzip||o.brotli||o.file.endsWith(".br")||o.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),s(o),r(o,e,u)};var s=n=>{let e=n.filter;n.mtimeCache||(n.mtimeCache=new Map),n.filter=e?(u,o)=>e(u,o)&&!(n.mtimeCache.get(u)>o.mtime):(u,o)=>!(n.mtimeCache.get(u)>o.mtime)}}),dr=W((a,t)=>{var{promisify:i}=z("util"),r=z("fs"),s=n=>{if(!n)n={mode:511,fs:r};else if(typeof n=="object")n={mode:511,fs:r,...n};else if(typeof n=="number")n={mode:n,fs:r};else if(typeof n=="string")n={mode:parseInt(n,8),fs:r};else throw new TypeError("invalid options argument");return n.mkdir=n.mkdir||n.fs.mkdir||r.mkdir,n.mkdirAsync=i(n.mkdir),n.stat=n.stat||n.fs.stat||r.stat,n.statAsync=i(n.stat),n.statSync=n.statSync||n.fs.statSync||r.statSync,n.mkdirSync=n.mkdirSync||n.fs.mkdirSync||r.mkdirSync,n};t.exports=s}),Dr=W((a,t)=>{var i=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:r,parse:s}=z("path"),n=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=r(e),i==="win32"){let u=/[*|"<>?:]/,{root:o}=s(e);if(u.test(e.substr(o.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};t.exports=n}),mr=W((a,t)=>{var{dirname:i}=z("path"),r=(n,e,u=void 0)=>u===e?Promise.resolve():n.statAsync(e).then(o=>o.isDirectory()?u:void 0,o=>o.code==="ENOENT"?r(n,i(e),e):void 0),s=(n,e,u=void 0)=>{if(u!==e)try{return n.statSync(e).isDirectory()?u:void 0}catch(o){return o.code==="ENOENT"?s(n,i(e),e):void 0}};t.exports={findMade:r,findMadeSync:s}}),hi=W((a,t)=>{var{dirname:i}=z("path"),r=(n,e,u)=>{e.recursive=!1;let o=i(n);return o===n?e.mkdirAsync(n,e).catch(c=>{if(c.code!=="EISDIR")throw c}):e.mkdirAsync(n,e).then(()=>u||n,c=>{if(c.code==="ENOENT")return r(o,e).then(d=>r(n,e,d));if(c.code!=="EEXIST"&&c.code!=="EROFS")throw c;return e.statAsync(n).then(d=>{if(d.isDirectory())return u;throw c},()=>{throw c})})},s=(n,e,u)=>{let o=i(n);if(e.recursive=!1,o===n)try{return e.mkdirSync(n,e)}catch(c){if(c.code!=="EISDIR")throw c;return}try{return e.mkdirSync(n,e),u||n}catch(c){if(c.code==="ENOENT")return s(n,e,s(o,e,u));if(c.code!=="EEXIST"&&c.code!=="EROFS")throw c;try{if(!e.statSync(n).isDirectory())throw c}catch{throw c}}};t.exports={mkdirpManual:r,mkdirpManualSync:s}}),fr=W((a,t)=>{var{dirname:i}=z("path"),{findMade:r,findMadeSync:s}=mr(),{mkdirpManual:n,mkdirpManualSync:e}=hi(),u=(c,d)=>(d.recursive=!0,i(c)===c?d.mkdirAsync(c,d):r(d,c).then(b=>d.mkdirAsync(c,d).then(()=>b).catch(_=>{if(_.code==="ENOENT")return n(c,d);throw _}))),o=(c,d)=>{if(d.recursive=!0,i(c)===c)return d.mkdirSync(c,d);let b=s(d,c);try{return d.mkdirSync(c,d),b}catch(_){if(_.code==="ENOENT")return e(c,d);throw _}};t.exports={mkdirpNative:u,mkdirpNativeSync:o}}),gr=W((a,t)=>{var i=z("fs"),r=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,s=r.replace(/^v/,"").split("."),n=+s[0]>10||+s[0]==10&&+s[1]>=12,e=n?o=>o.mkdir===i.mkdir:()=>!1,u=n?o=>o.mkdirSync===i.mkdirSync:()=>!1;t.exports={useNative:e,useNativeSync:u}}),Cr=W((a,t)=>{var i=dr(),r=Dr(),{mkdirpNative:s,mkdirpNativeSync:n}=fr(),{mkdirpManual:e,mkdirpManualSync:u}=hi(),{useNative:o,useNativeSync:c}=gr(),d=(_,f)=>(_=r(_),f=i(f),o(f)?s(_,f):e(_,f)),b=(_,f)=>(_=r(_),f=i(f),c(f)?n(_,f):u(_,f));d.sync=b,d.native=(_,f)=>s(r(_),i(f)),d.manual=(_,f)=>e(r(_),i(f)),d.nativeSync=(_,f)=>n(r(_),i(f)),d.manualSync=(_,f)=>u(r(_),i(f)),t.exports=d}),Er=W((a,t)=>{"use strict";var i=z("fs"),r=z("path"),s=i.lchown?"lchown":"chown",n=i.lchownSync?"lchownSync":"chownSync",e=i.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),u=(l,D,C)=>{try{return i[n](l,D,C)}catch(y){if(y.code!=="ENOENT")throw y}},o=(l,D,C)=>{try{return i.chownSync(l,D,C)}catch(y){if(y.code!=="ENOENT")throw y}},c=e?(l,D,C,y)=>g=>{!g||g.code!=="EISDIR"?y(g):i.chown(l,D,C,y)}:(l,D,C,y)=>y,d=e?(l,D,C)=>{try{return u(l,D,C)}catch(y){if(y.code!=="EISDIR")throw y;o(l,D,C)}}:(l,D,C)=>u(l,D,C),b=process.version,_=(l,D,C)=>i.readdir(l,D,C),f=(l,D)=>i.readdirSync(l,D);/^v4\./.test(b)&&(_=(l,D,C)=>i.readdir(l,C));var w=(l,D,C,y)=>{i[s](l,D,C,c(l,D,C,g=>{y(g&&g.code!=="ENOENT"?g:null)}))},m=(l,D,C,y,g)=>{if(typeof D=="string")return i.lstat(r.resolve(l,D),(A,B)=>{if(A)return g(A.code!=="ENOENT"?A:null);B.name=D,m(l,B,C,y,g)});if(D.isDirectory())E(r.resolve(l,D.name),C,y,A=>{if(A)return g(A);let B=r.resolve(l,D.name);w(B,C,y,g)});else{let A=r.resolve(l,D.name);w(A,C,y,g)}},E=(l,D,C,y)=>{_(l,{withFileTypes:!0},(g,A)=>{if(g){if(g.code==="ENOENT")return y();if(g.code!=="ENOTDIR"&&g.code!=="ENOTSUP")return y(g)}if(g||!A.length)return w(l,D,C,y);let B=A.length,R=null,I=$=>{if(!R){if($)return y(R=$);if(--B===0)return w(l,D,C,y)}};A.forEach($=>m(l,$,D,C,I))})},x=(l,D,C,y)=>{if(typeof D=="string")try{let g=i.lstatSync(r.resolve(l,D));g.name=D,D=g}catch(g){if(g.code==="ENOENT")return;throw g}D.isDirectory()&&h(r.resolve(l,D.name),C,y),d(r.resolve(l,D.name),C,y)},h=(l,D,C)=>{let y;try{y=f(l,{withFileTypes:!0})}catch(g){if(g.code==="ENOENT")return;if(g.code==="ENOTDIR"||g.code==="ENOTSUP")return d(l,D,C);throw g}return y&&y.length&&y.forEach(g=>x(l,g,D,C)),d(l,D,C)};t.exports=E,E.sync=h}),br=W((a,t)=>{"use strict";var i=Cr(),r=z("fs"),s=z("path"),n=Er(),e=Lt(),u=class extends Error{constructor(m,E){super("Cannot extract through symbolic link"),this.path=E,this.symlink=m}get name(){return"SylinkError"}},o=class extends Error{constructor(m,E){super(E+": Cannot cd into '"+m+"'"),this.path=m,this.code=E}get name(){return"CwdError"}},c=(m,E)=>m.get(e(E)),d=(m,E,x)=>m.set(e(E),x),b=(m,E)=>{r.stat(m,(x,h)=>{(x||!h.isDirectory())&&(x=new o(m,x&&x.code||"ENOTDIR")),E(x)})};t.exports=(m,E,x)=>{m=e(m);let h=E.umask,l=E.mode|448,D=(l&h)!==0,C=E.uid,y=E.gid,g=typeof C=="number"&&typeof y=="number"&&(C!==E.processUid||y!==E.processGid),A=E.preserve,B=E.unlink,R=E.cache,I=e(E.cwd),$=(j,G)=>{j?x(j):(d(R,m,!0),G&&g?n(G,C,y,tt=>$(tt)):D?r.chmod(m,l,x):x())};if(R&&c(R,m)===!0)return $();if(m===I)return b(m,$);if(A)return i(m,{mode:l}).then(j=>$(null,j),$);let U=e(s.relative(I,m)).split("/");_(I,U,l,R,B,I,null,$)};var _=(m,E,x,h,l,D,C,y)=>{if(!E.length)return y(null,C);let g=E.shift(),A=e(s.resolve(m+"/"+g));if(c(h,A))return _(A,E,x,h,l,D,C,y);r.mkdir(A,x,f(A,E,x,h,l,D,C,y))},f=(m,E,x,h,l,D,C,y)=>g=>{g?r.lstat(m,(A,B)=>{if(A)A.path=A.path&&e(A.path),y(A);else if(B.isDirectory())_(m,E,x,h,l,D,C,y);else if(l)r.unlink(m,R=>{if(R)return y(R);r.mkdir(m,x,f(m,E,x,h,l,D,C,y))});else{if(B.isSymbolicLink())return y(new u(m,m+"/"+E.join("/")));y(g)}}):(C=C||m,_(m,E,x,h,l,D,C,y))},w=m=>{let E=!1,x="ENOTDIR";try{E=r.statSync(m).isDirectory()}catch(h){x=h.code}finally{if(!E)throw new o(m,x)}};t.exports.sync=(m,E)=>{m=e(m);let x=E.umask,h=E.mode|448,l=(h&x)!==0,D=E.uid,C=E.gid,y=typeof D=="number"&&typeof C=="number"&&(D!==E.processUid||C!==E.processGid),g=E.preserve,A=E.unlink,B=E.cache,R=e(E.cwd),I=j=>{d(B,m,!0),j&&y&&n.sync(j,D,C),l&&r.chmodSync(m,h)};if(B&&c(B,m)===!0)return I();if(m===R)return w(R),I();if(g)return I(i.sync(m,h));let $=e(s.relative(R,m)).split("/"),U=null;for(let j=$.shift(),G=R;j&&(G+="/"+j);j=$.shift())if(G=e(s.resolve(G)),!c(B,G))try{r.mkdirSync(G,h),U=U||G,d(B,G,!0)}catch{let tt=r.lstatSync(G);if(tt.isDirectory()){d(B,G,!0);continue}else if(A){r.unlinkSync(G),r.mkdirSync(G,h),U=U||G,d(B,G,!0);continue}else if(tt.isSymbolicLink())return new u(G,G+"/"+$.join("/"))}return I(U)}}),li=W((a,t)=>{var i=Object.create(null),{hasOwnProperty:r}=Object.prototype;t.exports=s=>(r.call(i,s)||(i[s]=s.normalize("NFD")),i[s])}),yr=W((a,t)=>{var i=z("assert"),r=li(),s=Nt(),{join:n}=z("path"),e=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,u=e==="win32";t.exports=()=>{let o=new Map,c=new Map,d=E=>E.split("/").slice(0,-1).reduce((x,h)=>(x.length&&(h=n(x[x.length-1],h)),x.push(h||"/"),x),[]),b=new Set,_=E=>{let x=c.get(E);if(!x)throw new Error("function does not have any path reservations");return{paths:x.paths.map(h=>o.get(h)),dirs:[...x.dirs].map(h=>o.get(h))}},f=E=>{let{paths:x,dirs:h}=_(E);return x.every(l=>l[0]===E)&&h.every(l=>l[0]instanceof Set&&l[0].has(E))},w=E=>b.has(E)||!f(E)?!1:(b.add(E),E(()=>m(E)),!0),m=E=>{if(!b.has(E))return!1;let{paths:x,dirs:h}=c.get(E),l=new Set;return x.forEach(D=>{let C=o.get(D);i.equal(C[0],E),C.length===1?o.delete(D):(C.shift(),typeof C[0]=="function"?l.add(C[0]):C[0].forEach(y=>l.add(y)))}),h.forEach(D=>{let C=o.get(D);i(C[0]instanceof Set),C[0].size===1&&C.length===1?o.delete(D):C[0].size===1?(C.shift(),l.add(C[0])):C[0].delete(E)}),b.delete(E),l.forEach(D=>w(D)),!0};return{check:f,reserve:(E,x)=>{E=u?["win32 parallelization disabled"]:E.map(l=>s(n(r(l))).toLowerCase());let h=new Set(E.map(l=>d(l)).reduce((l,D)=>l.concat(D)));return c.set(x,{dirs:h,paths:E}),E.forEach(l=>{let D=o.get(l);D?D.push(x):o.set(l,[x])}),h.forEach(l=>{let D=o.get(l);D?D[D.length-1]instanceof Set?D[D.length-1].add(x):D.push(new Set([x])):o.set(l,[new Set([x])])}),w(x)}}}}),Fr=W((a,t)=>{var i=process.env.__FAKE_PLATFORM__||process.platform,r=i==="win32",s=global.__FAKE_TESTING_FS__||z("fs"),{O_CREAT:n,O_TRUNC:e,O_WRONLY:u,UV_FS_O_FILEMAP:o=0}=s.constants,c=r&&!!o,d=512*1024,b=o|e|n|u;t.exports=c?_=>_<d?b:"w":()=>"w"}),ci=W((a,t)=>{"use strict";var i=z("assert"),r=de(),s=z("fs"),n=Mt(),e=z("path"),u=br(),o=ri(),c=yr(),d=si(),b=Lt(),_=Nt(),f=li(),w=Symbol("onEntry"),m=Symbol("checkFs"),E=Symbol("checkFs2"),x=Symbol("pruneCache"),h=Symbol("isReusable"),l=Symbol("makeFs"),D=Symbol("file"),C=Symbol("directory"),y=Symbol("link"),g=Symbol("symlink"),A=Symbol("hardlink"),B=Symbol("unsupported"),R=Symbol("checkPath"),I=Symbol("mkdir"),$=Symbol("onError"),U=Symbol("pending"),j=Symbol("pend"),G=Symbol("unpend"),tt=Symbol("ended"),M=Symbol("maybeClose"),Y=Symbol("skip"),J=Symbol("doChown"),et=Symbol("uid"),O=Symbol("gid"),F=Symbol("checkedCwd"),p=z("crypto"),S=Fr(),N=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,X=N==="win32",T=(v,P)=>{if(!X)return s.unlink(v,P);let V=v+".DELETE."+p.randomBytes(16).toString("hex");s.rename(v,V,Q=>{if(Q)return P(Q);s.unlink(V,P)})},Z=v=>{if(!X)return s.unlinkSync(v);let P=v+".DELETE."+p.randomBytes(16).toString("hex");s.renameSync(v,P),s.unlinkSync(P)},q=(v,P,V)=>v===v>>>0?v:P===P>>>0?P:V,k=v=>_(b(f(v))).toLowerCase(),L=(v,P)=>{P=k(P);for(let V of v.keys()){let Q=k(V);(Q===P||Q.indexOf(P+"/")===0)&&v.delete(V)}},K=v=>{for(let P of v.keys())v.delete(P)},pt=class extends r{constructor(v){if(v||(v={}),v.ondone=P=>{this[tt]=!0,this[M]()},super(v),this[F]=!1,this.reservations=c(),this.transform=typeof v.transform=="function"?v.transform:null,this.writable=!0,this.readable=!1,this[U]=0,this[tt]=!1,this.dirCache=v.dirCache||new Map,typeof v.uid=="number"||typeof v.gid=="number"){if(typeof v.uid!="number"||typeof v.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(v.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=v.uid,this.gid=v.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;v.preserveOwner===void 0&&typeof v.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!v.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=v.forceChown===!0,this.win32=!!v.win32||X,this.newer=!!v.newer,this.keep=!!v.keep,this.noMtime=!!v.noMtime,this.preservePaths=!!v.preservePaths,this.unlink=!!v.unlink,this.cwd=b(e.resolve(v.cwd||process.cwd())),this.strip=+v.strip||0,this.processUmask=v.noChmod?0:process.umask(),this.umask=typeof v.umask=="number"?v.umask:this.processUmask,this.dmode=v.dmode||511&~this.umask,this.fmode=v.fmode||438&~this.umask,this.on("entry",P=>this[w](P))}warn(v,P,V={}){return(v==="TAR_BAD_ARCHIVE"||v==="TAR_ABORT")&&(V.recoverable=!1),super.warn(v,P,V)}[M](){this[tt]&&this[U]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[R](v){if(this.strip){let P=b(v.path).split("/");if(P.length<this.strip)return!1;if(v.path=P.slice(this.strip).join("/"),v.type==="Link"){let V=b(v.linkpath).split("/");if(V.length>=this.strip)v.linkpath=V.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let P=b(v.path),V=P.split("/");if(V.includes("..")||X&&/^[a-z]:\.\.$/i.test(V[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:v,path:P}),!1;let[Q,it]=d(P);Q&&(v.path=it,this.warn("TAR_ENTRY_INFO",`stripping ${Q} from absolute path`,{entry:v,path:P}))}if(e.isAbsolute(v.path)?v.absolute=b(e.resolve(v.path)):v.absolute=b(e.resolve(this.cwd,v.path)),!this.preservePaths&&v.absolute.indexOf(this.cwd+"/")!==0&&v.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:v,path:b(v.path),resolvedPath:v.absolute,cwd:this.cwd}),!1;if(v.absolute===this.cwd&&v.type!=="Directory"&&v.type!=="GNUDumpDir")return!1;if(this.win32){let{root:P}=e.win32.parse(v.absolute);v.absolute=P+o.encode(v.absolute.slice(P.length));let{root:V}=e.win32.parse(v.path);v.path=V+o.encode(v.path.slice(V.length))}return!0}[w](v){if(!this[R](v))return v.resume();switch(i.equal(typeof v.absolute,"string"),v.type){case"Directory":case"GNUDumpDir":v.mode&&(v.mode=v.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[m](v);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[B](v)}}[$](v,P){v.name==="CwdError"?this.emit("error",v):(this.warn("TAR_ENTRY_ERROR",v,{entry:P}),this[G](),P.resume())}[I](v,P,V){u(b(v),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:P,noChmod:this.noChmod},V)}[J](v){return this.forceChown||this.preserveOwner&&(typeof v.uid=="number"&&v.uid!==this.processUid||typeof v.gid=="number"&&v.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[et](v){return q(this.uid,v.uid,this.processUid)}[O](v){return q(this.gid,v.gid,this.processGid)}[D](v,P){let V=v.mode&4095||this.fmode,Q=new n.WriteStream(v.absolute,{flags:S(v.size),mode:V,autoClose:!1});Q.on("error",st=>{Q.fd&&s.close(Q.fd,()=>{}),Q.write=()=>!0,this[$](st,v),P()});let it=1,ut=st=>{if(st){Q.fd&&s.close(Q.fd,()=>{}),this[$](st,v),P();return}--it===0&&s.close(Q.fd,lt=>{lt?this[$](lt,v):this[G](),P()})};Q.on("finish",st=>{let lt=v.absolute,mt=Q.fd;if(v.mtime&&!this.noMtime){it++;let ft=v.atime||new Date,Ot=v.mtime;s.futimes(mt,ft,Ot,St=>St?s.utimes(lt,ft,Ot,Yt=>ut(Yt&&St)):ut())}if(this[J](v)){it++;let ft=this[et](v),Ot=this[O](v);s.fchown(mt,ft,Ot,St=>St?s.chown(lt,ft,Ot,Yt=>ut(Yt&&St)):ut())}ut()});let rt=this.transform&&this.transform(v)||v;rt!==v&&(rt.on("error",st=>{this[$](st,v),P()}),v.pipe(rt)),rt.pipe(Q)}[C](v,P){let V=v.mode&4095||this.dmode;this[I](v.absolute,V,Q=>{if(Q){this[$](Q,v),P();return}let it=1,ut=rt=>{--it===0&&(P(),this[G](),v.resume())};v.mtime&&!this.noMtime&&(it++,s.utimes(v.absolute,v.atime||new Date,v.mtime,ut)),this[J](v)&&(it++,s.chown(v.absolute,this[et](v),this[O](v),ut)),ut()})}[B](v){v.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${v.type}`,{entry:v}),v.resume()}[g](v,P){this[y](v,v.linkpath,"symlink",P)}[A](v,P){let V=b(e.resolve(this.cwd,v.linkpath));this[y](v,V,"link",P)}[j](){this[U]++}[G](){this[U]--,this[M]()}[Y](v){this[G](),v.resume()}[h](v,P){return v.type==="File"&&!this.unlink&&P.isFile()&&P.nlink<=1&&!X}[m](v){this[j]();let P=[v.path];v.linkpath&&P.push(v.linkpath),this.reservations.reserve(P,V=>this[E](v,V))}[x](v){v.type==="SymbolicLink"?K(this.dirCache):v.type!=="Directory"&&L(this.dirCache,v.absolute)}[E](v,P){this[x](v);let V=rt=>{this[x](v),P(rt)},Q=()=>{this[I](this.cwd,this.dmode,rt=>{if(rt){this[$](rt,v),V();return}this[F]=!0,it()})},it=()=>{if(v.absolute!==this.cwd){let rt=b(e.dirname(v.absolute));if(rt!==this.cwd)return this[I](rt,this.dmode,st=>{if(st){this[$](st,v),V();return}ut()})}ut()},ut=()=>{s.lstat(v.absolute,(rt,st)=>{if(st&&(this.keep||this.newer&&st.mtime>v.mtime)){this[Y](v),V();return}if(rt||this[h](v,st))return this[l](null,v,V);if(st.isDirectory()){if(v.type==="Directory"){let lt=!this.noChmod&&v.mode&&(st.mode&4095)!==v.mode,mt=ft=>this[l](ft,v,V);return lt?s.chmod(v.absolute,v.mode,mt):mt()}if(v.absolute!==this.cwd)return s.rmdir(v.absolute,lt=>this[l](lt,v,V))}if(v.absolute===this.cwd)return this[l](null,v,V);T(v.absolute,lt=>this[l](lt,v,V))})};this[F]?it():Q()}[l](v,P,V){if(v){this[$](v,P),V();return}switch(P.type){case"File":case"OldFile":case"ContiguousFile":return this[D](P,V);case"Link":return this[A](P,V);case"SymbolicLink":return this[g](P,V);case"Directory":case"GNUDumpDir":return this[C](P,V)}}[y](v,P,V,Q){s[V](P,v.absolute,it=>{it?this[$](it,v):(this[G](),v.resume()),Q()})}},ct=v=>{try{return[null,v()]}catch(P){return[P,null]}},wt=class extends pt{[l](v,P){return super[l](v,P,()=>{})}[m](v){if(this[x](v),!this[F]){let it=this[I](this.cwd,this.dmode);if(it)return this[$](it,v);this[F]=!0}if(v.absolute!==this.cwd){let it=b(e.dirname(v.absolute));if(it!==this.cwd){let ut=this[I](it,this.dmode);if(ut)return this[$](ut,v)}}let[P,V]=ct(()=>s.lstatSync(v.absolute));if(V&&(this.keep||this.newer&&V.mtime>v.mtime))return this[Y](v);if(P||this[h](v,V))return this[l](null,v);if(V.isDirectory()){if(v.type==="Directory"){let ut=!this.noChmod&&v.mode&&(V.mode&4095)!==v.mode,[rt]=ut?ct(()=>{s.chmodSync(v.absolute,v.mode)}):[];return this[l](rt,v)}let[it]=ct(()=>s.rmdirSync(v.absolute));this[l](it,v)}let[Q]=v.absolute===this.cwd?[]:ct(()=>Z(v.absolute));this[l](Q,v)}[D](v,P){let V=v.mode&4095||this.fmode,Q=rt=>{let st;try{s.closeSync(it)}catch(lt){st=lt}(rt||st)&&this[$](rt||st,v),P()},it;try{it=s.openSync(v.absolute,S(v.size),V)}catch(rt){return Q(rt)}let ut=this.transform&&this.transform(v)||v;ut!==v&&(ut.on("error",rt=>this[$](rt,v)),v.pipe(ut)),ut.on("data",rt=>{try{s.writeSync(it,rt,0,rt.length)}catch(st){Q(st)}}),ut.on("end",rt=>{let st=null;if(v.mtime&&!this.noMtime){let lt=v.atime||new Date,mt=v.mtime;try{s.futimesSync(it,lt,mt)}catch(ft){try{s.utimesSync(v.absolute,lt,mt)}catch{st=ft}}}if(this[J](v)){let lt=this[et](v),mt=this[O](v);try{s.fchownSync(it,lt,mt)}catch(ft){try{s.chownSync(v.absolute,lt,mt)}catch{st=st||ft}}}Q(st)})}[C](v,P){let V=v.mode&4095||this.dmode,Q=this[I](v.absolute,V);if(Q){this[$](Q,v),P();return}if(v.mtime&&!this.noMtime)try{s.utimesSync(v.absolute,v.atime||new Date,v.mtime)}catch{}if(this[J](v))try{s.chownSync(v.absolute,this[et](v),this[O](v))}catch{}P(),v.resume()}[I](v,P){try{return u.sync(b(v),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:P})}catch(V){return V}}[y](v,P,V,Q){try{s[V+"Sync"](P,v.absolute),Q(),v.resume()}catch(it){return this[$](it,v)}}};pt.Sync=wt,t.exports=pt}),_r=W((a,t)=>{"use strict";var i=$t(),r=ci(),s=z("fs"),n=Mt(),e=z("path"),u=Nt();t.exports=(f,w,m)=>{typeof f=="function"?(m=f,w=null,f={}):Array.isArray(f)&&(w=f,f={}),typeof w=="function"&&(m=w,w=null),w?w=Array.from(w):w=[];let E=i(f);if(E.sync&&typeof m=="function")throw new TypeError("callback not supported for sync tar functions");if(!E.file&&typeof m=="function")throw new TypeError("callback only supported with file option");return w.length&&o(E,w),E.file&&E.sync?c(E):E.file?d(E,m):E.sync?b(E):_(E)};var o=(f,w)=>{let m=new Map(w.map(h=>[u(h),!0])),E=f.filter,x=(h,l)=>{let D=l||e.parse(h).root||".",C=h===D?!1:m.has(h)?m.get(h):x(e.dirname(h),D);return m.set(h,C),C};f.filter=E?(h,l)=>E(h,l)&&x(u(h)):h=>x(u(h))},c=f=>{let w=new r.Sync(f),m=f.file,E=s.statSync(m),x=f.maxReadSize||16*1024*1024;new n.ReadStreamSync(m,{readSize:x,size:E.size}).pipe(w)},d=(f,w)=>{let m=new r(f),E=f.maxReadSize||16*1024*1024,x=f.file,h=new Promise((l,D)=>{m.on("error",D),m.on("close",l),s.stat(x,(C,y)=>{if(C)D(C);else{let g=new n.ReadStream(x,{readSize:E,size:y.size});g.on("error",D),g.pipe(m)}})});return w?h.then(w,w):h},b=f=>new r.Sync(f),_=f=>new r(f)}),wr=W(a=>{"use strict";a.c=a.create=cr(),a.r=a.replace=ai(),a.t=a.list=De(),a.u=a.update=pr(),a.x=a.extract=_r(),a.Pack=pe(),a.Unpack=ci(),a.Parse=de(),a.ReadEntry=he(),a.WriteEntry=ni(),a.Header=It(),a.Pax=le(),a.types=ii()}),vr=W((a,t)=>{var i=1e3,r=i*60,s=r*60,n=s*24,e=n*7,u=n*365.25;t.exports=function(_,f){f=f||{};var w=typeof _;if(w==="string"&&_.length>0)return o(_);if(w==="number"&&isFinite(_))return f.long?d(_):c(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function o(_){if(_=String(_),!(_.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(f){var w=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return w*u;case"weeks":case"week":case"w":return w*e;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*s;case"minutes":case"minute":case"mins":case"min":case"m":return w*r;case"seconds":case"second":case"secs":case"sec":case"s":return w*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function c(_){var f=Math.abs(_);return f>=n?Math.round(_/n)+"d":f>=s?Math.round(_/s)+"h":f>=r?Math.round(_/r)+"m":f>=i?Math.round(_/i)+"s":_+"ms"}function d(_){var f=Math.abs(_);return f>=n?b(_,f,n,"day"):f>=s?b(_,f,s,"hour"):f>=r?b(_,f,r,"minute"):f>=i?b(_,f,i,"second"):_+" ms"}function b(_,f,w,m){var E=f>=w*1.5;return Math.round(_/w)+" "+m+(E?"s":"")}}),pi=W((a,t)=>{function i(r){n.debug=n,n.default=n,n.coerce=b,n.disable=o,n.enable=u,n.enabled=c,n.humanize=vr(),n.destroy=_,Object.keys(r).forEach(f=>{n[f]=r[f]}),n.names=[],n.skips=[],n.formatters={};function s(f){let w=0;for(let m=0;m<f.length;m++)w=(w<<5)-w+f.charCodeAt(m),w|=0;return n.colors[Math.abs(w)%n.colors.length]}n.selectColor=s;function n(f){let w,m=null,E,x;function h(...l){if(!h.enabled)return;let D=h,C=Number(new Date),y=C-(w||C);D.diff=y,D.prev=w,D.curr=C,w=C,l[0]=n.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let g=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(A,B)=>{if(A==="%%")return"%";g++;let R=n.formatters[B];if(typeof R=="function"){let I=l[g];A=R.call(D,I),l.splice(g,1),g--}return A}),n.formatArgs.call(D,l),(D.log||n.log).apply(D,l)}return h.namespace=f,h.useColors=n.useColors(),h.color=n.selectColor(f),h.extend=e,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(E!==n.namespaces&&(E=n.namespaces,x=n.enabled(f)),x),set:l=>{m=l}}),typeof n.init=="function"&&n.init(h),h}function e(f,w){let m=n(this.namespace+(typeof w>"u"?":":w)+f);return m.log=this.log,m}function u(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let w,m=(typeof f=="string"?f:"").split(/[\s,]+/),E=m.length;for(w=0;w<E;w++)m[w]&&(f=m[w].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.slice(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...n.names.map(d),...n.skips.map(d).map(w=>"-"+w)].join(",");return n.enable(""),f}function c(f){if(f[f.length-1]==="*")return!0;let w,m;for(w=0,m=n.skips.length;w<m;w++)if(n.skips[w].test(f))return!1;for(w=0,m=n.names.length;w<m;w++)if(n.names[w].test(f))return!0;return!1}function d(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function b(f){return f instanceof Error?f.stack||f.message:f}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}t.exports=i}),Ar=W((a,t)=>{a.formatArgs=r,a.save=s,a.load=n,a.useColors=i,a.storage=e(),a.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;o.splice(1,0,c,"color: inherit");let d=0,b=0;o[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(d++,_==="%c"&&(b=d))}),o.splice(b,0,c)}a.log=console.debug||console.log||(()=>{});function s(o){try{o?a.storage.setItem("debug",o):a.storage.removeItem("debug")}catch{}}function n(){let o;try{o=a.storage.getItem("debug")}catch{}return!o&&typeof process<"u"&&"env"in process&&(o=process.env.DEBUG),o}function e(){try{return localStorage}catch{}}t.exports=pi()(a);var{formatters:u}=t.exports;u.j=function(o){try{return JSON.stringify(o)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),Or=W((a,t)=>{"use strict";t.exports=(i,r=process.argv)=>{let s=i.startsWith("-")?"":i.length===1?"-":"--",n=r.indexOf(s+i),e=r.indexOf("--");return n!==-1&&(e===-1||n<e)}}),Sr=W((a,t)=>{"use strict";var i=z("os"),r=z("tty"),s=Or(),{env:n}=process,e;s("no-color")||s("no-colors")||s("color=false")||s("color=never")?e=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(e=1),"FORCE_COLOR"in n&&(n.FORCE_COLOR==="true"?e=1:n.FORCE_COLOR==="false"?e=0:e=n.FORCE_COLOR.length===0?1:Math.min(parseInt(n.FORCE_COLOR,10),3));function u(d){return d===0?!1:{level:d,hasBasic:!0,has256:d>=2,has16m:d>=3}}function o(d,b){if(e===0)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(d&&!b&&e===void 0)return 0;let _=e||0;if(n.TERM==="dumb")return _;if(process.platform==="win32"){let f=i.release().split(".");return Number(f[0])>=10&&Number(f[2])>=10586?Number(f[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(f=>f in n)||n.CI_NAME==="codeship"?1:_;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if(n.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in n){let f=parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return f>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:_}function c(d){let b=o(d,d&&d.isTTY);return u(b)}t.exports={supportsColor:c,stdout:u(o(!0,r.isatty(1))),stderr:u(o(!0,r.isatty(2)))}}),Br=W((a,t)=>{var i=z("tty"),r=z("util");a.init=d,a.log=u,a.formatArgs=n,a.save=o,a.load=c,a.useColors=s,a.destroy=r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),a.colors=[6,2,3,4,5,1];try{let _=Sr();_&&(_.stderr||_).level>=2&&(a.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}a.inspectOpts=Object.keys(process.env).filter(_=>/^debug_/i.test(_)).reduce((_,f)=>{let w=f.substring(6).toLowerCase().replace(/_([a-z])/g,(E,x)=>x.toUpperCase()),m=process.env[f];return/^(yes|on|true|enabled)$/i.test(m)?m=!0:/^(no|off|false|disabled)$/i.test(m)?m=!1:m==="null"?m=null:m=Number(m),_[w]=m,_},{});function s(){return"colors"in a.inspectOpts?!!a.inspectOpts.colors:i.isatty(process.stderr.fd)}function n(_){let{namespace:f,useColors:w}=this;if(w){let m=this.color,E="\x1B[3"+(m<8?m:"8;5;"+m),x=`  ${E};1m${f} \x1B[0m`;_[0]=x+_[0].split(`
`).join(`
`+x),_.push(E+"m+"+t.exports.humanize(this.diff)+"\x1B[0m")}else _[0]=e()+f+" "+_[0]}function e(){return a.inspectOpts.hideDate?"":new Date().toISOString()+" "}function u(..._){return process.stderr.write(r.format(..._)+`
`)}function o(_){_?process.env.DEBUG=_:delete process.env.DEBUG}function c(){return process.env.DEBUG}function d(_){_.inspectOpts={};let f=Object.keys(a.inspectOpts);for(let w=0;w<f.length;w++)_.inspectOpts[f[w]]=a.inspectOpts[f[w]]}t.exports=pi()(a);var{formatters:b}=t.exports;b.o=function(_){return this.inspectOpts.colors=this.useColors,r.inspect(_,this.inspectOpts).split(`
`).map(f=>f.trim()).join(" ")},b.O=function(_){return this.inspectOpts.colors=this.useColors,r.inspect(_,this.inspectOpts)}}),di=W((a,t)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?t.exports=Ar():t.exports=Br()}),xr=W(a=>{"use strict";var t=a&&a.__createBinding||(Object.create?function(c,d,b,_){_===void 0&&(_=b);var f=Object.getOwnPropertyDescriptor(d,b);(!f||("get"in f?!d.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return d[b]}}),Object.defineProperty(c,_,f)}:function(c,d,b,_){_===void 0&&(_=b),c[_]=d[b]}),i=a&&a.__setModuleDefault||(Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d}),r=a&&a.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var b in c)b!=="default"&&Object.prototype.hasOwnProperty.call(c,b)&&t(d,c,b);return i(d,c),d};Object.defineProperty(a,"__esModule",{value:!0}),a.req=a.json=a.toBuffer=void 0;var s=r(z("http")),n=r(z("https"));async function e(c){let d=0,b=[];for await(let _ of c)d+=_.length,b.push(_);return Buffer.concat(b,d)}a.toBuffer=e;async function u(c){let d=(await e(c)).toString("utf8");try{return JSON.parse(d)}catch(b){let _=b;throw _.message+=` (input: ${d})`,_}}a.json=u;function o(c,d={}){let b=((typeof c=="string"?c:c.href).startsWith("https:")?n:s).request(c,d),_=new Promise((f,w)=>{b.once("response",f).once("error",w).end()});return b.then=_.then.bind(_),b}a.req=o}),Rr=W(a=>{"use strict";var t=a&&a.__createBinding||(Object.create?function(o,c,d,b){b===void 0&&(b=d);var _=Object.getOwnPropertyDescriptor(c,d);(!_||("get"in _?!c.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(o,b,_)}:function(o,c,d,b){b===void 0&&(b=d),o[b]=c[d]}),i=a&&a.__setModuleDefault||(Object.create?function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}:function(o,c){o.default=c}),r=a&&a.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var d in o)d!=="default"&&Object.prototype.hasOwnProperty.call(o,d)&&t(c,o,d);return i(c,o),c},s=a&&a.__exportStar||function(o,c){for(var d in o)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&t(c,o,d)};Object.defineProperty(a,"__esModule",{value:!0}),a.Agent=void 0;var n=r(z("http"));s(xr(),a);var e=Symbol("AgentBaseInternalState"),u=class extends n.Agent{constructor(o){super(o),this[e]={}}isSecureEndpoint(o){if(o){if(typeof o.secureEndpoint=="boolean")return o.secureEndpoint;if(typeof o.protocol=="string")return o.protocol==="https:"}let{stack:c}=new Error;return typeof c!="string"?!1:c.split(`
`).some(d=>d.indexOf("(https.js:")!==-1||d.indexOf("node:https:")!==-1)}createSocket(o,c,d){let b={...c,secureEndpoint:this.isSecureEndpoint(c)};Promise.resolve().then(()=>this.connect(o,b)).then(_=>{if(_ instanceof n.Agent)return _.addRequest(o,b);this[e].currentSocket=_,super.createSocket(o,c,d)},d)}createConnection(){let o=this[e].currentSocket;if(this[e].currentSocket=void 0,!o)throw new Error("No socket was returned in the `connect()` function");return o}get defaultPort(){return this[e].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(o){this[e]&&(this[e].defaultPort=o)}get protocol(){return this[e].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(o){this[e]&&(this[e].protocol=o)}};a.Agent=u}),kr=W(a=>{"use strict";var t=a&&a.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(a,"__esModule",{value:!0}),a.parseProxyResponse=void 0;var i=t(di()),r=(0,i.default)("https-proxy-agent:parse-proxy-response");function s(n){return new Promise((e,u)=>{let o=0,c=[];function d(){let m=n.read();m?w(m):n.once("readable",d)}function b(){n.removeListener("end",_),n.removeListener("error",f),n.removeListener("readable",d)}function _(){b(),r("onend"),u(new Error("Proxy connection ended before receiving CONNECT response"))}function f(m){b(),r("onerror %o",m),u(m)}function w(m){c.push(m),o+=m.length;let E=Buffer.concat(c,o),x=E.indexOf(`\r
\r
`);if(x===-1){r("have not received end of HTTP headers yet..."),d();return}let h=E.slice(0,x).toString("ascii").split(`\r
`),l=h.shift();if(!l)return n.destroy(),u(new Error("No header received from proxy CONNECT response"));let D=l.split(" "),C=+D[1],y=D.slice(2).join(" "),g={};for(let A of h){if(!A)continue;let B=A.indexOf(":");if(B===-1)return n.destroy(),u(new Error(`Invalid header from proxy CONNECT response: "${A}"`));let R=A.slice(0,B).toLowerCase(),I=A.slice(B+1).trimStart(),$=g[R];typeof $=="string"?g[R]=[$,I]:Array.isArray($)?$.push(I):g[R]=I}r("got proxy server response: %o %o",l,g),b(),e({connect:{statusCode:C,statusText:y,headers:g},buffered:E})}n.on("error",f),n.on("end",_),d()})}a.parseProxyResponse=s}),Tr=W(a=>{"use strict";var t=a&&a.__createBinding||(Object.create?function(m,E,x,h){h===void 0&&(h=x);var l=Object.getOwnPropertyDescriptor(E,x);(!l||("get"in l?!E.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return E[x]}}),Object.defineProperty(m,h,l)}:function(m,E,x,h){h===void 0&&(h=x),m[h]=E[x]}),i=a&&a.__setModuleDefault||(Object.create?function(m,E){Object.defineProperty(m,"default",{enumerable:!0,value:E})}:function(m,E){m.default=E}),r=a&&a.__importStar||function(m){if(m&&m.__esModule)return m;var E={};if(m!=null)for(var x in m)x!=="default"&&Object.prototype.hasOwnProperty.call(m,x)&&t(E,m,x);return i(E,m),E},s=a&&a.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(a,"__esModule",{value:!0}),a.HttpsProxyAgent=void 0;var n=r(z("net")),e=r(z("tls")),u=s(z("assert")),o=s(di()),c=Rr(),d=kr(),b=(0,o.default)("https-proxy-agent"),_=class extends c.Agent{constructor(m,E){super(E),this.options={path:void 0},this.proxy=typeof m=="string"?new URL(m):m,this.proxyHeaders=E?.headers??{},b("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let x=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),h=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...E?w(E,"headers"):null,host:x,port:h}}async connect(m,E){let{proxy:x}=this;if(!E.host)throw new TypeError('No "host" provided');let h;if(x.protocol==="https:"){b("Creating `tls.Socket`: %o",this.connectOpts);let R=this.connectOpts.servername||this.connectOpts.host;h=e.connect({...this.connectOpts,servername:R&&n.isIP(R)?void 0:R})}else b("Creating `net.Socket`: %o",this.connectOpts),h=n.connect(this.connectOpts);let l=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},D=n.isIPv6(E.host)?`[${E.host}]`:E.host,C=`CONNECT ${D}:${E.port} HTTP/1.1\r
`;if(x.username||x.password){let R=`${decodeURIComponent(x.username)}:${decodeURIComponent(x.password)}`;l["Proxy-Authorization"]=`Basic ${Buffer.from(R).toString("base64")}`}l.Host=`${D}:${E.port}`,l["Proxy-Connection"]||(l["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let R of Object.keys(l))C+=`${R}: ${l[R]}\r
`;let y=(0,d.parseProxyResponse)(h);h.write(`${C}\r
`);let{connect:g,buffered:A}=await y;if(m.emit("proxyConnect",g),this.emit("proxyConnect",g,m),g.statusCode===200){if(m.once("socket",f),E.secureEndpoint){b("Upgrading socket connection to TLS");let R=E.servername||E.host;return e.connect({...w(E,"host","path","port"),socket:h,servername:n.isIP(R)?void 0:R})}return h}h.destroy();let B=new n.Socket({writable:!1});return B.readable=!0,m.once("socket",R=>{b("Replaying proxy buffer for failed request"),(0,u.default)(R.listenerCount("data")>0),R.push(A),R.push(null)}),B}};_.protocols=["http","https"],a.HttpsProxyAgent=_;function f(m){m.resume()}function w(m,...E){let x={},h;for(h in m)E.includes(h)||(x[h]=m[h]);return x}}),zt=W(a=>{var t=class extends Error{constructor(r,s,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=s,this.exitCode=r,this.nestedError=void 0}},i=class extends t{constructor(r){super(1,"commander.invalidArgument",r),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};a.CommanderError=t,a.InvalidArgumentError=i}),me=W(a=>{var{InvalidArgumentError:t}=zt(),i=class{constructor(s,n){switch(this.description=n||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,s[0]){case"<":this.required=!0,this._name=s.slice(1,-1);break;case"[":this.required=!1,this._name=s.slice(1,-1);break;default:this.required=!0,this._name=s;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(s,n){return n===this.defaultValue||!Array.isArray(n)?[s]:n.concat(s)}default(s,n){return this.defaultValue=s,this.defaultValueDescription=n,this}argParser(s){return this.parseArg=s,this}choices(s){return this.argChoices=s.slice(),this.parseArg=(n,e)=>{if(!this.argChoices.includes(n))throw new t(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(n,e):n},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function r(s){let n=s.name()+(s.variadic===!0?"...":"");return s.required?"<"+n+">":"["+n+"]"}a.Argument=i,a.humanReadableArgName=r}),Di=W(a=>{var{humanReadableArgName:t}=me(),i=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(r){let s=r.commands.filter(n=>!n._hidden);if(r._hasImplicitHelpCommand()){let[,n,e]=r._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),u=r.createCommand(n).helpOption(!1);u.description(r._helpCommandDescription),e&&u.arguments(e),s.push(u)}return this.sortSubcommands&&s.sort((n,e)=>n.name().localeCompare(e.name())),s}compareOptions(r,s){let n=e=>e.short?e.short.replace(/^-/,""):e.long.replace(/^--/,"");return n(r).localeCompare(n(s))}visibleOptions(r){let s=r.options.filter(u=>!u.hidden),n=r._hasHelpOption&&r._helpShortFlag&&!r._findOption(r._helpShortFlag),e=r._hasHelpOption&&!r._findOption(r._helpLongFlag);if(n||e){let u;n?e?u=r.createOption(r._helpFlags,r._helpDescription):u=r.createOption(r._helpShortFlag,r._helpDescription):u=r.createOption(r._helpLongFlag,r._helpDescription),s.push(u)}return this.sortOptions&&s.sort(this.compareOptions),s}visibleGlobalOptions(r){if(!this.showGlobalOptions)return[];let s=[];for(let n=r.parent;n;n=n.parent){let e=n.options.filter(u=>!u.hidden);s.push(...e)}return this.sortOptions&&s.sort(this.compareOptions),s}visibleArguments(r){return r._argsDescription&&r.registeredArguments.forEach(s=>{s.description=s.description||r._argsDescription[s.name()]||""}),r.registeredArguments.find(s=>s.description)?r.registeredArguments:[]}subcommandTerm(r){let s=r.registeredArguments.map(n=>t(n)).join(" ");return r._name+(r._aliases[0]?"|"+r._aliases[0]:"")+(r.options.length?" [options]":"")+(s?" "+s:"")}optionTerm(r){return r.flags}argumentTerm(r){return r.name()}longestSubcommandTermLength(r,s){return s.visibleCommands(r).reduce((n,e)=>Math.max(n,s.subcommandTerm(e).length),0)}longestOptionTermLength(r,s){return s.visibleOptions(r).reduce((n,e)=>Math.max(n,s.optionTerm(e).length),0)}longestGlobalOptionTermLength(r,s){return s.visibleGlobalOptions(r).reduce((n,e)=>Math.max(n,s.optionTerm(e).length),0)}longestArgumentTermLength(r,s){return s.visibleArguments(r).reduce((n,e)=>Math.max(n,s.argumentTerm(e).length),0)}commandUsage(r){let s=r._name;r._aliases[0]&&(s=s+"|"+r._aliases[0]);let n="";for(let e=r.parent;e;e=e.parent)n=e.name()+" "+n;return n+s+" "+r.usage()}commandDescription(r){return r.description()}subcommandDescription(r){return r.summary()||r.description()}optionDescription(r){let s=[];return r.argChoices&&s.push(`choices: ${r.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),r.defaultValue!==void 0&&(r.required||r.optional||r.isBoolean()&&typeof r.defaultValue=="boolean")&&s.push(`default: ${r.defaultValueDescription||JSON.stringify(r.defaultValue)}`),r.presetArg!==void 0&&r.optional&&s.push(`preset: ${JSON.stringify(r.presetArg)}`),r.envVar!==void 0&&s.push(`env: ${r.envVar}`),s.length>0?`${r.description} (${s.join(", ")})`:r.description}argumentDescription(r){let s=[];if(r.argChoices&&s.push(`choices: ${r.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),r.defaultValue!==void 0&&s.push(`default: ${r.defaultValueDescription||JSON.stringify(r.defaultValue)}`),s.length>0){let n=`(${s.join(", ")})`;return r.description?`${r.description} ${n}`:n}return r.description}formatHelp(r,s){let n=s.padWidth(r,s),e=s.helpWidth||80,u=2,o=2;function c(E,x){if(x){let h=`${E.padEnd(n+o)}${x}`;return s.wrap(h,e-u,n+o)}return E}function d(E){return E.join(`
`).replace(/^/gm," ".repeat(u))}let b=[`Usage: ${s.commandUsage(r)}`,""],_=s.commandDescription(r);_.length>0&&(b=b.concat([s.wrap(_,e,0),""]));let f=s.visibleArguments(r).map(E=>c(s.argumentTerm(E),s.argumentDescription(E)));f.length>0&&(b=b.concat(["Arguments:",d(f),""]));let w=s.visibleOptions(r).map(E=>c(s.optionTerm(E),s.optionDescription(E)));if(w.length>0&&(b=b.concat(["Options:",d(w),""])),this.showGlobalOptions){let E=s.visibleGlobalOptions(r).map(x=>c(s.optionTerm(x),s.optionDescription(x)));E.length>0&&(b=b.concat(["Global Options:",d(E),""]))}let m=s.visibleCommands(r).map(E=>c(s.subcommandTerm(E),s.subcommandDescription(E)));return m.length>0&&(b=b.concat(["Commands:",d(m),""])),b.join(`
`)}padWidth(r,s){return Math.max(s.longestOptionTermLength(r,s),s.longestGlobalOptionTermLength(r,s),s.longestSubcommandTermLength(r,s),s.longestArgumentTermLength(r,s))}wrap(r,s,n,e=40){let u=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",o=new RegExp(`[\\n][${u}]+`);if(r.match(o))return r;let c=s-n;if(c<e)return r;let d=r.slice(0,n),b=r.slice(n).replace(`\r
`,`
`),_=" ".repeat(n),f="\\s\u200B",w=new RegExp(`
|.{1,${c-1}}([${f}]|$)|[^${f}]+?([${f}]|$)`,"g"),m=b.match(w)||[];return d+m.map((E,x)=>E===`
`?"":(x>0?_:"")+E.trimEnd()).join(`
`)}};a.Help=i}),mi=W(a=>{var{InvalidArgumentError:t}=zt(),i=class{constructor(e,u){this.flags=e,this.description=u||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let o=n(e);this.short=o.shortFlag,this.long=o.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,u){return this.defaultValue=e,this.defaultValueDescription=u,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let u=e;return typeof e=="string"&&(u={[e]:!0}),this.implied=Object.assign(this.implied||{},u),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,u){return u===this.defaultValue||!Array.isArray(u)?[e]:u.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(u,o)=>{if(!this.argChoices.includes(u))throw new t(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(u,o):u},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return s(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},r=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(u=>{u.negate?this.negativeOptions.set(u.attributeName(),u):this.positiveOptions.set(u.attributeName(),u)}),this.negativeOptions.forEach((u,o)=>{this.positiveOptions.has(o)&&this.dualOptions.add(o)})}valueFromOption(e,u){let o=u.attributeName();if(!this.dualOptions.has(o))return!0;let c=this.negativeOptions.get(o).presetArg,d=c!==void 0?c:!1;return u.negate===(d===e)}};function s(e){return e.split("-").reduce((u,o)=>u+o[0].toUpperCase()+o.slice(1))}function n(e){let u,o,c=e.split(/[ |,]+/);return c.length>1&&!/^[[<]/.test(c[1])&&(u=c.shift()),o=c.shift(),!u&&/^-[^-]$/.test(o)&&(u=o,o=void 0),{shortFlag:u,longFlag:o}}a.Option=i,a.splitOptionFlags=n,a.DualOptions=r}),$r=W(a=>{function t(r,s){if(Math.abs(r.length-s.length)>3)return Math.max(r.length,s.length);let n=[];for(let e=0;e<=r.length;e++)n[e]=[e];for(let e=0;e<=s.length;e++)n[0][e]=e;for(let e=1;e<=s.length;e++)for(let u=1;u<=r.length;u++){let o=1;r[u-1]===s[e-1]?o=0:o=1,n[u][e]=Math.min(n[u-1][e]+1,n[u][e-1]+1,n[u-1][e-1]+o),u>1&&e>1&&r[u-1]===s[e-2]&&r[u-2]===s[e-1]&&(n[u][e]=Math.min(n[u][e],n[u-2][e-2]+1))}return n[r.length][s.length]}function i(r,s){if(!s||s.length===0)return"";s=Array.from(new Set(s));let n=r.startsWith("--");n&&(r=r.slice(2),s=s.map(c=>c.slice(2)));let e=[],u=3,o=.4;return s.forEach(c=>{if(c.length<=1)return;let d=t(r,c),b=Math.max(r.length,c.length);(b-d)/b>o&&(d<u?(u=d,e=[c]):d===u&&e.push(c))}),e.sort((c,d)=>c.localeCompare(d)),n&&(e=e.map(c=>`--${c}`)),e.length>1?`
(Did you mean one of ${e.join(", ")}?)`:e.length===1?`
(Did you mean ${e[0]}?)`:""}a.suggestSimilar=i}),Lr=W(a=>{var t=z("events").EventEmitter,i=z("child_process"),r=z("path"),s=z("fs"),n=z("process"),{Argument:e,humanReadableArgName:u}=me(),{CommanderError:o}=zt(),{Help:c}=Di(),{Option:d,splitOptionFlags:b,DualOptions:_}=mi(),{suggestSimilar:f}=$r(),w=class fi extends t{constructor(h){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=h||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:l=>n.stdout.write(l),writeErr:l=>n.stderr.write(l),getOutHelpWidth:()=>n.stdout.isTTY?n.stdout.columns:void 0,getErrHelpWidth:()=>n.stderr.isTTY?n.stderr.columns:void 0,outputError:(l,D)=>D(l)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(h){return this._outputConfiguration=h._outputConfiguration,this._hasHelpOption=h._hasHelpOption,this._helpFlags=h._helpFlags,this._helpDescription=h._helpDescription,this._helpShortFlag=h._helpShortFlag,this._helpLongFlag=h._helpLongFlag,this._helpCommandName=h._helpCommandName,this._helpCommandnameAndArgs=h._helpCommandnameAndArgs,this._helpCommandDescription=h._helpCommandDescription,this._helpConfiguration=h._helpConfiguration,this._exitCallback=h._exitCallback,this._storeOptionsAsProperties=h._storeOptionsAsProperties,this._combineFlagAndOptionalValue=h._combineFlagAndOptionalValue,this._allowExcessArguments=h._allowExcessArguments,this._enablePositionalOptions=h._enablePositionalOptions,this._showHelpAfterError=h._showHelpAfterError,this._showSuggestionAfterError=h._showSuggestionAfterError,this}_getCommandAndAncestors(){let h=[];for(let l=this;l;l=l.parent)h.push(l);return h}command(h,l,D){let C=l,y=D;typeof C=="object"&&C!==null&&(y=C,C=null),y=y||{};let[,g,A]=h.match(/([^ ]+) *(.*)/),B=this.createCommand(g);return C&&(B.description(C),B._executableHandler=!0),y.isDefault&&(this._defaultCommandName=B._name),B._hidden=!!(y.noHelp||y.hidden),B._executableFile=y.executableFile||null,A&&B.arguments(A),this.commands.push(B),B.parent=this,B.copyInheritedSettings(this),C?this:B}createCommand(h){return new fi(h)}createHelp(){return Object.assign(new c,this.configureHelp())}configureHelp(h){return h===void 0?this._helpConfiguration:(this._helpConfiguration=h,this)}configureOutput(h){return h===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,h),this)}showHelpAfterError(h=!0){return typeof h!="string"&&(h=!!h),this._showHelpAfterError=h,this}showSuggestionAfterError(h=!0){return this._showSuggestionAfterError=!!h,this}addCommand(h,l){if(!h._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return l=l||{},l.isDefault&&(this._defaultCommandName=h._name),(l.noHelp||l.hidden)&&(h._hidden=!0),this.commands.push(h),h.parent=this,this}createArgument(h,l){return new e(h,l)}argument(h,l,D,C){let y=this.createArgument(h,l);return typeof D=="function"?y.default(C).argParser(D):y.default(D),this.addArgument(y),this}arguments(h){return h.trim().split(/ +/).forEach(l=>{this.argument(l)}),this}addArgument(h){let l=this.registeredArguments.slice(-1)[0];if(l&&l.variadic)throw new Error(`only the last argument can be variadic '${l.name()}'`);if(h.required&&h.defaultValue!==void 0&&h.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${h.name()}'`);return this.registeredArguments.push(h),this}addHelpCommand(h,l){return h===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof h=="string"&&(this._helpCommandName=h.split(" ")[0],this._helpCommandnameAndArgs=h),this._helpCommandDescription=l||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(h,l){let D=["preSubcommand","preAction","postAction"];if(!D.includes(h))throw new Error(`Unexpected value for event passed to hook : '${h}'.
Expecting one of '${D.join("', '")}'`);return this._lifeCycleHooks[h]?this._lifeCycleHooks[h].push(l):this._lifeCycleHooks[h]=[l],this}exitOverride(h){return h?this._exitCallback=h:this._exitCallback=l=>{if(l.code!=="commander.executeSubCommandAsync")throw l},this}_exit(h,l,D){this._exitCallback&&this._exitCallback(new o(h,l,D)),n.exit(h)}action(h){let l=D=>{let C=this.registeredArguments.length,y=D.slice(0,C);return this._storeOptionsAsProperties?y[C]=this:y[C]=this.opts(),y.push(this),h.apply(this,y)};return this._actionHandler=l,this}createOption(h,l){return new d(h,l)}_callParseArg(h,l,D,C){try{return h.parseArg(l,D)}catch(y){if(y.code==="commander.invalidArgument"){let g=`${C} ${y.message}`;this.error(g,{exitCode:y.exitCode,code:y.code})}throw y}}addOption(h){let l=h.name(),D=h.attributeName();if(h.negate){let y=h.long.replace(/^--no-/,"--");this._findOption(y)||this.setOptionValueWithSource(D,h.defaultValue===void 0?!0:h.defaultValue,"default")}else h.defaultValue!==void 0&&this.setOptionValueWithSource(D,h.defaultValue,"default");this.options.push(h);let C=(y,g,A)=>{y==null&&h.presetArg!==void 0&&(y=h.presetArg);let B=this.getOptionValue(D);y!==null&&h.parseArg?y=this._callParseArg(h,y,B,g):y!==null&&h.variadic&&(y=h._concatValue(y,B)),y==null&&(h.negate?y=!1:h.isBoolean()||h.optional?y=!0:y=""),this.setOptionValueWithSource(D,y,A)};return this.on("option:"+l,y=>{let g=`error: option '${h.flags}' argument '${y}' is invalid.`;C(y,g,"cli")}),h.envVar&&this.on("optionEnv:"+l,y=>{let g=`error: option '${h.flags}' value '${y}' from env '${h.envVar}' is invalid.`;C(y,g,"env")}),this}_optionEx(h,l,D,C,y){if(typeof l=="object"&&l instanceof d)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let g=this.createOption(l,D);if(g.makeOptionMandatory(!!h.mandatory),typeof C=="function")g.default(y).argParser(C);else if(C instanceof RegExp){let A=C;C=(B,R)=>{let I=A.exec(B);return I?I[0]:R},g.default(y).argParser(C)}else g.default(C);return this.addOption(g)}option(h,l,D,C){return this._optionEx({},h,l,D,C)}requiredOption(h,l,D,C){return this._optionEx({mandatory:!0},h,l,D,C)}combineFlagAndOptionalValue(h=!0){return this._combineFlagAndOptionalValue=!!h,this}allowUnknownOption(h=!0){return this._allowUnknownOption=!!h,this}allowExcessArguments(h=!0){return this._allowExcessArguments=!!h,this}enablePositionalOptions(h=!0){return this._enablePositionalOptions=!!h,this}passThroughOptions(h=!0){if(this._passThroughOptions=!!h,this.parent&&h&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(h=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this._storeOptionsAsProperties=!!h,this}getOptionValue(h){return this._storeOptionsAsProperties?this[h]:this._optionValues[h]}setOptionValue(h,l){return this.setOptionValueWithSource(h,l,void 0)}setOptionValueWithSource(h,l,D){return this._storeOptionsAsProperties?this[h]=l:this._optionValues[h]=l,this._optionValueSources[h]=D,this}getOptionValueSource(h){return this._optionValueSources[h]}getOptionValueSourceWithGlobals(h){let l;return this._getCommandAndAncestors().forEach(D=>{D.getOptionValueSource(h)!==void 0&&(l=D.getOptionValueSource(h))}),l}_prepareUserArgs(h,l){if(h!==void 0&&!Array.isArray(h))throw new Error("first parameter to parse must be array or undefined");l=l||{},h===void 0&&(h=n.argv,n.versions&&n.versions.electron&&(l.from="electron")),this.rawArgs=h.slice();let D;switch(l.from){case void 0:case"node":this._scriptPath=h[1],D=h.slice(2);break;case"electron":n.defaultApp?(this._scriptPath=h[1],D=h.slice(2)):D=h.slice(1);break;case"user":D=h.slice(0);break;default:throw new Error(`unexpected parse option { from: '${l.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",D}parse(h,l){let D=this._prepareUserArgs(h,l);return this._parseCommand([],D),this}async parseAsync(h,l){let D=this._prepareUserArgs(h,l);return await this._parseCommand([],D),this}_executeSubCommand(h,l){l=l.slice();let D=!1,C=[".js",".ts",".tsx",".mjs",".cjs"];function y(I,$){let U=r.resolve(I,$);if(s.existsSync(U))return U;if(C.includes(r.extname($)))return;let j=C.find(G=>s.existsSync(`${U}${G}`));if(j)return`${U}${j}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let g=h._executableFile||`${this._name}-${h._name}`,A=this._executableDir||"";if(this._scriptPath){let I;try{I=s.realpathSync(this._scriptPath)}catch{I=this._scriptPath}A=r.resolve(r.dirname(I),A)}if(A){let I=y(A,g);if(!I&&!h._executableFile&&this._scriptPath){let $=r.basename(this._scriptPath,r.extname(this._scriptPath));$!==this._name&&(I=y(A,`${$}-${h._name}`))}g=I||g}D=C.includes(r.extname(g));let B;n.platform!=="win32"?D?(l.unshift(g),l=E(n.execArgv).concat(l),B=i.spawn(n.argv[0],l,{stdio:"inherit"})):B=i.spawn(g,l,{stdio:"inherit"}):(l.unshift(g),l=E(n.execArgv).concat(l),B=i.spawn(n.execPath,l,{stdio:"inherit"})),B.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(I=>{n.on(I,()=>{B.killed===!1&&B.exitCode===null&&B.kill(I)})});let R=this._exitCallback;R?B.on("close",()=>{R(new o(n.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):B.on("close",n.exit.bind(n)),B.on("error",I=>{if(I.code==="ENOENT"){let $=A?`searched for local subcommand relative to directory '${A}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",U=`'${g}' does not exist
 - if '${h._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${$}`;throw new Error(U)}else if(I.code==="EACCES")throw new Error(`'${g}' not executable`);if(!R)n.exit(1);else{let $=new o(1,"commander.executeSubCommandAsync","(error)");$.nestedError=I,R($)}}),this.runningCommand=B}_dispatchSubcommand(h,l,D){let C=this._findCommand(h);C||this.help({error:!0});let y;return y=this._chainOrCallSubCommandHook(y,C,"preSubcommand"),y=this._chainOrCall(y,()=>{if(C._executableHandler)this._executeSubCommand(C,l.concat(D));else return C._parseCommand(l,D)}),y}_dispatchHelpCommand(h){h||this.help();let l=this._findCommand(h);return l&&!l._executableHandler&&l.help(),this._dispatchSubcommand(h,[],[this._helpLongFlag||this._helpShortFlag])}_checkNumberOfArguments(){this.registeredArguments.forEach((h,l)=>{h.required&&this.args[l]==null&&this.missingArgument(h.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let h=(D,C,y)=>{let g=C;if(C!==null&&D.parseArg){let A=`error: command-argument value '${C}' is invalid for argument '${D.name()}'.`;g=this._callParseArg(D,C,y,A)}return g};this._checkNumberOfArguments();let l=[];this.registeredArguments.forEach((D,C)=>{let y=D.defaultValue;D.variadic?C<this.args.length?(y=this.args.slice(C),D.parseArg&&(y=y.reduce((g,A)=>h(D,A,g),D.defaultValue))):y===void 0&&(y=[]):C<this.args.length&&(y=this.args[C],D.parseArg&&(y=h(D,y,D.defaultValue))),l[C]=y}),this.processedArgs=l}_chainOrCall(h,l){return h&&h.then&&typeof h.then=="function"?h.then(()=>l()):l()}_chainOrCallHooks(h,l){let D=h,C=[];return this._getCommandAndAncestors().reverse().filter(y=>y._lifeCycleHooks[l]!==void 0).forEach(y=>{y._lifeCycleHooks[l].forEach(g=>{C.push({hookedCommand:y,callback:g})})}),l==="postAction"&&C.reverse(),C.forEach(y=>{D=this._chainOrCall(D,()=>y.callback(y.hookedCommand,this))}),D}_chainOrCallSubCommandHook(h,l,D){let C=h;return this._lifeCycleHooks[D]!==void 0&&this._lifeCycleHooks[D].forEach(y=>{C=this._chainOrCall(C,()=>y(this,l))}),C}_parseCommand(h,l){let D=this.parseOptions(l);if(this._parseOptionsEnv(),this._parseOptionsImplied(),h=h.concat(D.operands),l=D.unknown,this.args=h.concat(l),h&&this._findCommand(h[0]))return this._dispatchSubcommand(h[0],h.slice(1),l);if(this._hasImplicitHelpCommand()&&h[0]===this._helpCommandName)return this._dispatchHelpCommand(h[1]);if(this._defaultCommandName)return m(this,l),this._dispatchSubcommand(this._defaultCommandName,h,l);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),m(this,D.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let C=()=>{D.unknown.length>0&&this.unknownOption(D.unknown[0])},y=`command:${this.name()}`;if(this._actionHandler){C(),this._processArguments();let g;return g=this._chainOrCallHooks(g,"preAction"),g=this._chainOrCall(g,()=>this._actionHandler(this.processedArgs)),this.parent&&(g=this._chainOrCall(g,()=>{this.parent.emit(y,h,l)})),g=this._chainOrCallHooks(g,"postAction"),g}if(this.parent&&this.parent.listenerCount(y))C(),this._processArguments(),this.parent.emit(y,h,l);else if(h.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",h,l);this.listenerCount("command:*")?this.emit("command:*",h,l):this.commands.length?this.unknownCommand():(C(),this._processArguments())}else this.commands.length?(C(),this.help({error:!0})):(C(),this._processArguments())}_findCommand(h){if(h)return this.commands.find(l=>l._name===h||l._aliases.includes(h))}_findOption(h){return this.options.find(l=>l.is(h))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(h=>{h.options.forEach(l=>{l.mandatory&&h.getOptionValue(l.attributeName())===void 0&&h.missingMandatoryOptionValue(l)})})}_checkForConflictingLocalOptions(){let h=this.options.filter(l=>{let D=l.attributeName();return this.getOptionValue(D)===void 0?!1:this.getOptionValueSource(D)!=="default"});h.filter(l=>l.conflictsWith.length>0).forEach(l=>{let D=h.find(C=>l.conflictsWith.includes(C.attributeName()));D&&this._conflictingOption(l,D)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(h=>{h._checkForConflictingLocalOptions()})}parseOptions(h){let l=[],D=[],C=l,y=h.slice();function g(B){return B.length>1&&B[0]==="-"}let A=null;for(;y.length;){let B=y.shift();if(B==="--"){C===D&&C.push(B),C.push(...y);break}if(A&&!g(B)){this.emit(`option:${A.name()}`,B);continue}if(A=null,g(B)){let R=this._findOption(B);if(R){if(R.required){let I=y.shift();I===void 0&&this.optionMissingArgument(R),this.emit(`option:${R.name()}`,I)}else if(R.optional){let I=null;y.length>0&&!g(y[0])&&(I=y.shift()),this.emit(`option:${R.name()}`,I)}else this.emit(`option:${R.name()}`);A=R.variadic?R:null;continue}}if(B.length>2&&B[0]==="-"&&B[1]!=="-"){let R=this._findOption(`-${B[1]}`);if(R){R.required||R.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${R.name()}`,B.slice(2)):(this.emit(`option:${R.name()}`),y.unshift(`-${B.slice(2)}`));continue}}if(/^--[^=]+=/.test(B)){let R=B.indexOf("="),I=this._findOption(B.slice(0,R));if(I&&(I.required||I.optional)){this.emit(`option:${I.name()}`,B.slice(R+1));continue}}if(g(B)&&(C=D),(this._enablePositionalOptions||this._passThroughOptions)&&l.length===0&&D.length===0){if(this._findCommand(B)){l.push(B),y.length>0&&D.push(...y);break}else if(B===this._helpCommandName&&this._hasImplicitHelpCommand()){l.push(B),y.length>0&&l.push(...y);break}else if(this._defaultCommandName){D.push(B),y.length>0&&D.push(...y);break}}if(this._passThroughOptions){C.push(B),y.length>0&&C.push(...y);break}C.push(B)}return{operands:l,unknown:D}}opts(){if(this._storeOptionsAsProperties){let h={},l=this.options.length;for(let D=0;D<l;D++){let C=this.options[D].attributeName();h[C]=C===this._versionOptionName?this._version:this[C]}return h}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((h,l)=>Object.assign(h,l.opts()),{})}error(h,l){this._outputConfiguration.outputError(`${h}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let D=l||{},C=D.exitCode||1,y=D.code||"commander.error";this._exit(C,y,h)}_parseOptionsEnv(){this.options.forEach(h=>{if(h.envVar&&h.envVar in n.env){let l=h.attributeName();(this.getOptionValue(l)===void 0||["default","config","env"].includes(this.getOptionValueSource(l)))&&(h.required||h.optional?this.emit(`optionEnv:${h.name()}`,n.env[h.envVar]):this.emit(`optionEnv:${h.name()}`))}})}_parseOptionsImplied(){let h=new _(this.options),l=D=>this.getOptionValue(D)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(D));this.options.filter(D=>D.implied!==void 0&&l(D.attributeName())&&h.valueFromOption(this.getOptionValue(D.attributeName()),D)).forEach(D=>{Object.keys(D.implied).filter(C=>!l(C)).forEach(C=>{this.setOptionValueWithSource(C,D.implied[C],"implied")})})}missingArgument(h){let l=`error: missing required argument '${h}'`;this.error(l,{code:"commander.missingArgument"})}optionMissingArgument(h){let l=`error: option '${h.flags}' argument missing`;this.error(l,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(h){let l=`error: required option '${h.flags}' not specified`;this.error(l,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(h,l){let D=g=>{let A=g.attributeName(),B=this.getOptionValue(A),R=this.options.find($=>$.negate&&A===$.attributeName()),I=this.options.find($=>!$.negate&&A===$.attributeName());return R&&(R.presetArg===void 0&&B===!1||R.presetArg!==void 0&&B===R.presetArg)?R:I||g},C=g=>{let A=D(g),B=A.attributeName();return this.getOptionValueSource(B)==="env"?`environment variable '${A.envVar}'`:`option '${A.flags}'`},y=`error: ${C(h)} cannot be used with ${C(l)}`;this.error(y,{code:"commander.conflictingOption"})}unknownOption(h){if(this._allowUnknownOption)return;let l="";if(h.startsWith("--")&&this._showSuggestionAfterError){let C=[],y=this;do{let g=y.createHelp().visibleOptions(y).filter(A=>A.long).map(A=>A.long);C=C.concat(g),y=y.parent}while(y&&!y._enablePositionalOptions);l=f(h,C)}let D=`error: unknown option '${h}'${l}`;this.error(D,{code:"commander.unknownOption"})}_excessArguments(h){if(this._allowExcessArguments)return;let l=this.registeredArguments.length,D=l===1?"":"s",C=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${l} argument${D} but got ${h.length}.`;this.error(C,{code:"commander.excessArguments"})}unknownCommand(){let h=this.args[0],l="";if(this._showSuggestionAfterError){let C=[];this.createHelp().visibleCommands(this).forEach(y=>{C.push(y.name()),y.alias()&&C.push(y.alias())}),l=f(h,C)}let D=`error: unknown command '${h}'${l}`;this.error(D,{code:"commander.unknownCommand"})}version(h,l,D){if(h===void 0)return this._version;this._version=h,l=l||"-V, --version",D=D||"output the version number";let C=this.createOption(l,D);return this._versionOptionName=C.attributeName(),this.options.push(C),this.on("option:"+C.name(),()=>{this._outputConfiguration.writeOut(`${h}
`),this._exit(0,"commander.version",h)}),this}description(h,l){return h===void 0&&l===void 0?this._description:(this._description=h,l&&(this._argsDescription=l),this)}summary(h){return h===void 0?this._summary:(this._summary=h,this)}alias(h){if(h===void 0)return this._aliases[0];let l=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(l=this.commands[this.commands.length-1]),h===l._name)throw new Error("Command alias can't be the same as its name");return l._aliases.push(h),this}aliases(h){return h===void 0?this._aliases:(h.forEach(l=>this.alias(l)),this)}usage(h){if(h===void 0){if(this._usage)return this._usage;let l=this.registeredArguments.map(D=>u(D));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?l:[]).join(" ")}return this._usage=h,this}name(h){return h===void 0?this._name:(this._name=h,this)}nameFromFilename(h){return this._name=r.basename(h,r.extname(h)),this}executableDir(h){return h===void 0?this._executableDir:(this._executableDir=h,this)}helpInformation(h){let l=this.createHelp();return l.helpWidth===void 0&&(l.helpWidth=h&&h.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),l.formatHelp(this,l)}_getHelpContext(h){h=h||{};let l={error:!!h.error},D;return l.error?D=C=>this._outputConfiguration.writeErr(C):D=C=>this._outputConfiguration.writeOut(C),l.write=h.write||D,l.command=this,l}outputHelp(h){let l;typeof h=="function"&&(l=h,h=void 0);let D=this._getHelpContext(h);this._getCommandAndAncestors().reverse().forEach(y=>y.emit("beforeAllHelp",D)),this.emit("beforeHelp",D);let C=this.helpInformation(D);if(l&&(C=l(C),typeof C!="string"&&!Buffer.isBuffer(C)))throw new Error("outputHelp callback must return a string or a Buffer");D.write(C),this._helpLongFlag&&this.emit(this._helpLongFlag),this.emit("afterHelp",D),this._getCommandAndAncestors().forEach(y=>y.emit("afterAllHelp",D))}helpOption(h,l){if(typeof h=="boolean")return this._hasHelpOption=h,this;this._helpFlags=h||this._helpFlags,this._helpDescription=l||this._helpDescription;let D=b(this._helpFlags);return this._helpShortFlag=D.shortFlag,this._helpLongFlag=D.longFlag,this}help(h){this.outputHelp(h);let l=n.exitCode||0;l===0&&h&&typeof h!="function"&&h.error&&(l=1),this._exit(l,"commander.help","(outputHelp)")}addHelpText(h,l){let D=["beforeAll","before","after","afterAll"];if(!D.includes(h))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${D.join("', '")}'`);let C=`${h}Help`;return this.on(C,y=>{let g;typeof l=="function"?g=l({error:y.error,command:y.command}):g=l,g&&y.write(`${g}
`)}),this}};function m(x,h){x._hasHelpOption&&h.find(l=>l===x._helpLongFlag||l===x._helpShortFlag)&&(x.outputHelp(),x._exit(0,"commander.helpDisplayed","(outputHelp)"))}function E(x){return x.map(h=>{if(!h.startsWith("--inspect"))return h;let l,D="127.0.0.1",C="9229",y;return(y=h.match(/^(--inspect(-brk)?)$/))!==null?l=y[1]:(y=h.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(l=y[1],/^\d+$/.test(y[3])?C=y[3]:D=y[3]):(y=h.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(l=y[1],D=y[3],C=y[4]),l&&C!=="0"?`${l}=${D}:${parseInt(C)+1}`:h})}a.Command=w}),Ir=W((a,t)=>{var{Argument:i}=me(),{Command:r}=Lr(),{CommanderError:s,InvalidArgumentError:n}=zt(),{Help:e}=Di(),{Option:u}=mi();a=t.exports=new r,a.program=a,a.Command=r,a.Option=u,a.Argument=i,a.Help=e,a.CommanderError=s,a.InvalidArgumentError=n,a.InvalidOptionArgumentError=n}),dt=_t(Xe(),1),Kt=_t(Je(),1);function Vr({onlyFirst:a=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,a?void 0:"g")}function Ei(a){if(typeof a!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof a}\``);return a.replace(Vr(),"")}var ee={},zr={get exports(){return ee},set exports(a){ee=a}};(function(a){var t={};a.exports=t,t.eastAsianWidth=function(r){var s=r.charCodeAt(0),n=r.length==2?r.charCodeAt(1):0,e=s;return 55296<=s&&s<=56319&&56320<=n&&n<=57343&&(s&=1023,n&=1023,e=s<<10|n,e+=65536),e==12288||65281<=e&&e<=65376||65504<=e&&e<=65510?"F":e==8361||65377<=e&&e<=65470||65474<=e&&e<=65479||65482<=e&&e<=65487||65490<=e&&e<=65495||65498<=e&&e<=65500||65512<=e&&e<=65518?"H":4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12289<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||110592<=e&&e<=110593||127488<=e&&e<=127490||127504<=e&&e<=127546||127552<=e&&e<=127560||127568<=e&&e<=127569||131072<=e&&e<=194367||177984<=e&&e<=196605||196608<=e&&e<=262141?"W":32<=e&&e<=126||162<=e&&e<=163||165<=e&&e<=166||e==172||e==175||10214<=e&&e<=10221||10629<=e&&e<=10630?"Na":e==161||e==164||167<=e&&e<=168||e==170||173<=e&&e<=174||176<=e&&e<=180||182<=e&&e<=186||188<=e&&e<=191||e==198||e==208||215<=e&&e<=216||222<=e&&e<=225||e==230||232<=e&&e<=234||236<=e&&e<=237||e==240||242<=e&&e<=243||247<=e&&e<=250||e==252||e==254||e==257||e==273||e==275||e==283||294<=e&&e<=295||e==299||305<=e&&e<=307||e==312||319<=e&&e<=322||e==324||328<=e&&e<=331||e==333||338<=e&&e<=339||358<=e&&e<=359||e==363||e==462||e==464||e==466||e==468||e==470||e==472||e==474||e==476||e==593||e==609||e==708||e==711||713<=e&&e<=715||e==717||e==720||728<=e&&e<=731||e==733||e==735||768<=e&&e<=879||913<=e&&e<=929||931<=e&&e<=937||945<=e&&e<=961||963<=e&&e<=969||e==1025||1040<=e&&e<=1103||e==1105||e==8208||8211<=e&&e<=8214||8216<=e&&e<=8217||8220<=e&&e<=8221||8224<=e&&e<=8226||8228<=e&&e<=8231||e==8240||8242<=e&&e<=8243||e==8245||e==8251||e==8254||e==8308||e==8319||8321<=e&&e<=8324||e==8364||e==8451||e==8453||e==8457||e==8467||e==8470||8481<=e&&e<=8482||e==8486||e==8491||8531<=e&&e<=8532||8539<=e&&e<=8542||8544<=e&&e<=8555||8560<=e&&e<=8569||e==8585||8592<=e&&e<=8601||8632<=e&&e<=8633||e==8658||e==8660||e==8679||e==8704||8706<=e&&e<=8707||8711<=e&&e<=8712||e==8715||e==8719||e==8721||e==8725||e==8730||8733<=e&&e<=8736||e==8739||e==8741||8743<=e&&e<=8748||e==8750||8756<=e&&e<=8759||8764<=e&&e<=8765||e==8776||e==8780||e==8786||8800<=e&&e<=8801||8804<=e&&e<=8807||8810<=e&&e<=8811||8814<=e&&e<=8815||8834<=e&&e<=8835||8838<=e&&e<=8839||e==8853||e==8857||e==8869||e==8895||e==8978||9312<=e&&e<=9449||9451<=e&&e<=9547||9552<=e&&e<=9587||9600<=e&&e<=9615||9618<=e&&e<=9621||9632<=e&&e<=9633||9635<=e&&e<=9641||9650<=e&&e<=9651||9654<=e&&e<=9655||9660<=e&&e<=9661||9664<=e&&e<=9665||9670<=e&&e<=9672||e==9675||9678<=e&&e<=9681||9698<=e&&e<=9701||e==9711||9733<=e&&e<=9734||e==9737||9742<=e&&e<=9743||9748<=e&&e<=9749||e==9756||e==9758||e==9792||e==9794||9824<=e&&e<=9825||9827<=e&&e<=9829||9831<=e&&e<=9834||9836<=e&&e<=9837||e==9839||9886<=e&&e<=9887||9918<=e&&e<=9919||9924<=e&&e<=9933||9935<=e&&e<=9953||e==9955||9960<=e&&e<=9983||e==10045||e==10071||10102<=e&&e<=10111||11093<=e&&e<=11097||12872<=e&&e<=12879||57344<=e&&e<=63743||65024<=e&&e<=65039||e==65533||127232<=e&&e<=127242||127248<=e&&e<=127277||127280<=e&&e<=127337||127344<=e&&e<=127386||917760<=e&&e<=917999||983040<=e&&e<=1048573||1048576<=e&&e<=1114109?"A":"N"},t.characterLength=function(r){var s=this.eastAsianWidth(r);return s=="F"||s=="W"||s=="A"?2:1};function i(r){return r.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}t.length=function(r){for(var s=i(r),n=0,e=0;e<s.length;e++)n=n+this.characterLength(s[e]);return n},t.slice=function(r,s,n){textLen=t.length(r),s=s||0,n=n||1,s<0&&(s=textLen+s),n<0&&(n=textLen+n);for(var e="",u=0,o=i(r),c=0;c<o.length;c++){var d=o[c],b=t.length(d);if(u>=s-(b==2?1:0))if(u+b<=n)e+=d;else break;u+=b}return e}})(zr);var Ur=ee,Wr=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};function Rt(a,t={}){if(typeof a!="string"||a.length===0||(t={ambiguousIsNarrow:!0,...t},a=Ei(a),a.length===0))return 0;a=a.replace(Wr(),"  ");let i=t.ambiguousIsNarrow?1:2,r=0;for(let s of a){let n=s.codePointAt(0);if(!(n<=31||n>=127&&n<=159||n>=768&&n<=879))switch(Ur.eastAsianWidth(s)){case"F":case"W":r+=2;break;case"A":r+=i;break;default:r+=1}}return r}var Xt=10,Me=(a=0)=>t=>`\x1B[${t+a}m`,Pe=(a=0)=>t=>`\x1B[${38+a};5;${t}m`,He=(a=0)=>(t,i,r)=>`\x1B[${38+a};2;${t};${i};${r}m`,nt={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(nt.modifier);var Gr=Object.keys(nt.color),qr=Object.keys(nt.bgColor);[...Gr,...qr];function Zr(){let a=new Map;for(let[t,i]of Object.entries(nt)){for(let[r,s]of Object.entries(i))nt[r]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},i[r]=nt[r],a.set(s[0],s[1]);Object.defineProperty(nt,t,{value:i,enumerable:!1})}return Object.defineProperty(nt,"codes",{value:a,enumerable:!1}),nt.color.close="\x1B[39m",nt.bgColor.close="\x1B[49m",nt.color.ansi=Me(),nt.color.ansi256=Pe(),nt.color.ansi16m=He(),nt.bgColor.ansi=Me(Xt),nt.bgColor.ansi256=Pe(Xt),nt.bgColor.ansi16m=He(Xt),Object.defineProperties(nt,{rgbToAnsi256:{value:(t,i,r)=>t===i&&i===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:t=>{let i=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!i)return[0,0,0];let[r]=i;r.length===3&&(r=[...r].map(n=>n+n).join(""));let s=Number.parseInt(r,16);return[s>>16&255,s>>8&255,s&255]},enumerable:!1},hexToAnsi256:{value:t=>nt.rgbToAnsi256(...nt.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let i,r,s;if(t>=232)i=((t-232)*10+8)/255,r=i,s=i;else{t-=16;let u=t%36;i=Math.floor(t/36)/5,r=Math.floor(u/6)/5,s=u%6/5}let n=Math.max(i,r,s)*2;if(n===0)return 30;let e=30+(Math.round(s)<<2|Math.round(r)<<1|Math.round(i));return n===2&&(e+=60),e},enumerable:!1},rgbToAnsi:{value:(t,i,r)=>nt.ansi256ToAnsi(nt.rgbToAnsi256(t,i,r)),enumerable:!1},hexToAnsi:{value:t=>nt.ansi256ToAnsi(nt.hexToAnsi256(t)),enumerable:!1}}),nt}var Yr=Zr(),Ut=new Set(["\x1B","\x9B"]),Kr=39,fe="\x07",bi="[",Xr="]",yi="m",ge=`${Xr}8;;`,je=a=>`${Ut.values().next().value}${bi}${a}${yi}`,Ve=a=>`${Ut.values().next().value}${ge}${a}${fe}`,Jr=a=>a.split(" ").map(t=>Rt(t)),Jt=(a,t,i)=>{let r=[...t],s=!1,n=!1,e=Rt(Ei(a[a.length-1]));for(let[u,o]of r.entries()){let c=Rt(o);if(e+c<=i?a[a.length-1]+=o:(a.push(o),e=0),Ut.has(o)&&(s=!0,n=r.slice(u+1).join("").startsWith(ge)),s){n?o===fe&&(s=!1,n=!1):o===yi&&(s=!1);continue}e+=c,e===i&&u<r.length-1&&(a.push(""),e=0)}!e&&a[a.length-1].length>0&&a.length>1&&(a[a.length-2]+=a.pop())},Qr=a=>{let t=a.split(" "),i=t.length;for(;i>0&&!(Rt(t[i-1])>0);)i--;return i===t.length?a:t.slice(0,i).join(" ")+t.slice(i).join("")},ts=(a,t,i={})=>{if(i.trim!==!1&&a.trim()==="")return"";let r="",s,n,e=Jr(a),u=[""];for(let[c,d]of a.split(" ").entries()){i.trim!==!1&&(u[u.length-1]=u[u.length-1].trimStart());let b=Rt(u[u.length-1]);if(c!==0&&(b>=t&&(i.wordWrap===!1||i.trim===!1)&&(u.push(""),b=0),(b>0||i.trim===!1)&&(u[u.length-1]+=" ",b++)),i.hard&&e[c]>t){let _=t-b,f=1+Math.floor((e[c]-_-1)/t);Math.floor((e[c]-1)/t)<f&&u.push(""),Jt(u,d,t);continue}if(b+e[c]>t&&b>0&&e[c]>0){if(i.wordWrap===!1&&b<t){Jt(u,d,t);continue}u.push("")}if(b+e[c]>t&&i.wordWrap===!1){Jt(u,d,t);continue}u[u.length-1]+=d}i.trim!==!1&&(u=u.map(c=>Qr(c)));let o=[...u.join(`
`)];for(let[c,d]of o.entries()){if(r+=d,Ut.has(d)){let{groups:_}=new RegExp(`(?:\\${bi}(?<code>\\d+)m|\\${ge}(?<uri>.*)${fe})`).exec(o.slice(c).join(""))||{groups:{}};if(_.code!==void 0){let f=Number.parseFloat(_.code);s=f===Kr?void 0:f}else _.uri!==void 0&&(n=_.uri.length===0?void 0:_.uri)}let b=Yr.codes.get(Number(s));o[c+1]===`
`?(n&&(r+=Ve("")),s&&b&&(r+=je(b))):d===`
`&&(s&&b&&(r+=je(s)),n&&(r+=Ve(n)))}return r};function ze(a,t,i){return String(a).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>ts(r,t,i)).join(`
`)}function es(a,t){if(a===t)return;let i=a.split(`
`),r=t.split(`
`),s=[];for(let n=0;n<Math.max(i.length,r.length);n++)i[n]!==r[n]&&s.push(n);return s}var Fi=Symbol("clack:cancel");function kt(a){return a===Fi}function Ht(a,t){a.isTTY&&a.setRawMode(t)}var Ue=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),is=new Set(["up","down","left","right","space","enter"]),Ce=class{constructor({render:a,input:t=gi,output:i=Ci,...r},s=!0){this._track=!1,this._cursor=0,this.state="initial",this.error="",this.subscribers=new Map,this._prevFrame="",this.opts=r,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=a.bind(this),this._track=s,this.input=t,this.output=i}prompt(){let a=new jr(0);return a._write=(t,i,r)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),r()},this.input.pipe(a),this.rl=Ne.createInterface({input:this.input,output:a,tabSize:2,prompt:"",escapeCodeTimeout:50}),Ne.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Ht(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((t,i)=>{this.once("submit",()=>{this.output.write(dt.cursor.show),this.output.off("resize",this.render),Ht(this.input,!1),t(this.value)}),this.once("cancel",()=>{this.output.write(dt.cursor.show),this.output.off("resize",this.render),Ht(this.input,!1),t(Fi)})})}on(a,t){let i=this.subscribers.get(a)??[];i.push({cb:t}),this.subscribers.set(a,i)}once(a,t){let i=this.subscribers.get(a)??[];i.push({cb:t,once:!0}),this.subscribers.set(a,i)}emit(a,...t){let i=this.subscribers.get(a)??[],r=[];for(let s of i)s.cb(...t),s.once&&r.push(()=>i.splice(i.indexOf(s),1));for(let s of r)s()}unsubscribe(){this.subscribers.clear()}onKeypress(a,t){if(this.state==="error"&&(this.state="active"),t?.name&&!this._track&&Ue.has(t.name)&&this.emit("cursor",Ue.get(t.name)),t?.name&&is.has(t.name)&&this.emit("cursor",t.name),a&&(a.toLowerCase()==="y"||a.toLowerCase()==="n")&&this.emit("confirm",a.toLowerCase()==="y"),a&&this.emit("key",a.toLowerCase()),t?.name==="return"){if(this.opts.validate){let i=this.opts.validate(this.value);i&&(this.error=i,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}a===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Ht(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let a=ze(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(dt.cursor.move(-999,a*-1))}render(){let a=ze(this._render(this)??"",process.stdout.columns,{hard:!0});if(a!==this._prevFrame){if(this.state==="initial")this.output.write(dt.cursor.hide);else{let t=es(this._prevFrame,a);if(this.restoreCursor(),t&&t?.length===1){let i=t[0];this.output.write(dt.cursor.move(0,i)),this.output.write(dt.erase.lines(1));let r=a.split(`
`);this.output.write(r[i]),this._prevFrame=a,this.output.write(dt.cursor.move(0,r.length-i-1));return}else if(t&&t?.length>1){let i=t[0];this.output.write(dt.cursor.move(0,i)),this.output.write(dt.erase.down());let r=a.split(`
`).slice(i);this.output.write(r.join(`
`)),this._prevFrame=a;return}this.output.write(dt.erase.down())}this.output.write(a),this.state==="initial"&&(this.state="active"),this._prevFrame=a}}},rs=class extends Ce{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(a){super(a,!1),this.value=!!a.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",t=>{this.output.write(dt.cursor.move(0,-1)),this.value=t,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}},ss=class extends Ce{constructor(a){super(a,!1),this.cursor=0,this.options=a.options,this.cursor=this.options.findIndex(({value:t})=>t===a.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",t=>{switch(t){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}},ns=class extends Ce{constructor(a){super(a),this.valueWithCursor="",this.on("finalize",()=>{this.value||(this.value=a.defaultValue),this.valueWithCursor=this.value}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.value}${Kt.default.inverse(Kt.default.hidden("_"))}`;else{let t=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.valueWithCursor=`${t}${Kt.default.inverse(i[0])}${i.slice(1)}`}})}get cursor(){return this._cursor}};function os({input:a=gi,output:t=Ci,overwrite:i=!0,hideCursor:r=!0}={}){let s=bt.createInterface({input:a,output:t,prompt:"",tabSize:1});bt.emitKeypressEvents(a,s),a.isTTY&&a.setRawMode(!0);let n=(e,{name:u})=>{String(e)===""&&process.exit(0),i&&bt.moveCursor(t,u==="return"?0:-1,u==="return"?-1:0,()=>{bt.clearLine(t,1,()=>{a.once("keypress",n)})})};return r&&process.stdout.write(dt.cursor.hide),a.once("keypress",n),()=>{a.off("keypress",n),r&&process.stdout.write(dt.cursor.show),a.isTTY&&a.setRawMode(!1),s.terminal=!1,s.close()}}var H=_t(Je(),1),jt=_t(Xe(),1);function us(){return gt.platform!=="win32"?gt.env.TERM!=="linux":!!gt.env.CI||!!gt.env.WT_SESSION||!!gt.env.TERMINUS_SUBLIME||gt.env.ConEmuTask==="{cmd::Cmder}"||gt.env.TERM_PROGRAM==="Terminus-Sublime"||gt.env.TERM_PROGRAM==="vscode"||gt.env.TERM==="xterm-256color"||gt.env.TERM==="alacritty"||gt.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var ie=us(),ht=(a,t)=>ie?a:t,as=ht("\u25C6","*"),_i=ht("\u25A0","x"),wi=ht("\u25B2","x"),Ee=ht("\u25C7","o"),hs=ht("\u250C","T"),at=ht("\u2502","|"),Tt=ht("\u2514","\u2014"),re=ht("\u25CF",">"),se=ht("\u25CB"," "),wn=ht("\u25FB","[\u2022]"),vn=ht("\u25FC","[+]"),An=ht("\u25FB","[ ]"),On=ht("\u25AA","\u2022"),Sn=ht("\u2500","-"),Bn=ht("\u256E","+"),xn=ht("\u251C","+"),Rn=ht("\u256F","+"),ls=ht("\u25CF","\u2022"),cs=ht("\u25C6","*"),ps=ht("\u25B2","!"),ds=ht("\u25A0","x"),be=a=>{switch(a){case"initial":case"active":return H.default.cyan(as);case"cancel":return H.default.red(_i);case"error":return H.default.yellow(wi);case"submit":return H.default.green(Ee)}},Ds=a=>new ns({validate:a.validate,placeholder:a.placeholder,defaultValue:a.defaultValue,initialValue:a.initialValue,render(){let t=`${H.default.gray(at)}
${be(this.state)}  ${a.message}
`,i=a.placeholder?H.default.inverse(a.placeholder[0])+H.default.dim(a.placeholder.slice(1)):H.default.inverse(H.default.hidden("_")),r=this.value?this.valueWithCursor:i;switch(this.state){case"error":return`${t.trim()}
${H.default.yellow(at)}  ${r}
${H.default.yellow(Tt)}  ${H.default.yellow(this.error)}
`;case"submit":return`${t}${H.default.gray(at)}  ${H.default.dim(this.value||a.placeholder)}`;case"cancel":return`${t}${H.default.gray(at)}  ${H.default.strikethrough(H.default.dim(this.value??""))}${this.value?.trim()?`
`+H.default.gray(at):""}`;default:return`${t}${H.default.cyan(at)}  ${r}
${H.default.cyan(Tt)}
`}}}).prompt(),We=a=>{let t=a.active??"Yes",i=a.inactive??"No";return new rs({active:t,inactive:i,initialValue:a.initialValue??!0,render(){let r=`${H.default.gray(at)}
${be(this.state)}  ${a.message}
`,s=this.value?t:i;switch(this.state){case"submit":return`${r}${H.default.gray(at)}  ${H.default.dim(s)}`;case"cancel":return`${r}${H.default.gray(at)}  ${H.default.strikethrough(H.default.dim(s))}
${H.default.gray(at)}`;default:return`${r}${H.default.cyan(at)}  ${this.value?`${H.default.green(re)} ${t}`:`${H.default.dim(se)} ${H.default.dim(t)}`} ${H.default.dim("/")} ${this.value?`${H.default.dim(se)} ${H.default.dim(i)}`:`${H.default.green(re)} ${i}`}
${H.default.cyan(Tt)}
`}}}).prompt()},vi=a=>{let t=(r,s)=>{let n=r.label??String(r.value);return s==="active"?`${H.default.green(re)} ${n} ${r.hint?H.default.dim(`(${r.hint})`):""}`:s==="selected"?`${H.default.dim(n)}`:s==="cancelled"?`${H.default.strikethrough(H.default.dim(n))}`:`${H.default.dim(se)} ${H.default.dim(n)}`},i=0;return new ss({options:a.options,initialValue:a.initialValue,render(){let r=`${H.default.gray(at)}
${be(this.state)}  ${a.message}
`;switch(this.state){case"submit":return`${r}${H.default.gray(at)}  ${t(this.options[this.cursor],"selected")}`;case"cancel":return`${r}${H.default.gray(at)}  ${t(this.options[this.cursor],"cancelled")}
${H.default.gray(at)}`;default:{let s=a.maxItems===void 0?1/0:Math.max(a.maxItems,5);this.cursor>=i+s-3?i=Math.max(Math.min(this.cursor-s+3,this.options.length-s),0):this.cursor<i+2&&(i=Math.max(this.cursor-2,0));let n=s<this.options.length&&i>0,e=s<this.options.length&&i+s<this.options.length;return`${r}${H.default.cyan(at)}  ${this.options.slice(i,i+s).map((u,o,c)=>o===0&&n||o===c.length-1&&e?H.default.dim("..."):t(u,o+i===this.cursor?"active":"inactive")).join(`
${H.default.cyan(at)}  `)}
${H.default.cyan(Tt)}
`}}}}).prompt()},ms=(a="")=>{process.stdout.write(`${H.default.gray(hs)}  ${a}
`)},Ft=(a="")=>{process.stdout.write(`${H.default.gray(at)}
${H.default.gray(Tt)}  ${a}

`)},Dt={message:(a="",{symbol:t=H.default.gray(at)}={})=>{let i=[`${H.default.gray(at)}`];if(a){let[r,...s]=a.split(`
`);i.push(`${t}  ${r}`,...s.map(n=>`${H.default.gray(at)}  ${n}`))}process.stdout.write(`${i.join(`
`)}
`)},info:a=>{Dt.message(a,{symbol:H.default.blue(ls)})},success:a=>{Dt.message(a,{symbol:H.default.green(cs)})},step:a=>{Dt.message(a,{symbol:H.default.green(Ee)})},warn:a=>{Dt.message(a,{symbol:H.default.yellow(ps)})},warning:a=>{Dt.warn(a)},error:a=>{Dt.message(a,{symbol:H.default.red(ds)})}},fs=()=>{let a=ie?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],t=ie?80:120,i,r,s=!1,n="",e=(d="")=>{s=!0,i=os(),n=d.replace(/\.+$/,""),process.stdout.write(`${H.default.gray(at)}
`);let b=0,_=0;r=setInterval(()=>{let f=H.default.magenta(a[b]),w=".".repeat(Math.floor(_)).slice(0,3);process.stdout.write(jt.cursor.move(-999,0)),process.stdout.write(jt.erase.down(1)),process.stdout.write(`${f}  ${n}${w}`),b=b+1<a.length?b+1:0,_=_<a.length?_+.125:0},t)},u=(d="",b=0)=>{n=d??n,s=!1,clearInterval(r);let _=b===0?H.default.green(Ee):b===1?H.default.red(_i):H.default.red(wi);process.stdout.write(jt.cursor.move(-999,0)),process.stdout.write(jt.erase.down(1)),process.stdout.write(`${_}  ${n}
`),i()},o=(d="")=>{n=d??n},c=d=>{let b=d>1?"Something went wrong":"Canceled";s&&u(b,d)};return process.on("uncaughtExceptionMonitor",()=>c(2)),process.on("unhandledRejection",()=>c(2)),process.on("SIGINT",()=>c(1)),process.on("SIGTERM",()=>c(1)),process.on("exit",c),{start:e,stop:u,message:o}},gs=async(a,t)=>{if(Pr(a)){let i=Nr(a);if(i.isFile()||i.isSymbolicLink()){if(t)Dt.warn("Target is a file or symlink, but force flag is set, removing file and continuing.");else{Dt.warn("Target is a file or symlink.");let r=await We({message:"Remove and continue?",initialValue:!1});(kt(r)||!r)&&(Ft("Cancelled. No changes were made."),process.exit(0))}Hr(a)}if(i.isDirectory()&&Mr(a).length>0)if(t)Dt.warn("Target directory is not empty but force flag is set, continuing.");else{Dt.warn("Target directory is not empty.");let r=await We({message:"Continue anyway?",initialValue:!1});(kt(r)||!r)&&(Ft("Cancelled. No changes were made."),process.exit(0))}}},Cs="cloudflare-community/cloudspark",Qt={js:{name:"js",displayName:"JavaScript",description:"Plain JavaScript"},ts:{name:"ts",displayName:"TypeScript",description:"TypeScript with types set up for Cloudflare Workers"},rs:{name:"rs",displayName:"Rust",description:"Rust, running using the workers.rs project"}},Ge=[{name:"hello-world",displayName:"Hello World",description:"A simple Hello World script for getting started with Cloudflare Workers",languages:[Qt.ts,Qt.js,Qt.rs]}],Es=_t(wr(),1);function Ai(a=""){return!a||!a.includes("\\")?a:a.replace(/\\/g,"/")}var vs=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,As=/^[A-Za-z]:$/;function Os(){return typeof process<"u"?process.cwd().replace(/\\/g,"/"):"/"}var At=function(...a){a=a.map(r=>Ai(r));let t="",i=!1;for(let r=a.length-1;r>=-1&&!i;r--){let s=r>=0?a[r]:Os();!s||s.length===0||(t=`${s}/${t}`,i=ne(s))}return t=Ss(t,!i),i&&!ne(t)?`/${t}`:t.length>0?t:"."};function Ss(a,t){let i="",r=0,s=-1,n=0,e=null;for(let u=0;u<=a.length;++u){if(u<a.length)e=a[u];else{if(e==="/")break;e="/"}if(e==="/"){if(!(s===u-1||n===1))if(n===2){if(i.length<2||r!==2||i[i.length-1]!=="."||i[i.length-2]!=="."){if(i.length>2){let o=i.lastIndexOf("/");o===-1?(i="",r=0):(i=i.slice(0,o),r=i.length-1-i.lastIndexOf("/")),s=u,n=0;continue}else if(i.length>0){i="",r=0,s=u,n=0;continue}}t&&(i+=i.length>0?"/..":"..",r=2)}else i.length>0?i+=`/${a.slice(s+1,u)}`:i=a.slice(s+1,u),r=u-s-1;s=u,n=0}else e==="."&&n!==-1?++n:n=-1}return i}var ne=function(a){return vs.test(a)},Bs=function(a){let t=Ai(a).replace(/\/$/,"").split("/").slice(0,-1);return t.length===1&&As.test(t[0])&&(t[0]+="/"),t.join("/")||(ne(a)?"/":".")};function oe(a,t,i=".",r){if(!te(t))return oe(a,{},i,r);let s=Object.assign({},t);for(let n in a){if(n==="__proto__"||n==="constructor")continue;let e=a[n];e!=null&&(r&&r(s,n,e,i)||(Array.isArray(e)&&Array.isArray(s[n])?s[n]=[...e,...s[n]]:te(e)&&te(s[n])?s[n]=oe(e,s[n],(i?`${i}.`:"")+n.toString(),r):s[n]=e))}return s}function te(a){if(a===null||typeof a!="object")return!1;let t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)}function ye(a){return(...t)=>t.reduce((i,r)=>oe(i,r,"",a),{})}var xs=ye(),$n=ye((a,t,i)=>{if(a[t]!==void 0&&typeof i=="function")return a[t]=i(a[t]),!0}),Ln=ye((a,t,i)=>{if(Array.isArray(a[t])&&typeof i=="function")return a[t]=i(a[t]),!0});async function $s(a,t,i={}){let r=t+".json",s=JSON.parse(await bs(r,"utf8").catch(()=>"{}")),n=(await ue(a,{method:"HEAD",headers:i.headers}).catch(()=>{}))?.headers.get("etag");if(s.etag===n&&xt(t))return;typeof n=="string"&&(s.etag=n);let e=await ue(a,{headers:i.headers});if(e.status>=400)throw new Error(`Failed to download ${a}: ${e.status} ${e.statusText}`);let u=_s(t);await Ts(Rs)(e.body,u),await ys(r,JSON.stringify(s),"utf8")}var Ls=/^(?<repo>[\w.-]+\/[\w.-]+)(?<subdir>[^#]+)?(?<ref>#[\w./-]+)?/;function Wt(a){let t=a.match(Ls)?.groups||{};return{repo:t.repo,subdir:t.subdir||"/",ref:t.ref?t.ref.slice(1):"main"}}function Vt(...a){process.env.DEBUG&&console.debug("[giget]",...a)}async function ue(a,t={}){if(!t.agent){let i=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;if(i){let r=await Promise.resolve().then(()=>_t(Tr(),1)).then(s=>s.HttpsProxyAgent||s.default);t.agent=new r(i)}}return await fetch(a,{...t,headers:Oi(t.headers)})}function Is(){return process.env.XDG_CACHE_HOME?At(process.env.XDG_CACHE_HOME,"giget"):At(ks(),".cache/giget")}function Oi(a={}){let t={};for(let[i,r]of Object.entries(a))r&&(t[i.toLowerCase()]=r);return t}var Ze=(a,t)=>{let i=Wt(a),r=process.env.GIGET_GITHUB_URL||"https://api.github.com";return{name:i.repo.replace("/","-"),version:i.ref,subdir:i.subdir,headers:{Authorization:t.auth?`Bearer ${t.auth}`:void 0,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"},url:`${r.replace("api.github.com","github.com")}/${i.repo}/tree/${i.ref}${i.subdir}`,tar:`${r}/repos/${i.repo}/tarball/${i.ref}`}},Ns=(a,t)=>{let i=Wt(a),r=process.env.GIGET_GITLAB_URL||"https://gitlab.com";return{name:i.repo.replace("/","-"),version:i.ref,subdir:i.subdir,headers:{authorization:t.auth?`Bearer ${t.auth}`:void 0},url:`${r}/${i.repo}/tree/${i.ref}${i.subdir}`,tar:`${r}/${i.repo}/-/archive/${i.ref}.tar.gz`}},Ms=(a,t)=>{let i=Wt(a);return{name:i.repo.replace("/","-"),version:i.ref,subdir:i.subdir,headers:{authorization:t.auth?`Bearer ${t.auth}`:void 0},url:`https://bitbucket.com/${i.repo}/src/${i.ref}${i.subdir}`,tar:`https://bitbucket.org/${i.repo}/get/${i.ref}.tar.gz`}},Ps=(a,t)=>{let i=Wt(a);return{name:i.repo.replace("/","-"),version:i.ref,subdir:i.subdir,headers:{authorization:t.auth?`Bearer ${t.auth}`:void 0},url:`https://git.sr.ht/~${i.repo}/tree/${i.ref}/item${i.subdir}`,tar:`https://git.sr.ht/~${i.repo}/archive/${i.ref}.tar.gz`}},Hs={github:Ze,gh:Ze,gitlab:Ns,bitbucket:Ms,sourcehut:Ps},js="https://raw.githubusercontent.com/unjs/giget/main/templates",Vs=(a=js,t={})=>async i=>{let r=Date.now(),s=`${a}/${i}.json`,n=await ue(s,{headers:{authorization:t.auth?`Bearer ${t.auth}`:void 0}});if(n.status>=400)throw new Error(`Failed to download ${i} template info from ${s}: ${n.status} ${n.statusText}`);let e=await n.json();if(!e.tar||!e.name)throw new Error(`Invalid template info from ${s}. name or tar fields are missing!`);return Vt(`Fetched ${i} template info from ${s} in ${Date.now()-r}ms`),e},zs=/^([\w-.]+):/;async function Us(a,t={}){t=xs({registry:process.env.GIGET_REGISTRY,auth:process.env.GIGET_AUTH},t);let i=t.registry===!1?void 0:Vs(t.registry,{auth:t.auth}),r=t.provider||(i?"registry":"github"),s=a,n=a.match(zs);n&&(r=n[1],s=a.slice(n[0].length));let e=t.providers?.[r]||Hs[r]||i;if(!e)throw new Error(`Unsupported provider: ${r}`);let u=await Promise.resolve().then(()=>e(s,{auth:t.auth})).catch(w=>{throw new Error(`Failed to download template from ${r}: ${w.message}`)});if(!u)throw new Error(`Failed to resolve template from ${r}`);u.name=(u.name||"template").replace(/[^\da-z-]/gi,"-"),u.defaultDir=(u.defaultDir||u.name).replace(/[^\da-z-]/gi,"-");let o=At(t.cwd||"."),c=At(o,t.dir||u.defaultDir);if(t.forceClean&&await Fs(c,{recursive:!0,force:!0}),!t.force&&xt(c)&&ws(c).length>0)throw new Error(`Destination ${c} already exists.`);await qe(c,{recursive:!0});let d=At(Is(),r,u.name),b=At(d,(u.version||u.name)+".tar.gz");if(t.preferOffline&&xt(b)&&(t.offline=!0),!t.offline){await qe(Bs(b),{recursive:!0});let w=Date.now();await $s(u.tar,b,{headers:{Authorization:t.auth?`Bearer ${t.auth}`:void 0,...Oi(u.headers)}}).catch(m=>{if(!xt(b))throw m;Vt("Download error. Using cached version:",m),t.offline=!0}),Vt(`Downloaded ${u.tar} to ${b} in ${Date.now()-w}ms`)}if(!xt(b))throw new Error(`Tarball not found: ${b} (offline: ${t.offline})`);let _=Date.now(),f=u.subdir?.replace(/^\//,"")||"";return await(0,Es.extract)({file:b,cwd:c,onentry(w){w.path=w.path.split("/").splice(1).join("/"),f&&(w.path.startsWith(f+"/")?w.path=w.path.slice(f.length):w.path="")}}),Vt(`Extracted to ${c} in ${Date.now()-_}ms`),{...u,source:s,dir:c}}var Ye=(a,t)=>`github:${Cs}/templates/${a}/${t}`;async function Ws(a,t){let i=fs();i.start("Downloading template (this may take a while)...");try{await Us(a,{dir:t,force:!0})}catch(r){i.stop(r.message,1),Ft("Exited. Artifacts may be present on filesystem."),process.exit(1)}i.stop("Successfully cloned template.")}var qs=async a=>{let t=await vi({message:"Select a template",options:a.map(i=>({label:i.displayName,value:i.name,hint:i.description}))});return kt(t)&&(Ft("Cancelled. No changes were made."),process.exit(0)),a.find(i=>i.name==t)},Zs=async a=>{let t=await vi({message:"Select a language",options:a.languages.map(i=>({label:i.displayName,value:i.name,hint:i.description}))});return kt(t)&&(Ft("Cancelled. No changes were made."),process.exit(0)),t},Ys=async()=>{let a=await Ds({message:"Enter the target directory you want to initialize in",placeholder:"./worker",defaultValue:"./worker"});return kt(a)&&(Ft("Cancelled. No changes were made."),process.exit(0)),Gs(a)},Fe=async(a,t,i)=>{ms("Cloudspark CLI \u26A1\uFE0F");let r,s;if(a)Dt.message("Express mode active. Initializing the template."),r=`${i.provider??"github"}:${a}`,s=t??"worker";else if(i.y){Dt.message("Bypassing all prompts, and initializing the default template.");let n=Ge[0];r=Ye(n.name,n.languages[0].name),s="worker"}else{Dt.message("Let's get started by selecting a template.");let n=await qs(Ge),e=await Zs(n);r=Ye(n.name,e),s=await Ys()}await gs(s,i.force),await Ws(r,s),Ft(`Done! Your Worker is ready to go at "${s}"`),process.exit(0)},Ks=_t(Ir(),1),{program:Xs,createCommand:Hn,createArgument:jn,createOption:Vn,CommanderError:zn,InvalidArgumentError:Un,InvalidOptionArgumentError:Wn,Command:Gn,Argument:qn,Option:Zn,Help:Yn}=Ks.default,Si=Xs.name("cloudspark").description("Cloudspark CLI, your CommunityApproved\u2122 Cloudflare Developer Platform CLI");Si.command("init").description("Initialize a new Worker").argument("[repo]","The repository to initialize.").argument("[folder]","The folder to initialize to.").option("-y","Bypass prompts and use default values(doesn't apply to output folder conflicts).").option("-f, --force","Force clone the template, ignoring existing files.").action(Fe);await Si.parseAsync();var zi=Xi(Vi(),1),{program:Ui,createCommand:eu,createArgument:iu,createOption:ru,CommanderError:su,InvalidArgumentError:nu,InvalidOptionArgumentError:ou,Command:uu,Argument:au,Option:hu,Help:lu}=zi.default;var fn=Ui.name("create-cloudspark").description("create-cloudspark, just a few seconds to your first Cloudflare Developer Platform Project").description("Initialize a new Worker").argument("[repo]","The repository to initialize.").argument("[folder]","The folder to initialize to.").option("-y","Bypass prompts and use default values(doesn't apply to output folder conflicts).").option("-f, --force","Force clone the template, ignoring existing files.").action(Fe);await fn.parseAsync();export{Fe as init};
