#!/usr/bin/env node
import { createRequire as topLevelCreateRequire } from "module";const require = topLevelCreateRequire(import.meta.url);
var Tc=Object.create;var Yo=Object.defineProperty;var $c=Object.getOwnPropertyDescriptor;var Lc=Object.getOwnPropertyNames;var Nc=Object.getPrototypeOf,Ic=Object.prototype.hasOwnProperty;var p=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')});var g=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var Mc=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Lc(e))!Ic.call(s,r)&&r!==t&&Yo(s,r,{get:()=>e[r],enumerable:!(i=$c(e,r))||i.enumerable});return s};var ft=(s,e,t)=>(t=s!=null?Tc(Nc(s)):{},Mc(e||!s||!s.__esModule?Yo(t,"default",{value:s,enumerable:!0}):t,s));var cr=g((vp,Ko)=>{"use strict";var hr="\x1B",B=`${hr}[`,Pc="\x07",lr={to(s,e){return e?`${B}${e+1};${s+1}H`:`${B}${s+1}G`},move(s,e){let t="";return s<0?t+=`${B}${-s}D`:s>0&&(t+=`${B}${s}C`),e<0?t+=`${B}${-e}A`:e>0&&(t+=`${B}${e}B`),t},up:(s=1)=>`${B}${s}A`,down:(s=1)=>`${B}${s}B`,forward:(s=1)=>`${B}${s}C`,backward:(s=1)=>`${B}${s}D`,nextLine:(s=1)=>`${B}E`.repeat(s),prevLine:(s=1)=>`${B}F`.repeat(s),left:`${B}G`,hide:`${B}?25l`,show:`${B}?25h`,save:`${hr}7`,restore:`${hr}8`},kc={up:(s=1)=>`${B}S`.repeat(s),down:(s=1)=>`${B}T`.repeat(s)},qc={screen:`${B}2J`,up:(s=1)=>`${B}1J`.repeat(s),down:(s=1)=>`${B}J`.repeat(s),line:`${B}2K`,lineEnd:`${B}K`,lineStart:`${B}1K`,lines(s){let e="";for(let t=0;t<s;t++)e+=this.line+(t<s-1?lr.up():"");return s&&(e+=lr.left),e}};Ko.exports={cursor:lr,scroll:kc,erase:qc,beep:Pc}});var fr=g((Bp,Dr)=>{var Hc=p("tty"),Uc=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||Hc.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),A=(s,e,t=s)=>i=>{let r=""+i,o=r.indexOf(e,s.length);return~o?s+Zo(r,e,t,o)+e:s+r+e},Zo=(s,e,t,i)=>{let r=s.substring(0,i)+t,o=s.substring(i+e.length),n=o.indexOf(e);return~n?r+Zo(o,e,t,n):r+o},Xo=(s=Uc)=>({isColorSupported:s,reset:s?e=>`\x1B[0m${e}\x1B[0m`:String,bold:s?A("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:s?A("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:s?A("\x1B[3m","\x1B[23m"):String,underline:s?A("\x1B[4m","\x1B[24m"):String,inverse:s?A("\x1B[7m","\x1B[27m"):String,hidden:s?A("\x1B[8m","\x1B[28m"):String,strikethrough:s?A("\x1B[9m","\x1B[29m"):String,black:s?A("\x1B[30m","\x1B[39m"):String,red:s?A("\x1B[31m","\x1B[39m"):String,green:s?A("\x1B[32m","\x1B[39m"):String,yellow:s?A("\x1B[33m","\x1B[39m"):String,blue:s?A("\x1B[34m","\x1B[39m"):String,magenta:s?A("\x1B[35m","\x1B[39m"):String,cyan:s?A("\x1B[36m","\x1B[39m"):String,white:s?A("\x1B[37m","\x1B[39m"):String,gray:s?A("\x1B[90m","\x1B[39m"):String,bgBlack:s?A("\x1B[40m","\x1B[49m"):String,bgRed:s?A("\x1B[41m","\x1B[49m"):String,bgGreen:s?A("\x1B[42m","\x1B[49m"):String,bgYellow:s?A("\x1B[43m","\x1B[49m"):String,bgBlue:s?A("\x1B[44m","\x1B[49m"):String,bgMagenta:s?A("\x1B[45m","\x1B[49m"):String,bgCyan:s?A("\x1B[46m","\x1B[49m"):String,bgWhite:s?A("\x1B[47m","\x1B[49m"):String});Dr.exports=Xo();Dr.exports.createColors=Xo});var Bt=g((eg,yu)=>{"use strict";var Fu=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);yu.exports=s=>s?Object.keys(s).map(e=>[Fu.has(e)?Fu.get(e):e,s[e]]).reduce((e,t)=>(e[t[0]]=t[1],e),Object.create(null)):{}});var js=g(xu=>{"use strict";var bu=typeof process=="object"&&process?process:{stdout:null,stderr:null},pD=p("events"),_u=p("stream"),gD=p("string_decoder"),wu=gD.StringDecoder,Be=Symbol("EOF"),Re=Symbol("maybeEmitEnd"),Ke=Symbol("emittedEnd"),qs=Symbol("emittingEnd"),os=Symbol("emittedError"),Hs=Symbol("closed"),Su=Symbol("read"),Us=Symbol("flush"),Au=Symbol("flushChunk"),K=Symbol("encoding"),xe=Symbol("decoder"),zs=Symbol("flowing"),us=Symbol("paused"),Rt=Symbol("resume"),T=Symbol("buffer"),Fe=Symbol("pipes"),N=Symbol("bufferLength"),vr=Symbol("bufferPush"),Br=Symbol("bufferShift"),q=Symbol("objectMode"),$=Symbol("destroyed"),Rr=Symbol("error"),xr=Symbol("emitData"),Ou=Symbol("emitEnd"),Tr=Symbol("emitEnd2"),Te=Symbol("async"),$r=Symbol("abort"),Vs=Symbol("aborted"),dt=Symbol("signal"),as=s=>Promise.resolve().then(s),Ru=global._MP_NO_ITERATOR_SYMBOLS_!=="1",vu=Ru&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Bu=Ru&&Symbol.iterator||Symbol("iterator not implemented"),ED=s=>s==="end"||s==="finish"||s==="prefinish",CD=s=>s instanceof ArrayBuffer||typeof s=="object"&&s.constructor&&s.constructor.name==="ArrayBuffer"&&s.byteLength>=0,FD=s=>!Buffer.isBuffer(s)&&ArrayBuffer.isView(s),Ws=class{constructor(e,t,i){this.src=e,this.dest=t,this.opts=i,this.ondrain=()=>e[Rt](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Lr=class extends Ws{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,i){super(e,t,i),this.proxyErrors=r=>t.emit("error",r),e.on("error",this.proxyErrors)}},Nr=class s extends _u{constructor(e){super(),this[zs]=!1,this[us]=!1,this[Fe]=[],this[T]=[],this[q]=e&&e.objectMode||!1,this[q]?this[K]=null:this[K]=e&&e.encoding||null,this[K]==="buffer"&&(this[K]=null),this[Te]=e&&!!e.async||!1,this[xe]=this[K]?new wu(this[K]):null,this[Be]=!1,this[Ke]=!1,this[qs]=!1,this[Hs]=!1,this[os]=null,this.writable=!0,this.readable=!0,this[N]=0,this[$]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[T]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Fe]}),this[dt]=e&&e.signal,this[Vs]=!1,this[dt]&&(this[dt].addEventListener("abort",()=>this[$r]()),this[dt].aborted&&this[$r]())}get bufferLength(){return this[N]}get encoding(){return this[K]}set encoding(e){if(this[q])throw new Error("cannot set encoding in objectMode");if(this[K]&&e!==this[K]&&(this[xe]&&this[xe].lastNeed||this[N]))throw new Error("cannot change encoding");this[K]!==e&&(this[xe]=e?new wu(e):null,this[T].length&&(this[T]=this[T].map(t=>this[xe].write(t)))),this[K]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[q]}set objectMode(e){this[q]=this[q]||!!e}get async(){return this[Te]}set async(e){this[Te]=this[Te]||!!e}[$r](){this[Vs]=!0,this.emit("abort",this[dt].reason),this.destroy(this[dt].reason)}get aborted(){return this[Vs]}set aborted(e){}write(e,t,i){if(this[Vs])return!1;if(this[Be])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(i=t,t="utf8"),t||(t="utf8");let r=this[Te]?as:o=>o();return!this[q]&&!Buffer.isBuffer(e)&&(FD(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):CD(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[q]?(this.flowing&&this[N]!==0&&this[Us](!0),this.flowing?this.emit("data",e):this[vr](e),this[N]!==0&&this.emit("readable"),i&&r(i),this.flowing):e.length?(typeof e=="string"&&!(t===this[K]&&!this[xe].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[K]&&(e=this[xe].write(e)),this.flowing&&this[N]!==0&&this[Us](!0),this.flowing?this.emit("data",e):this[vr](e),this[N]!==0&&this.emit("readable"),i&&r(i),this.flowing):(this[N]!==0&&this.emit("readable"),i&&r(i),this.flowing)}read(e){if(this[$])return null;if(this[N]===0||e===0||e>this[N])return this[Re](),null;this[q]&&(e=null),this[T].length>1&&!this[q]&&(this.encoding?this[T]=[this[T].join("")]:this[T]=[Buffer.concat(this[T],this[N])]);let t=this[Su](e||null,this[T][0]);return this[Re](),t}[Su](e,t){return e===t.length||e===null?this[Br]():(this[T][0]=t.slice(e),t=t.slice(0,e),this[N]-=e),this.emit("data",t),!this[T].length&&!this[Be]&&this.emit("drain"),t}end(e,t,i){return typeof e=="function"&&(i=e,e=null),typeof t=="function"&&(i=t,t="utf8"),e&&this.write(e,t),i&&this.once("end",i),this[Be]=!0,this.writable=!1,(this.flowing||!this[us])&&this[Re](),this}[Rt](){this[$]||(this[us]=!1,this[zs]=!0,this.emit("resume"),this[T].length?this[Us]():this[Be]?this[Re]():this.emit("drain"))}resume(){return this[Rt]()}pause(){this[zs]=!1,this[us]=!0}get destroyed(){return this[$]}get flowing(){return this[zs]}get paused(){return this[us]}[vr](e){this[q]?this[N]+=1:this[N]+=e.length,this[T].push(e)}[Br](){return this[q]?this[N]-=1:this[N]-=this[T][0].length,this[T].shift()}[Us](e){do;while(this[Au](this[Br]())&&this[T].length);!e&&!this[T].length&&!this[Be]&&this.emit("drain")}[Au](e){return this.emit("data",e),this.flowing}pipe(e,t){if(this[$])return;let i=this[Ke];return t=t||{},e===bu.stdout||e===bu.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,i?t.end&&e.end():(this[Fe].push(t.proxyErrors?new Lr(this,e,t):new Ws(this,e,t)),this[Te]?as(()=>this[Rt]()):this[Rt]()),e}unpipe(e){let t=this[Fe].find(i=>i.dest===e);t&&(this[Fe].splice(this[Fe].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let i=super.on(e,t);return e==="data"&&!this[Fe].length&&!this.flowing?this[Rt]():e==="readable"&&this[N]!==0?super.emit("readable"):ED(e)&&this[Ke]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[os]&&(this[Te]?as(()=>t.call(this,this[os])):t.call(this,this[os])),i}get emittedEnd(){return this[Ke]}[Re](){!this[qs]&&!this[Ke]&&!this[$]&&this[T].length===0&&this[Be]&&(this[qs]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Hs]&&this.emit("close"),this[qs]=!1)}emit(e,t,...i){if(e!=="error"&&e!=="close"&&e!==$&&this[$])return;if(e==="data")return!this[q]&&!t?!1:this[Te]?as(()=>this[xr](t)):this[xr](t);if(e==="end")return this[Ou]();if(e==="close"){if(this[Hs]=!0,!this[Ke]&&!this[$])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[os]=t,super.emit(Rr,t);let o=!this[dt]||this.listeners("error").length?super.emit("error",t):!1;return this[Re](),o}else if(e==="resume"){let o=super.emit("resume");return this[Re](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let r=super.emit(e,t,...i);return this[Re](),r}[xr](e){for(let i of this[Fe])i.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[Re](),t}[Ou](){this[Ke]||(this[Ke]=!0,this.readable=!1,this[Te]?as(()=>this[Tr]()):this[Tr]())}[Tr](){if(this[xe]){let t=this[xe].end();if(t){for(let i of this[Fe])i.dest.write(t);super.emit("data",t)}}for(let t of this[Fe])t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[q]||(e.dataLength=0);let t=this.promise();return this.on("data",i=>{e.push(i),this[q]||(e.dataLength+=i.length)}),t.then(()=>e)}concat(){return this[q]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[q]?Promise.reject(new Error("cannot concat in objectMode")):this[K]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on($,()=>t(new Error("stream destroyed"))),this.on("error",i=>t(i)),this.on("end",()=>e())})}[vu](){let e=!1,t=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return t();let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[Be])return t();let o=null,n=null,u=c=>{this.removeListener("data",h),this.removeListener("end",a),this.removeListener($,l),t(),n(c)},h=c=>{this.removeListener("error",u),this.removeListener("end",a),this.removeListener($,l),this.pause(),o({value:c,done:!!this[Be]})},a=()=>{this.removeListener("error",u),this.removeListener("data",h),this.removeListener($,l),t(),o({done:!0})},l=()=>u(new Error("stream destroyed"));return new Promise((c,D)=>{n=D,o=c,this.once($,l),this.once("error",u),this.once("end",a),this.once("data",h)})},throw:t,return:t,[vu](){return this}}}[Bu](){let e=!1,t=()=>(this.pause(),this.removeListener(Rr,t),this.removeListener($,t),this.removeListener("end",t),e=!0,{done:!0}),i=()=>{if(e)return t();let r=this.read();return r===null?t():{value:r}};return this.once("end",t),this.once(Rr,t),this.once($,t),{next:i,throw:t,return:t,[Bu](){return this}}}destroy(e){return this[$]?(e?this.emit("error",e):this.emit($),this):(this[$]=!0,this[T].length=0,this[N]=0,typeof this.close=="function"&&!this[Hs]&&this.close(),e?this.emit("error",e):this.emit($),this)}static isStream(e){return!!e&&(e instanceof s||e instanceof _u||e instanceof pD&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};xu.Minipass=Nr});var $u=g((sg,Tu)=>{var yD=p("zlib").constants||{ZLIB_VERNUM:4736};Tu.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},yD))});var zu=g((ig,Uu)=>{"use strict";var Lu=typeof process=="object"&&process?process:{stdout:null,stderr:null},bD=p("events"),Nu=p("stream"),Iu=p("string_decoder").StringDecoder,$e=Symbol("EOF"),Le=Symbol("maybeEmitEnd"),Ze=Symbol("emittedEnd"),Gs=Symbol("emittingEnd"),hs=Symbol("emittedError"),Ys=Symbol("closed"),Mu=Symbol("read"),Ks=Symbol("flush"),Pu=Symbol("flushChunk"),Z=Symbol("encoding"),Ne=Symbol("decoder"),Zs=Symbol("flowing"),ls=Symbol("paused"),xt=Symbol("resume"),I=Symbol("bufferLength"),Ir=Symbol("bufferPush"),Mr=Symbol("bufferShift"),U=Symbol("objectMode"),z=Symbol("destroyed"),Pr=Symbol("emitData"),ku=Symbol("emitEnd"),kr=Symbol("emitEnd2"),Ie=Symbol("async"),cs=s=>Promise.resolve().then(s),qu=global._MP_NO_ITERATOR_SYMBOLS_!=="1",_D=qu&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),wD=qu&&Symbol.iterator||Symbol("iterator not implemented"),SD=s=>s==="end"||s==="finish"||s==="prefinish",AD=s=>s instanceof ArrayBuffer||typeof s=="object"&&s.constructor&&s.constructor.name==="ArrayBuffer"&&s.byteLength>=0,OD=s=>!Buffer.isBuffer(s)&&ArrayBuffer.isView(s),Xs=class{constructor(e,t,i){this.src=e,this.dest=t,this.opts=i,this.ondrain=()=>e[xt](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},qr=class extends Xs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,i){super(e,t,i),this.proxyErrors=r=>t.emit("error",r),e.on("error",this.proxyErrors)}};Uu.exports=class Hu extends Nu{constructor(e){super(),this[Zs]=!1,this[ls]=!1,this.pipes=[],this.buffer=[],this[U]=e&&e.objectMode||!1,this[U]?this[Z]=null:this[Z]=e&&e.encoding||null,this[Z]==="buffer"&&(this[Z]=null),this[Ie]=e&&!!e.async||!1,this[Ne]=this[Z]?new Iu(this[Z]):null,this[$e]=!1,this[Ze]=!1,this[Gs]=!1,this[Ys]=!1,this[hs]=null,this.writable=!0,this.readable=!0,this[I]=0,this[z]=!1}get bufferLength(){return this[I]}get encoding(){return this[Z]}set encoding(e){if(this[U])throw new Error("cannot set encoding in objectMode");if(this[Z]&&e!==this[Z]&&(this[Ne]&&this[Ne].lastNeed||this[I]))throw new Error("cannot change encoding");this[Z]!==e&&(this[Ne]=e?new Iu(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[Ne].write(t)))),this[Z]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[U]}set objectMode(e){this[U]=this[U]||!!e}get async(){return this[Ie]}set async(e){this[Ie]=this[Ie]||!!e}write(e,t,i){if(this[$e])throw new Error("write after end");if(this[z])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(i=t,t="utf8"),t||(t="utf8");let r=this[Ie]?cs:o=>o();return!this[U]&&!Buffer.isBuffer(e)&&(OD(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):AD(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[U]?(this.flowing&&this[I]!==0&&this[Ks](!0),this.flowing?this.emit("data",e):this[Ir](e),this[I]!==0&&this.emit("readable"),i&&r(i),this.flowing):e.length?(typeof e=="string"&&!(t===this[Z]&&!this[Ne].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[Z]&&(e=this[Ne].write(e)),this.flowing&&this[I]!==0&&this[Ks](!0),this.flowing?this.emit("data",e):this[Ir](e),this[I]!==0&&this.emit("readable"),i&&r(i),this.flowing):(this[I]!==0&&this.emit("readable"),i&&r(i),this.flowing)}read(e){if(this[z])return null;if(this[I]===0||e===0||e>this[I])return this[Le](),null;this[U]&&(e=null),this.buffer.length>1&&!this[U]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[I])]);let t=this[Mu](e||null,this.buffer[0]);return this[Le](),t}[Mu](e,t){return e===t.length||e===null?this[Mr]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[I]-=e),this.emit("data",t),!this.buffer.length&&!this[$e]&&this.emit("drain"),t}end(e,t,i){return typeof e=="function"&&(i=e,e=null),typeof t=="function"&&(i=t,t="utf8"),e&&this.write(e,t),i&&this.once("end",i),this[$e]=!0,this.writable=!1,(this.flowing||!this[ls])&&this[Le](),this}[xt](){this[z]||(this[ls]=!1,this[Zs]=!0,this.emit("resume"),this.buffer.length?this[Ks]():this[$e]?this[Le]():this.emit("drain"))}resume(){return this[xt]()}pause(){this[Zs]=!1,this[ls]=!0}get destroyed(){return this[z]}get flowing(){return this[Zs]}get paused(){return this[ls]}[Ir](e){this[U]?this[I]+=1:this[I]+=e.length,this.buffer.push(e)}[Mr](){return this.buffer.length&&(this[U]?this[I]-=1:this[I]-=this.buffer[0].length),this.buffer.shift()}[Ks](e){do;while(this[Pu](this[Mr]()));!e&&!this.buffer.length&&!this[$e]&&this.emit("drain")}[Pu](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[z])return;let i=this[Ze];return t=t||{},e===Lu.stdout||e===Lu.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,i?t.end&&e.end():(this.pipes.push(t.proxyErrors?new qr(this,e,t):new Xs(this,e,t)),this[Ie]?cs(()=>this[xt]()):this[xt]()),e}unpipe(e){let t=this.pipes.find(i=>i.dest===e);t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let i=super.on(e,t);return e==="data"&&!this.pipes.length&&!this.flowing?this[xt]():e==="readable"&&this[I]!==0?super.emit("readable"):SD(e)&&this[Ze]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[hs]&&(this[Ie]?cs(()=>t.call(this,this[hs])):t.call(this,this[hs])),i}get emittedEnd(){return this[Ze]}[Le](){!this[Gs]&&!this[Ze]&&!this[z]&&this.buffer.length===0&&this[$e]&&(this[Gs]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Ys]&&this.emit("close"),this[Gs]=!1)}emit(e,t,...i){if(e!=="error"&&e!=="close"&&e!==z&&this[z])return;if(e==="data")return t?this[Ie]?cs(()=>this[Pr](t)):this[Pr](t):!1;if(e==="end")return this[ku]();if(e==="close"){if(this[Ys]=!0,!this[Ze]&&!this[z])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[hs]=t;let o=super.emit("error",t);return this[Le](),o}else if(e==="resume"){let o=super.emit("resume");return this[Le](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let r=super.emit(e,t,...i);return this[Le](),r}[Pr](e){for(let i of this.pipes)i.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[Le](),t}[ku](){this[Ze]||(this[Ze]=!0,this.readable=!1,this[Ie]?cs(()=>this[kr]()):this[kr]())}[kr](){if(this[Ne]){let t=this[Ne].end();if(t){for(let i of this.pipes)i.dest.write(t);super.emit("data",t)}}for(let t of this.pipes)t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[U]||(e.dataLength=0);let t=this.promise();return this.on("data",i=>{e.push(i),this[U]||(e.dataLength+=i.length)}),t.then(()=>e)}concat(){return this[U]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[U]?Promise.reject(new Error("cannot concat in objectMode")):this[Z]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(z,()=>t(new Error("stream destroyed"))),this.on("error",i=>t(i)),this.on("end",()=>e())})}[_D](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[$e])return Promise.resolve({done:!0});let i=null,r=null,o=a=>{this.removeListener("data",n),this.removeListener("end",u),r(a)},n=a=>{this.removeListener("error",o),this.removeListener("end",u),this.pause(),i({value:a,done:!!this[$e]})},u=()=>{this.removeListener("error",o),this.removeListener("data",n),i({done:!0})},h=()=>o(new Error("stream destroyed"));return new Promise((a,l)=>{r=l,i=a,this.once(z,h),this.once("error",o),this.once("end",u),this.once("data",n)})}}}[wD](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[z]?(e?this.emit("error",e):this.emit(z),this):(this[z]=!0,this.buffer.length=0,this[I]=0,typeof this.close=="function"&&!this[Ys]&&this.close(),e?this.emit("error",e):this.emit(z),this)}static isStream(e){return!!e&&(e instanceof Hu||e instanceof Nu||e instanceof bD&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var sn=g(te=>{"use strict";var Wr=p("assert"),Xe=p("buffer").Buffer,ju=p("zlib"),mt=te.constants=$u(),vD=zu(),Vu=Xe.concat,pt=Symbol("_superWrite"),$t=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},BD=Symbol("opts"),Ds=Symbol("flushFlag"),Wu=Symbol("finishFlushFlag"),tn=Symbol("fullFlushFlag"),w=Symbol("handle"),Js=Symbol("onError"),Tt=Symbol("sawError"),Hr=Symbol("level"),Ur=Symbol("strategy"),zr=Symbol("ended"),rg=Symbol("_defaultFullFlush"),Qs=class extends vD{constructor(e,t){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[Tt]=!1,this[zr]=!1,this[BD]=e,this[Ds]=e.flush,this[Wu]=e.finishFlush;try{this[w]=new ju[t](e)}catch(i){throw new $t(i)}this[Js]=i=>{this[Tt]||(this[Tt]=!0,this.close(),this.emit("error",i))},this[w].on("error",i=>this[Js](new $t(i))),this.once("end",()=>this.close)}close(){this[w]&&(this[w].close(),this[w]=null,this.emit("close"))}reset(){if(!this[Tt])return Wr(this[w],"zlib binding closed"),this[w].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[tn]),this.write(Object.assign(Xe.alloc(0),{[Ds]:e})))}end(e,t,i){return e&&this.write(e,t),this.flush(this[Wu]),this[zr]=!0,super.end(null,null,i)}get ended(){return this[zr]}write(e,t,i){if(typeof t=="function"&&(i=t,t="utf8"),typeof e=="string"&&(e=Xe.from(e,t)),this[Tt])return;Wr(this[w],"zlib binding closed");let r=this[w]._handle,o=r.close;r.close=()=>{};let n=this[w].close;this[w].close=()=>{},Xe.concat=a=>a;let u;try{let a=typeof e[Ds]=="number"?e[Ds]:this[Ds];u=this[w]._processChunk(e,a),Xe.concat=Vu}catch(a){Xe.concat=Vu,this[Js](new $t(a))}finally{this[w]&&(this[w]._handle=r,r.close=o,this[w].close=n,this[w].removeAllListeners("error"))}this[w]&&this[w].on("error",a=>this[Js](new $t(a)));let h;if(u)if(Array.isArray(u)&&u.length>0){h=this[pt](Xe.from(u[0]));for(let a=1;a<u.length;a++)h=this[pt](u[a])}else h=this[pt](Xe.from(u));return i&&i(),h}[pt](e){return super.write(e)}},Me=class extends Qs{constructor(e,t){e=e||{},e.flush=e.flush||mt.Z_NO_FLUSH,e.finishFlush=e.finishFlush||mt.Z_FINISH,super(e,t),this[tn]=mt.Z_FULL_FLUSH,this[Hr]=e.level,this[Ur]=e.strategy}params(e,t){if(!this[Tt]){if(!this[w])throw new Error("cannot switch params when binding is closed");if(!this[w].params)throw new Error("not supported in this implementation");if(this[Hr]!==e||this[Ur]!==t){this.flush(mt.Z_SYNC_FLUSH),Wr(this[w],"zlib binding closed");let i=this[w].flush;this[w].flush=(r,o)=>{this.flush(r),o()};try{this[w].params(e,t)}finally{this[w].flush=i}this[w]&&(this[Hr]=e,this[Ur]=t)}}}},jr=class extends Me{constructor(e){super(e,"Deflate")}},Gr=class extends Me{constructor(e){super(e,"Inflate")}},Vr=Symbol("_portable"),Yr=class extends Me{constructor(e){super(e,"Gzip"),this[Vr]=e&&!!e.portable}[pt](e){return this[Vr]?(this[Vr]=!1,e[9]=255,super[pt](e)):super[pt](e)}},Kr=class extends Me{constructor(e){super(e,"Gunzip")}},Zr=class extends Me{constructor(e){super(e,"DeflateRaw")}},Xr=class extends Me{constructor(e){super(e,"InflateRaw")}},Jr=class extends Me{constructor(e){super(e,"Unzip")}},ei=class extends Qs{constructor(e,t){e=e||{},e.flush=e.flush||mt.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||mt.BROTLI_OPERATION_FINISH,super(e,t),this[tn]=mt.BROTLI_OPERATION_FLUSH}},Qr=class extends ei{constructor(e){super(e,"BrotliCompress")}},en=class extends ei{constructor(e){super(e,"BrotliDecompress")}};te.Deflate=jr;te.Inflate=Gr;te.Gzip=Yr;te.Gunzip=Kr;te.DeflateRaw=Zr;te.InflateRaw=Xr;te.Unzip=Jr;typeof ju.BrotliCompress=="function"?(te.BrotliCompress=Qr,te.BrotliDecompress=en):te.BrotliCompress=te.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Lt=g((ug,Gu)=>{var RD=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;Gu.exports=RD!=="win32"?s=>s:s=>s&&s.replace(/\\/g,"/")});var ti=g((hg,Yu)=>{"use strict";var{Minipass:xD}=js(),rn=Lt(),nn=Symbol("slurp");Yu.exports=class extends xD{constructor(e,t,i){switch(super(),this.pause(),this.extended=t,this.globalExtended=i,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=rn(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=rn(e.linkpath),this.uname=e.uname,this.gname=e.gname,t&&this[nn](t),i&&this[nn](i,!0)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");let i=this.remain,r=this.blockRemain;return this.remain=Math.max(0,i-t),this.blockRemain=Math.max(0,r-t),this.ignore?!0:i>=t?super.write(e):super.write(e.slice(0,i))}[nn](e,t){for(let i in e)e[i]!==null&&e[i]!==void 0&&!(t&&i==="path")&&(this[i]=i==="path"||i==="linkpath"?rn(e[i]):e[i])}}});var on=g(si=>{"use strict";si.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);si.code=new Map(Array.from(si.name).map(s=>[s[1],s[0]]))});var Ju=g((cg,Xu)=>{"use strict";var TD=(s,e)=>{if(Number.isSafeInteger(s))s<0?LD(s,e):$D(s,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},$D=(s,e)=>{e[0]=128;for(var t=e.length;t>1;t--)e[t-1]=s&255,s=Math.floor(s/256)},LD=(s,e)=>{e[0]=255;var t=!1;s=s*-1;for(var i=e.length;i>1;i--){var r=s&255;s=Math.floor(s/256),t?e[i-1]=Ku(r):r===0?e[i-1]=0:(t=!0,e[i-1]=Zu(r))}},ND=s=>{let e=s[0],t=e===128?MD(s.slice(1,s.length)):e===255?ID(s):null;if(t===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(t))throw Error("parsed number outside of javascript safe integer range");return t},ID=s=>{for(var e=s.length,t=0,i=!1,r=e-1;r>-1;r--){var o=s[r],n;i?n=Ku(o):o===0?n=o:(i=!0,n=Zu(o)),n!==0&&(t-=n*Math.pow(256,e-r-1))}return t},MD=s=>{for(var e=s.length,t=0,i=e-1;i>-1;i--){var r=s[i];r!==0&&(t+=r*Math.pow(256,e-i-1))}return t},Ku=s=>(255^s)&255,Zu=s=>(255^s)+1&255;Xu.exports={encode:TD,parse:ND}});var It=g((Dg,ea)=>{"use strict";var un=on(),Nt=p("path").posix,Qu=Ju(),an=Symbol("slurp"),se=Symbol("type"),cn=class{constructor(e,t,i,r){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[se]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,t||0,i,r):e&&this.set(e)}decode(e,t,i,r){if(t||(t=0),!e||!(e.length>=t+512))throw new Error("need 512 bytes for header");if(this.path=gt(e,t,100),this.mode=Je(e,t+100,8),this.uid=Je(e,t+108,8),this.gid=Je(e,t+116,8),this.size=Je(e,t+124,12),this.mtime=hn(e,t+136,12),this.cksum=Je(e,t+148,12),this[an](i),this[an](r,!0),this[se]=gt(e,t+156,1),this[se]===""&&(this[se]="0"),this[se]==="0"&&this.path.slice(-1)==="/"&&(this[se]="5"),this[se]==="5"&&(this.size=0),this.linkpath=gt(e,t+157,100),e.slice(t+257,t+265).toString()==="ustar\x0000")if(this.uname=gt(e,t+265,32),this.gname=gt(e,t+297,32),this.devmaj=Je(e,t+329,8),this.devmin=Je(e,t+337,8),e[t+475]!==0){let n=gt(e,t+345,155);this.path=n+"/"+this.path}else{let n=gt(e,t+345,130);n&&(this.path=n+"/"+this.path),this.atime=hn(e,t+476,12),this.ctime=hn(e,t+488,12)}let o=8*32;for(let n=t;n<t+148;n++)o+=e[n];for(let n=t+156;n<t+512;n++)o+=e[n];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[an](e,t){for(let i in e)e[i]!==null&&e[i]!==void 0&&!(t&&i==="path")&&(this[i]=e[i])}encode(e,t){if(e||(e=this.block=Buffer.alloc(512),t=0),t||(t=0),!(e.length>=t+512))throw new Error("need 512 bytes for header");let i=this.ctime||this.atime?130:155,r=PD(this.path||"",i),o=r[0],n=r[1];this.needPax=r[2],this.needPax=Et(e,t,100,o)||this.needPax,this.needPax=Qe(e,t+100,8,this.mode)||this.needPax,this.needPax=Qe(e,t+108,8,this.uid)||this.needPax,this.needPax=Qe(e,t+116,8,this.gid)||this.needPax,this.needPax=Qe(e,t+124,12,this.size)||this.needPax,this.needPax=ln(e,t+136,12,this.mtime)||this.needPax,e[t+156]=this[se].charCodeAt(0),this.needPax=Et(e,t+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",t+257,8),this.needPax=Et(e,t+265,32,this.uname)||this.needPax,this.needPax=Et(e,t+297,32,this.gname)||this.needPax,this.needPax=Qe(e,t+329,8,this.devmaj)||this.needPax,this.needPax=Qe(e,t+337,8,this.devmin)||this.needPax,this.needPax=Et(e,t+345,i,n)||this.needPax,e[t+475]!==0?this.needPax=Et(e,t+345,155,n)||this.needPax:(this.needPax=Et(e,t+345,130,n)||this.needPax,this.needPax=ln(e,t+476,12,this.atime)||this.needPax,this.needPax=ln(e,t+488,12,this.ctime)||this.needPax);let u=8*32;for(let h=t;h<t+148;h++)u+=e[h];for(let h=t+156;h<t+512;h++)u+=e[h];return this.cksum=u,Qe(e,t+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let t in e)e[t]!==null&&e[t]!==void 0&&(this[t]=e[t])}get type(){return un.name.get(this[se])||this[se]}get typeKey(){return this[se]}set type(e){un.code.has(e)?this[se]=un.code.get(e):this[se]=e}},PD=(s,e)=>{let i=s,r="",o,n=Nt.parse(s).root||".";if(Buffer.byteLength(i)<100)o=[i,r,!1];else{r=Nt.dirname(i),i=Nt.basename(i);do Buffer.byteLength(i)<=100&&Buffer.byteLength(r)<=e?o=[i,r,!1]:Buffer.byteLength(i)>100&&Buffer.byteLength(r)<=e?o=[i.slice(0,100-1),r,!0]:(i=Nt.join(Nt.basename(r),i),r=Nt.dirname(r));while(r!==n&&!o);o||(o=[s.slice(0,100-1),"",!0])}return o},gt=(s,e,t)=>s.slice(e,e+t).toString("utf8").replace(/\0.*/,""),hn=(s,e,t)=>kD(Je(s,e,t)),kD=s=>s===null?null:new Date(s*1e3),Je=(s,e,t)=>s[e]&128?Qu.parse(s.slice(e,e+t)):HD(s,e,t),qD=s=>isNaN(s)?null:s,HD=(s,e,t)=>qD(parseInt(s.slice(e,e+t).toString("utf8").replace(/\0.*$/,"").trim(),8)),UD={12:8589934591,8:2097151},Qe=(s,e,t,i)=>i===null?!1:i>UD[t]||i<0?(Qu.encode(i,s.slice(e,e+t)),!0):(zD(s,e,t,i),!1),zD=(s,e,t,i)=>s.write(VD(i,t),e,t,"ascii"),VD=(s,e)=>WD(Math.floor(s).toString(8),e),WD=(s,e)=>(s.length===e-1?s:new Array(e-s.length-1).join("0")+s+" ")+"\0",ln=(s,e,t,i)=>i===null?!1:Qe(s,e,t,i.getTime()/1e3),jD=new Array(156).join("\0"),Et=(s,e,t,i)=>i===null?!1:(s.write(i+jD,e,t,"utf8"),i.length!==Buffer.byteLength(i)||i.length>t);ea.exports=cn});var ii=g((fg,ta)=>{"use strict";var GD=It(),YD=p("path"),fs=class{constructor(e,t){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=t||!1}encode(){let e=this.encodeBody();if(e==="")return null;let t=Buffer.byteLength(e),i=512*Math.ceil(1+t/512),r=Buffer.allocUnsafe(i);for(let o=0;o<512;o++)r[o]=0;new GD({path:("PaxHeader/"+YD.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(r),r.write(e,512,t,"utf8");for(let o=t+512;o<r.length;o++)r[o]=0;return r}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let t=this[e]instanceof Date?this[e].getTime()/1e3:this[e],i=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+t+`
`,r=Buffer.byteLength(i),o=Math.floor(Math.log(r)/Math.log(10))+1;return r+o>=Math.pow(10,o)&&(o+=1),o+r+i}};fs.parse=(s,e,t)=>new fs(KD(ZD(s),e),t);var KD=(s,e)=>e?Object.keys(s).reduce((t,i)=>(t[i]=s[i],t),e):s,ZD=s=>s.replace(/\n$/,"").split(`
`).reduce(XD,Object.create(null)),XD=(s,e)=>{let t=parseInt(e,10);if(t!==Buffer.byteLength(e)+1)return s;e=e.slice((t+" ").length);let i=e.split("="),r=i.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!r)return s;let o=i.join("=");return s[r]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(r)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,s};ta.exports=fs});var Mt=g((dg,sa)=>{sa.exports=s=>{let e=s.length-1,t=-1;for(;e>-1&&s.charAt(e)==="/";)t=e,e--;return t===-1?s:s.slice(0,t)}});var ri=g((mg,ia)=>{"use strict";ia.exports=s=>class extends s{warn(e,t,i={}){this.file&&(i.file=this.file),this.cwd&&(i.cwd=this.cwd),i.code=t instanceof Error&&t.code||e,i.tarCode=e,!this.strict&&i.recoverable!==!1?(t instanceof Error&&(i=Object.assign(t,i),t=t.message),this.emit("warn",i.tarCode,t,i)):t instanceof Error?this.emit("error",Object.assign(t,i)):this.emit("error",Object.assign(new Error(`${e}: ${t}`),i))}}});var fn=g((gg,ra)=>{"use strict";var ni=["|","<",">","?",":"],Dn=ni.map(s=>String.fromCharCode(61440+s.charCodeAt(0))),JD=new Map(ni.map((s,e)=>[s,Dn[e]])),QD=new Map(Dn.map((s,e)=>[s,ni[e]]));ra.exports={encode:s=>ni.reduce((e,t)=>e.split(t).join(JD.get(t)),s),decode:s=>Dn.reduce((e,t)=>e.split(t).join(QD.get(t)),s)}});var dn=g((Eg,oa)=>{var{isAbsolute:ef,parse:na}=p("path").win32;oa.exports=s=>{let e="",t=na(s);for(;ef(s)||t.root;){let i=s.charAt(0)==="/"&&s.slice(0,4)!=="//?/"?"/":t.root;s=s.slice(i.length),e+=i,t=na(s)}return[e,s]}});var aa=g((Cg,ua)=>{"use strict";ua.exports=(s,e,t)=>(s&=4095,t&&(s=(s|384)&-19),e&&(s&256&&(s|=64),s&32&&(s|=8),s&4&&(s|=1)),s)});var wn=g((bg,ba)=>{"use strict";var{Minipass:ma}=js(),pa=ii(),ga=It(),be=p("fs"),ha=p("path"),ye=Lt(),tf=Mt(),Ea=(s,e)=>e?(s=ye(s).replace(/^\.(\/|$)/,""),tf(e)+"/"+s):ye(s),sf=16*1024*1024,la=Symbol("process"),ca=Symbol("file"),Da=Symbol("directory"),pn=Symbol("symlink"),fa=Symbol("hardlink"),ds=Symbol("header"),oi=Symbol("read"),gn=Symbol("lstat"),ui=Symbol("onlstat"),En=Symbol("onread"),Cn=Symbol("onreadlink"),Fn=Symbol("openfile"),yn=Symbol("onopenfile"),et=Symbol("close"),ai=Symbol("mode"),bn=Symbol("awaitDrain"),mn=Symbol("ondrain"),_e=Symbol("prefix"),da=Symbol("hadError"),Ca=ri(),rf=fn(),Fa=dn(),ya=aa(),hi=Ca(class extends ma{constructor(e,t){if(t=t||{},super(t),typeof e!="string")throw new TypeError("path is required");this.path=ye(e),this.portable=!!t.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=t.maxReadSize||sf,this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.preservePaths=!!t.preservePaths,this.cwd=ye(t.cwd||process.cwd()),this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.prefix=t.prefix?ye(t.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let i=!1;if(!this.preservePaths){let[r,o]=Fa(this.path);r&&(this.path=o,i=r)}this.win32=!!t.win32||process.platform==="win32",this.win32&&(this.path=rf.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=ye(t.absolute||ha.resolve(this.cwd,e)),this.path===""&&(this.path="./"),i&&this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path}),this.statCache.has(this.absolute)?this[ui](this.statCache.get(this.absolute)):this[gn]()}emit(e,...t){return e==="error"&&(this[da]=!0),super.emit(e,...t)}[gn](){be.lstat(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[ui](t)})}[ui](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=of(e),this.emit("stat",e),this[la]()}[la](){switch(this.type){case"File":return this[ca]();case"Directory":return this[Da]();case"SymbolicLink":return this[pn]();default:return this.end()}}[ai](e){return ya(e,this.type==="Directory",this.portable)}[_e](e){return Ea(e,this.prefix)}[ds](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new ga({path:this[_e](this.path),linkpath:this.type==="Link"?this[_e](this.linkpath):this.linkpath,mode:this[ai](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new pa({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[_e](this.path),linkpath:this.type==="Link"?this[_e](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[Da](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[ds](),this.end()}[pn](){be.readlink(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[Cn](t)})}[Cn](e){this.linkpath=ye(e),this[ds](),this.end()}[fa](e){this.type="Link",this.linkpath=ye(ha.relative(this.cwd,e)),this.stat.size=0,this[ds](),this.end()}[ca](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let t=this.linkCache.get(e);if(t.indexOf(this.cwd)===0)return this[fa](t)}this.linkCache.set(e,this.absolute)}if(this[ds](),this.stat.size===0)return this.end();this[Fn]()}[Fn](){be.open(this.absolute,"r",(e,t)=>{if(e)return this.emit("error",e);this[yn](t)})}[yn](e){if(this.fd=e,this[da])return this[et]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let t=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(t),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[oi]()}[oi](){let{fd:e,buf:t,offset:i,length:r,pos:o}=this;be.read(e,t,i,r,o,(n,u)=>{if(n)return this[et](()=>this.emit("error",n));this[En](u)})}[et](e){be.close(this.fd,e)}[En](e){if(e<=0&&this.remain>0){let r=new Error("encountered unexpected EOF");return r.path=this.absolute,r.syscall="read",r.code="EOF",this[et](()=>this.emit("error",r))}if(e>this.remain){let r=new Error("did not encounter expected EOF");return r.path=this.absolute,r.syscall="read",r.code="EOF",this[et](()=>this.emit("error",r))}if(e===this.remain)for(let r=e;r<this.length&&e<this.blockRemain;r++)this.buf[r+this.offset]=0,e++,this.remain++;let t=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(t)?this[mn]():this[bn](()=>this[mn]())}[bn](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let t=new Error("writing more data than expected");return t.path=this.absolute,this.emit("error",t)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[mn](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[et](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[oi]()}}),_n=class extends hi{[gn](){this[ui](be.lstatSync(this.absolute))}[pn](){this[Cn](be.readlinkSync(this.absolute))}[Fn](){this[yn](be.openSync(this.absolute,"r"))}[oi](){let e=!0;try{let{fd:t,buf:i,offset:r,length:o,pos:n}=this,u=be.readSync(t,i,r,o,n);this[En](u),e=!1}finally{if(e)try{this[et](()=>{})}catch{}}}[bn](e){e()}[et](e){be.closeSync(this.fd),e()}},nf=Ca(class extends ma{constructor(e,t){t=t||{},super(t),this.preservePaths=!!t.preservePaths,this.portable=!!t.portable,this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=t.prefix||null,this.path=ye(e.path),this.mode=this[ai](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:t.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=ye(e.linkpath),typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let i=!1;if(!this.preservePaths){let[r,o]=Fa(this.path);r&&(this.path=o,i=r)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new ga({path:this[_e](this.path),linkpath:this.type==="Link"?this[_e](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),i&&this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path}),this.header.encode()&&!this.noPax&&super.write(new pa({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[_e](this.path),linkpath:this.type==="Link"?this[_e](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[_e](e){return Ea(e,this.prefix)}[ai](e){return ya(e,this.type==="Directory",this.portable)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=t,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});hi.Sync=_n;hi.Tar=nf;var of=s=>s.isFile()?"File":s.isDirectory()?"Directory":s.isSymbolicLink()?"SymbolicLink":"Unsupported";ba.exports=hi});var wa=g((_g,_a)=>{"use strict";_a.exports=function(s){s.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Sn=g((wg,Sa)=>{"use strict";Sa.exports=F;F.Node=Ct;F.create=F;function F(s){var e=this;if(e instanceof F||(e=new F),e.tail=null,e.head=null,e.length=0,s&&typeof s.forEach=="function")s.forEach(function(r){e.push(r)});else if(arguments.length>0)for(var t=0,i=arguments.length;t<i;t++)e.push(arguments[t]);return e}F.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var e=s.next,t=s.prev;return e&&(e.prev=t),t&&(t.next=e),s===this.head&&(this.head=e),s===this.tail&&(this.tail=t),s.list.length--,s.next=null,s.prev=null,s.list=null,e};F.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var e=this.head;s.list=this,s.next=e,e&&(e.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}};F.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var e=this.tail;s.list=this,s.prev=e,e&&(e.next=s),this.tail=s,this.head||(this.head=s),this.length++}};F.prototype.push=function(){for(var s=0,e=arguments.length;s<e;s++)af(this,arguments[s]);return this.length};F.prototype.unshift=function(){for(var s=0,e=arguments.length;s<e;s++)hf(this,arguments[s]);return this.length};F.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}};F.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}};F.prototype.forEach=function(s,e){e=e||this;for(var t=this.head,i=0;t!==null;i++)s.call(e,t.value,i,this),t=t.next};F.prototype.forEachReverse=function(s,e){e=e||this;for(var t=this.tail,i=this.length-1;t!==null;i--)s.call(e,t.value,i,this),t=t.prev};F.prototype.get=function(s){for(var e=0,t=this.head;t!==null&&e<s;e++)t=t.next;if(e===s&&t!==null)return t.value};F.prototype.getReverse=function(s){for(var e=0,t=this.tail;t!==null&&e<s;e++)t=t.prev;if(e===s&&t!==null)return t.value};F.prototype.map=function(s,e){e=e||this;for(var t=new F,i=this.head;i!==null;)t.push(s.call(e,i.value,this)),i=i.next;return t};F.prototype.mapReverse=function(s,e){e=e||this;for(var t=new F,i=this.tail;i!==null;)t.push(s.call(e,i.value,this)),i=i.prev;return t};F.prototype.reduce=function(s,e){var t,i=this.head;if(arguments.length>1)t=e;else if(this.head)i=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=0;i!==null;r++)t=s(t,i.value,r),i=i.next;return t};F.prototype.reduceReverse=function(s,e){var t,i=this.tail;if(arguments.length>1)t=e;else if(this.tail)i=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;i!==null;r--)t=s(t,i.value,r),i=i.prev;return t};F.prototype.toArray=function(){for(var s=new Array(this.length),e=0,t=this.head;t!==null;e++)s[e]=t.value,t=t.next;return s};F.prototype.toArrayReverse=function(){for(var s=new Array(this.length),e=0,t=this.tail;t!==null;e++)s[e]=t.value,t=t.prev;return s};F.prototype.slice=function(s,e){e=e||this.length,e<0&&(e+=this.length),s=s||0,s<0&&(s+=this.length);var t=new F;if(e<s||e<0)return t;s<0&&(s=0),e>this.length&&(e=this.length);for(var i=0,r=this.head;r!==null&&i<s;i++)r=r.next;for(;r!==null&&i<e;i++,r=r.next)t.push(r.value);return t};F.prototype.sliceReverse=function(s,e){e=e||this.length,e<0&&(e+=this.length),s=s||0,s<0&&(s+=this.length);var t=new F;if(e<s||e<0)return t;s<0&&(s=0),e>this.length&&(e=this.length);for(var i=this.length,r=this.tail;r!==null&&i>e;i--)r=r.prev;for(;r!==null&&i>s;i--,r=r.prev)t.push(r.value);return t};F.prototype.splice=function(s,e,...t){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var i=0,r=this.head;r!==null&&i<s;i++)r=r.next;for(var o=[],i=0;r&&i<e;i++)o.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var i=0;i<t.length;i++)r=uf(this,r,t[i]);return o};F.prototype.reverse=function(){for(var s=this.head,e=this.tail,t=s;t!==null;t=t.prev){var i=t.prev;t.prev=t.next,t.next=i}return this.head=e,this.tail=s,this};function uf(s,e,t){var i=e===s.head?new Ct(t,null,e,s):new Ct(t,e,e.next,s);return i.next===null&&(s.tail=i),i.prev===null&&(s.head=i),s.length++,i}function af(s,e){s.tail=new Ct(e,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function hf(s,e){s.head=new Ct(e,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function Ct(s,e,t,i){if(!(this instanceof Ct))return new Ct(s,e,t,i);this.list=i,this.value=s,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{wa()(F)}catch{}});var Ei=g((Ag,$a)=>{"use strict";var pi=class{constructor(e,t){this.path=e||"./",this.absolute=t,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:lf}=js(),Aa=sn(),cf=ti(),Ln=wn(),Df=Ln.Sync,ff=Ln.Tar,df=Sn(),Oa=Buffer.alloc(1024),Di=Symbol("onStat"),li=Symbol("ended"),we=Symbol("queue"),Pt=Symbol("current"),Ft=Symbol("process"),ci=Symbol("processing"),va=Symbol("processJob"),Se=Symbol("jobs"),An=Symbol("jobDone"),fi=Symbol("addFSEntry"),Ba=Symbol("addTarEntry"),Rn=Symbol("stat"),xn=Symbol("readdir"),di=Symbol("onreaddir"),mi=Symbol("pipe"),Ra=Symbol("entry"),On=Symbol("entryOpt"),Tn=Symbol("writeEntryClass"),Ta=Symbol("write"),vn=Symbol("ondrain"),gi=p("fs"),xa=p("path"),mf=ri(),Bn=Lt(),Nn=mf(class extends lf{constructor(e){if(super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=Bn(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Tn]=Ln,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip||e.brotli){if(e.gzip&&e.brotli)throw new TypeError("gzip and brotli are mutually exclusive");e.gzip&&(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new Aa.Gzip(e.gzip)),e.brotli&&(typeof e.brotli!="object"&&(e.brotli={}),this.zip=new Aa.BrotliCompress(e.brotli)),this.zip.on("data",t=>super.write(t)),this.zip.on("end",t=>super.end()),this.zip.on("drain",t=>this[vn]()),this.on("resume",t=>this.zip.resume())}else this.on("drain",this[vn]);this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:t=>!0,this[we]=new df,this[Se]=0,this.jobs=+e.jobs||4,this[ci]=!1,this[li]=!1}[Ta](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[li]=!0,this[Ft](),this}write(e){if(this[li])throw new Error("write after end");return e instanceof cf?this[Ba](e):this[fi](e),this.flowing}[Ba](e){let t=Bn(xa.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let i=new pi(e.path,t,!1);i.entry=new ff(e,this[On](i)),i.entry.on("end",r=>this[An](i)),this[Se]+=1,this[we].push(i)}this[Ft]()}[fi](e){let t=Bn(xa.resolve(this.cwd,e));this[we].push(new pi(e,t)),this[Ft]()}[Rn](e){e.pending=!0,this[Se]+=1;let t=this.follow?"stat":"lstat";gi[t](e.absolute,(i,r)=>{e.pending=!1,this[Se]-=1,i?this.emit("error",i):this[Di](e,r)})}[Di](e,t){this.statCache.set(e.absolute,t),e.stat=t,this.filter(e.path,t)||(e.ignore=!0),this[Ft]()}[xn](e){e.pending=!0,this[Se]+=1,gi.readdir(e.absolute,(t,i)=>{if(e.pending=!1,this[Se]-=1,t)return this.emit("error",t);this[di](e,i)})}[di](e,t){this.readdirCache.set(e.absolute,t),e.readdir=t,this[Ft]()}[Ft](){if(!this[ci]){this[ci]=!0;for(let e=this[we].head;e!==null&&this[Se]<this.jobs;e=e.next)if(this[va](e.value),e.value.ignore){let t=e.next;this[we].removeNode(e),e.next=t}this[ci]=!1,this[li]&&!this[we].length&&this[Se]===0&&(this.zip?this.zip.end(Oa):(super.write(Oa),super.end()))}}get[Pt](){return this[we]&&this[we].head&&this[we].head.value}[An](e){this[we].shift(),this[Se]-=1,this[Ft]()}[va](e){if(!e.pending){if(e.entry){e===this[Pt]&&!e.piped&&this[mi](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Di](e,this.statCache.get(e.absolute)):this[Rn](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[di](e,this.readdirCache.get(e.absolute)):this[xn](e),!e.readdir))){if(e.entry=this[Ra](e),!e.entry){e.ignore=!0;return}e===this[Pt]&&!e.piped&&this[mi](e)}}}[On](e){return{onwarn:(t,i,r)=>this.warn(t,i,r),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[Ra](e){this[Se]+=1;try{return new this[Tn](e.path,this[On](e)).on("end",()=>this[An](e)).on("error",t=>this.emit("error",t))}catch(t){this.emit("error",t)}}[vn](){this[Pt]&&this[Pt].entry&&this[Pt].entry.resume()}[mi](e){e.piped=!0,e.readdir&&e.readdir.forEach(r=>{let o=e.path,n=o==="./"?"":o.replace(/\/*$/,"/");this[fi](n+r)});let t=e.entry,i=this.zip;i?t.on("data",r=>{i.write(r)||t.pause()}):t.on("data",r=>{super.write(r)||t.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),$n=class extends Nn{constructor(e){super(e),this[Tn]=Df}pause(){}resume(){}[Rn](e){let t=this.follow?"statSync":"lstatSync";this[Di](e,gi[t](e.absolute))}[xn](e,t){this[di](e,gi.readdirSync(e.absolute))}[mi](e){let t=e.entry,i=this.zip;e.readdir&&e.readdir.forEach(r=>{let o=e.path,n=o==="./"?"":o.replace(/\/*$/,"/");this[fi](n+r)}),i?t.on("data",r=>{i.write(r)}):t.on("data",r=>{super[Ta](r)})}};Nn.Sync=$n;$a.exports=Nn});var za=g((Og,Ua)=>{"use strict";var La=typeof process=="object"&&process?process:{stdout:null,stderr:null},pf=p("events"),Na=p("stream"),Ia=p("string_decoder").StringDecoder,Pe=Symbol("EOF"),ke=Symbol("maybeEmitEnd"),tt=Symbol("emittedEnd"),Ci=Symbol("emittingEnd"),ms=Symbol("emittedError"),Fi=Symbol("closed"),Ma=Symbol("read"),yi=Symbol("flush"),Pa=Symbol("flushChunk"),X=Symbol("encoding"),qe=Symbol("decoder"),bi=Symbol("flowing"),ps=Symbol("paused"),kt=Symbol("resume"),M=Symbol("bufferLength"),In=Symbol("bufferPush"),Mn=Symbol("bufferShift"),V=Symbol("objectMode"),W=Symbol("destroyed"),Pn=Symbol("emitData"),ka=Symbol("emitEnd"),kn=Symbol("emitEnd2"),He=Symbol("async"),gs=s=>Promise.resolve().then(s),qa=global._MP_NO_ITERATOR_SYMBOLS_!=="1",gf=qa&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Ef=qa&&Symbol.iterator||Symbol("iterator not implemented"),Cf=s=>s==="end"||s==="finish"||s==="prefinish",Ff=s=>s instanceof ArrayBuffer||typeof s=="object"&&s.constructor&&s.constructor.name==="ArrayBuffer"&&s.byteLength>=0,yf=s=>!Buffer.isBuffer(s)&&ArrayBuffer.isView(s),_i=class{constructor(e,t,i){this.src=e,this.dest=t,this.opts=i,this.ondrain=()=>e[kt](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},qn=class extends _i{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,i){super(e,t,i),this.proxyErrors=r=>t.emit("error",r),e.on("error",this.proxyErrors)}};Ua.exports=class Ha extends Na{constructor(e){super(),this[bi]=!1,this[ps]=!1,this.pipes=[],this.buffer=[],this[V]=e&&e.objectMode||!1,this[V]?this[X]=null:this[X]=e&&e.encoding||null,this[X]==="buffer"&&(this[X]=null),this[He]=e&&!!e.async||!1,this[qe]=this[X]?new Ia(this[X]):null,this[Pe]=!1,this[tt]=!1,this[Ci]=!1,this[Fi]=!1,this[ms]=null,this.writable=!0,this.readable=!0,this[M]=0,this[W]=!1}get bufferLength(){return this[M]}get encoding(){return this[X]}set encoding(e){if(this[V])throw new Error("cannot set encoding in objectMode");if(this[X]&&e!==this[X]&&(this[qe]&&this[qe].lastNeed||this[M]))throw new Error("cannot change encoding");this[X]!==e&&(this[qe]=e?new Ia(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[qe].write(t)))),this[X]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[V]}set objectMode(e){this[V]=this[V]||!!e}get async(){return this[He]}set async(e){this[He]=this[He]||!!e}write(e,t,i){if(this[Pe])throw new Error("write after end");if(this[W])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(i=t,t="utf8"),t||(t="utf8");let r=this[He]?gs:o=>o();return!this[V]&&!Buffer.isBuffer(e)&&(yf(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Ff(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[V]?(this.flowing&&this[M]!==0&&this[yi](!0),this.flowing?this.emit("data",e):this[In](e),this[M]!==0&&this.emit("readable"),i&&r(i),this.flowing):e.length?(typeof e=="string"&&!(t===this[X]&&!this[qe].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[X]&&(e=this[qe].write(e)),this.flowing&&this[M]!==0&&this[yi](!0),this.flowing?this.emit("data",e):this[In](e),this[M]!==0&&this.emit("readable"),i&&r(i),this.flowing):(this[M]!==0&&this.emit("readable"),i&&r(i),this.flowing)}read(e){if(this[W])return null;if(this[M]===0||e===0||e>this[M])return this[ke](),null;this[V]&&(e=null),this.buffer.length>1&&!this[V]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[M])]);let t=this[Ma](e||null,this.buffer[0]);return this[ke](),t}[Ma](e,t){return e===t.length||e===null?this[Mn]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[M]-=e),this.emit("data",t),!this.buffer.length&&!this[Pe]&&this.emit("drain"),t}end(e,t,i){return typeof e=="function"&&(i=e,e=null),typeof t=="function"&&(i=t,t="utf8"),e&&this.write(e,t),i&&this.once("end",i),this[Pe]=!0,this.writable=!1,(this.flowing||!this[ps])&&this[ke](),this}[kt](){this[W]||(this[ps]=!1,this[bi]=!0,this.emit("resume"),this.buffer.length?this[yi]():this[Pe]?this[ke]():this.emit("drain"))}resume(){return this[kt]()}pause(){this[bi]=!1,this[ps]=!0}get destroyed(){return this[W]}get flowing(){return this[bi]}get paused(){return this[ps]}[In](e){this[V]?this[M]+=1:this[M]+=e.length,this.buffer.push(e)}[Mn](){return this.buffer.length&&(this[V]?this[M]-=1:this[M]-=this.buffer[0].length),this.buffer.shift()}[yi](e){do;while(this[Pa](this[Mn]()));!e&&!this.buffer.length&&!this[Pe]&&this.emit("drain")}[Pa](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[W])return;let i=this[tt];return t=t||{},e===La.stdout||e===La.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,i?t.end&&e.end():(this.pipes.push(t.proxyErrors?new qn(this,e,t):new _i(this,e,t)),this[He]?gs(()=>this[kt]()):this[kt]()),e}unpipe(e){let t=this.pipes.find(i=>i.dest===e);t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let i=super.on(e,t);return e==="data"&&!this.pipes.length&&!this.flowing?this[kt]():e==="readable"&&this[M]!==0?super.emit("readable"):Cf(e)&&this[tt]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[ms]&&(this[He]?gs(()=>t.call(this,this[ms])):t.call(this,this[ms])),i}get emittedEnd(){return this[tt]}[ke](){!this[Ci]&&!this[tt]&&!this[W]&&this.buffer.length===0&&this[Pe]&&(this[Ci]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Fi]&&this.emit("close"),this[Ci]=!1)}emit(e,t,...i){if(e!=="error"&&e!=="close"&&e!==W&&this[W])return;if(e==="data")return t?this[He]?gs(()=>this[Pn](t)):this[Pn](t):!1;if(e==="end")return this[ka]();if(e==="close"){if(this[Fi]=!0,!this[tt]&&!this[W])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[ms]=t;let o=super.emit("error",t);return this[ke](),o}else if(e==="resume"){let o=super.emit("resume");return this[ke](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let r=super.emit(e,t,...i);return this[ke](),r}[Pn](e){for(let i of this.pipes)i.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[ke](),t}[ka](){this[tt]||(this[tt]=!0,this.readable=!1,this[He]?gs(()=>this[kn]()):this[kn]())}[kn](){if(this[qe]){let t=this[qe].end();if(t){for(let i of this.pipes)i.dest.write(t);super.emit("data",t)}}for(let t of this.pipes)t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[V]||(e.dataLength=0);let t=this.promise();return this.on("data",i=>{e.push(i),this[V]||(e.dataLength+=i.length)}),t.then(()=>e)}concat(){return this[V]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[V]?Promise.reject(new Error("cannot concat in objectMode")):this[X]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(W,()=>t(new Error("stream destroyed"))),this.on("error",i=>t(i)),this.on("end",()=>e())})}[gf](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[Pe])return Promise.resolve({done:!0});let i=null,r=null,o=a=>{this.removeListener("data",n),this.removeListener("end",u),r(a)},n=a=>{this.removeListener("error",o),this.removeListener("end",u),this.pause(),i({value:a,done:!!this[Pe]})},u=()=>{this.removeListener("error",o),this.removeListener("data",n),i({done:!0})},h=()=>o(new Error("stream destroyed"));return new Promise((a,l)=>{r=l,i=a,this.once(W,h),this.once("error",o),this.once("end",u),this.once("data",n)})}}}[Ef](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[W]?(e?this.emit("error",e):this.emit(W),this):(this[W]=!0,this.buffer.length=0,this[M]=0,typeof this.close=="function"&&!this[Fi]&&this.close(),e?this.emit("error",e):this.emit(W),this)}static isStream(e){return!!e&&(e instanceof Ha||e instanceof Na||e instanceof pf&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Gt=g(Cs=>{"use strict";var bf=za(),_f=p("events").EventEmitter,J=p("fs"),zn=J.writev;if(!zn){let s=process.binding("fs"),e=s.FSReqWrap||s.FSReqCallback;zn=(t,i,r,o)=>{let n=(h,a)=>o(h,a,i),u=new e;u.oncomplete=n,s.writeBuffers(t,i,r,u)}}var Wt=Symbol("_autoClose"),pe=Symbol("_close"),Es=Symbol("_ended"),_=Symbol("_fd"),Va=Symbol("_finished"),it=Symbol("_flags"),Hn=Symbol("_flush"),Vn=Symbol("_handleChunk"),Wn=Symbol("_makeBuf"),vi=Symbol("_mode"),wi=Symbol("_needDrain"),zt=Symbol("_onerror"),jt=Symbol("_onopen"),Un=Symbol("_onread"),Ht=Symbol("_onwrite"),rt=Symbol("_open"),Ue=Symbol("_path"),yt=Symbol("_pos"),Ae=Symbol("_queue"),Ut=Symbol("_read"),Wa=Symbol("_readSize"),st=Symbol("_reading"),Si=Symbol("_remain"),ja=Symbol("_size"),Ai=Symbol("_write"),qt=Symbol("_writing"),Oi=Symbol("_defaultFlag"),Vt=Symbol("_errored"),Bi=class extends bf{constructor(e,t){if(t=t||{},super(t),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Vt]=!1,this[_]=typeof t.fd=="number"?t.fd:null,this[Ue]=e,this[Wa]=t.readSize||16*1024*1024,this[st]=!1,this[ja]=typeof t.size=="number"?t.size:1/0,this[Si]=this[ja],this[Wt]=typeof t.autoClose=="boolean"?t.autoClose:!0,typeof this[_]=="number"?this[Ut]():this[rt]()}get fd(){return this[_]}get path(){return this[Ue]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[rt](){J.open(this[Ue],"r",(e,t)=>this[jt](e,t))}[jt](e,t){e?this[zt](e):(this[_]=t,this.emit("open",t),this[Ut]())}[Wn](){return Buffer.allocUnsafe(Math.min(this[Wa],this[Si]))}[Ut](){if(!this[st]){this[st]=!0;let e=this[Wn]();if(e.length===0)return process.nextTick(()=>this[Un](null,0,e));J.read(this[_],e,0,e.length,null,(t,i,r)=>this[Un](t,i,r))}}[Un](e,t,i){this[st]=!1,e?this[zt](e):this[Vn](t,i)&&this[Ut]()}[pe](){if(this[Wt]&&typeof this[_]=="number"){let e=this[_];this[_]=null,J.close(e,t=>t?this.emit("error",t):this.emit("close"))}}[zt](e){this[st]=!0,this[pe](),this.emit("error",e)}[Vn](e,t){let i=!1;return this[Si]-=e,e>0&&(i=super.write(e<t.length?t.slice(0,e):t)),(e===0||this[Si]<=0)&&(i=!1,this[pe](),super.end()),i}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[_]=="number"&&this[Ut]();break;case"error":return this[Vt]?void 0:(this[Vt]=!0,super.emit(e,t));default:return super.emit(e,t)}}},jn=class extends Bi{[rt](){let e=!0;try{this[jt](null,J.openSync(this[Ue],"r")),e=!1}finally{e&&this[pe]()}}[Ut](){let e=!0;try{if(!this[st]){this[st]=!0;do{let t=this[Wn](),i=t.length===0?0:J.readSync(this[_],t,0,t.length,null);if(!this[Vn](i,t))break}while(!0);this[st]=!1}e=!1}finally{e&&this[pe]()}}[pe](){if(this[Wt]&&typeof this[_]=="number"){let e=this[_];this[_]=null,J.closeSync(e),this.emit("close")}}},Ri=class extends _f{constructor(e,t){t=t||{},super(t),this.readable=!1,this.writable=!0,this[Vt]=!1,this[qt]=!1,this[Es]=!1,this[wi]=!1,this[Ae]=[],this[Ue]=e,this[_]=typeof t.fd=="number"?t.fd:null,this[vi]=t.mode===void 0?438:t.mode,this[yt]=typeof t.start=="number"?t.start:null,this[Wt]=typeof t.autoClose=="boolean"?t.autoClose:!0;let i=this[yt]!==null?"r+":"w";this[Oi]=t.flags===void 0,this[it]=this[Oi]?i:t.flags,this[_]===null&&this[rt]()}emit(e,t){if(e==="error"){if(this[Vt])return;this[Vt]=!0}return super.emit(e,t)}get fd(){return this[_]}get path(){return this[Ue]}[zt](e){this[pe](),this[qt]=!0,this.emit("error",e)}[rt](){J.open(this[Ue],this[it],this[vi],(e,t)=>this[jt](e,t))}[jt](e,t){this[Oi]&&this[it]==="r+"&&e&&e.code==="ENOENT"?(this[it]="w",this[rt]()):e?this[zt](e):(this[_]=t,this.emit("open",t),this[Hn]())}end(e,t){return e&&this.write(e,t),this[Es]=!0,!this[qt]&&!this[Ae].length&&typeof this[_]=="number"&&this[Ht](null,0),this}write(e,t){return typeof e=="string"&&(e=Buffer.from(e,t)),this[Es]?(this.emit("error",new Error("write() after end()")),!1):this[_]===null||this[qt]||this[Ae].length?(this[Ae].push(e),this[wi]=!0,!1):(this[qt]=!0,this[Ai](e),!0)}[Ai](e){J.write(this[_],e,0,e.length,this[yt],(t,i)=>this[Ht](t,i))}[Ht](e,t){e?this[zt](e):(this[yt]!==null&&(this[yt]+=t),this[Ae].length?this[Hn]():(this[qt]=!1,this[Es]&&!this[Va]?(this[Va]=!0,this[pe](),this.emit("finish")):this[wi]&&(this[wi]=!1,this.emit("drain"))))}[Hn](){if(this[Ae].length===0)this[Es]&&this[Ht](null,0);else if(this[Ae].length===1)this[Ai](this[Ae].pop());else{let e=this[Ae];this[Ae]=[],zn(this[_],e,this[yt],(t,i)=>this[Ht](t,i))}}[pe](){if(this[Wt]&&typeof this[_]=="number"){let e=this[_];this[_]=null,J.close(e,t=>t?this.emit("error",t):this.emit("close"))}}},Gn=class extends Ri{[rt](){let e;if(this[Oi]&&this[it]==="r+")try{e=J.openSync(this[Ue],this[it],this[vi])}catch(t){if(t.code==="ENOENT")return this[it]="w",this[rt]();throw t}else e=J.openSync(this[Ue],this[it],this[vi]);this[jt](null,e)}[pe](){if(this[Wt]&&typeof this[_]=="number"){let e=this[_];this[_]=null,J.closeSync(e),this.emit("close")}}[Ai](e){let t=!0;try{this[Ht](null,J.writeSync(this[_],e,0,e.length,this[yt])),t=!1}finally{if(t)try{this[pe]()}catch{}}}};Cs.ReadStream=Bi;Cs.ReadStreamSync=jn;Cs.WriteStream=Ri;Cs.WriteStreamSync=Gn});var Mi=g((Rg,sh)=>{"use strict";var wf=ri(),Ga=It(),Sf=p("events"),Af=Sn(),Of=1024*1024,vf=ti(),Ya=ii(),Ka=sn(),{nextTick:Bf}=p("process"),Yn=Buffer.from([31,139]),ue=Symbol("state"),bt=Symbol("writeEntry"),ze=Symbol("readEntry"),Kn=Symbol("nextEntry"),Za=Symbol("processEntry"),ae=Symbol("extendedHeader"),Fs=Symbol("globalExtendedHeader"),nt=Symbol("meta"),Xa=Symbol("emitMeta"),S=Symbol("buffer"),Ve=Symbol("queue"),ot=Symbol("ended"),Ja=Symbol("emittedEnd"),_t=Symbol("emit"),P=Symbol("unzip"),xi=Symbol("consumeChunk"),Ti=Symbol("consumeChunkSub"),Zn=Symbol("consumeBody"),Qa=Symbol("consumeMeta"),eh=Symbol("consumeHeader"),$i=Symbol("consuming"),Xn=Symbol("bufferConcat"),Jn=Symbol("maybeEnd"),ys=Symbol("writing"),ut=Symbol("aborted"),Li=Symbol("onDone"),wt=Symbol("sawValidEntry"),Ni=Symbol("sawNullBlock"),Ii=Symbol("sawEOF"),th=Symbol("closeStream"),Rf=s=>!0;sh.exports=wf(class extends Sf{constructor(e){e=e||{},super(e),this.file=e.file||"",this[wt]=null,this.on(Li,i=>{(this[ue]==="begin"||this[wt]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(Li,e.ondone):this.on(Li,i=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||Of,this.filter=typeof e.filter=="function"?e.filter:Rf;let t=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==void 0?e.brotli:t?void 0:!1,this.writable=!0,this.readable=!1,this[Ve]=new Af,this[S]=null,this[ze]=null,this[bt]=null,this[ue]="begin",this[nt]="",this[ae]=null,this[Fs]=null,this[ot]=!1,this[P]=null,this[ut]=!1,this[Ni]=!1,this[Ii]=!1,this.on("end",()=>this[th]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[eh](e,t){this[wt]===null&&(this[wt]=!1);let i;try{i=new Ga(e,t,this[ae],this[Fs])}catch(r){return this.warn("TAR_ENTRY_INVALID",r)}if(i.nullBlock)this[Ni]?(this[Ii]=!0,this[ue]==="begin"&&(this[ue]="header"),this[_t]("eof")):(this[Ni]=!0,this[_t]("nullBlock"));else if(this[Ni]=!1,!i.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:i});else if(!i.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:i});else{let r=i.type;if(/^(Symbolic)?Link$/.test(r)&&!i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:i});else if(!/^(Symbolic)?Link$/.test(r)&&i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:i});else{let o=this[bt]=new vf(i,this[ae],this[Fs]);if(!this[wt])if(o.remain){let n=()=>{o.invalid||(this[wt]=!0)};o.on("end",n)}else this[wt]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[_t]("ignoredEntry",o),this[ue]="ignore",o.resume()):o.size>0&&(this[nt]="",o.on("data",n=>this[nt]+=n),this[ue]="meta"):(this[ae]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[_t]("ignoredEntry",o),this[ue]=o.remain?"ignore":"header",o.resume()):(o.remain?this[ue]="body":(this[ue]="header",o.end()),this[ze]?this[Ve].push(o):(this[Ve].push(o),this[Kn]())))}}}[th](){Bf(()=>this.emit("close"))}[Za](e){let t=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[ze]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",i=>this[Kn]()),t=!1)):(this[ze]=null,t=!1),t}[Kn](){do;while(this[Za](this[Ve].shift()));if(!this[Ve].length){let e=this[ze];!e||e.flowing||e.size===e.remain?this[ys]||this.emit("drain"):e.once("drain",i=>this.emit("drain"))}}[Zn](e,t){let i=this[bt],r=i.blockRemain,o=r>=e.length&&t===0?e:e.slice(t,t+r);return i.write(o),i.blockRemain||(this[ue]="header",this[bt]=null,i.end()),o.length}[Qa](e,t){let i=this[bt],r=this[Zn](e,t);return this[bt]||this[Xa](i),r}[_t](e,t,i){!this[Ve].length&&!this[ze]?this.emit(e,t,i):this[Ve].push([e,t,i])}[Xa](e){switch(this[_t]("meta",this[nt]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[ae]=Ya.parse(this[nt],this[ae],!1);break;case"GlobalExtendedHeader":this[Fs]=Ya.parse(this[nt],this[Fs],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[ae]=this[ae]||Object.create(null),this[ae].path=this[nt].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[ae]=this[ae]||Object.create(null),this[ae].linkpath=this[nt].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[ut]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[ut])return;if((this[P]===null||this.brotli===void 0&&this[P]===!1)&&e){if(this[S]&&(e=Buffer.concat([this[S],e]),this[S]=null),e.length<Yn.length)return this[S]=e,!0;for(let o=0;this[P]===null&&o<Yn.length;o++)e[o]!==Yn[o]&&(this[P]=!1);let r=this.brotli===void 0;if(this[P]===!1&&r)if(e.length<512)if(this[ot])this.brotli=!0;else return this[S]=e,!0;else try{new Ga(e.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[P]===null||this[P]===!1&&this.brotli){let o=this[ot];this[ot]=!1,this[P]=this[P]===null?new Ka.Unzip:new Ka.BrotliDecompress,this[P].on("data",u=>this[xi](u)),this[P].on("error",u=>this.abort(u)),this[P].on("end",u=>{this[ot]=!0,this[xi]()}),this[ys]=!0;let n=this[P][o?"end":"write"](e);return this[ys]=!1,n}}this[ys]=!0,this[P]?this[P].write(e):this[xi](e),this[ys]=!1;let i=this[Ve].length?!1:this[ze]?this[ze].flowing:!0;return!i&&!this[Ve].length&&this[ze].once("drain",r=>this.emit("drain")),i}[Xn](e){e&&!this[ut]&&(this[S]=this[S]?Buffer.concat([this[S],e]):e)}[Jn](){if(this[ot]&&!this[Ja]&&!this[ut]&&!this[$i]){this[Ja]=!0;let e=this[bt];if(e&&e.blockRemain){let t=this[S]?this[S].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e}),this[S]&&e.write(this[S]),e.end()}this[_t](Li)}}[xi](e){if(this[$i])this[Xn](e);else if(!e&&!this[S])this[Jn]();else{if(this[$i]=!0,this[S]){this[Xn](e);let t=this[S];this[S]=null,this[Ti](t)}else this[Ti](e);for(;this[S]&&this[S].length>=512&&!this[ut]&&!this[Ii];){let t=this[S];this[S]=null,this[Ti](t)}this[$i]=!1}(!this[S]||this[ot])&&this[Jn]()}[Ti](e){let t=0,i=e.length;for(;t+512<=i&&!this[ut]&&!this[Ii];)switch(this[ue]){case"begin":case"header":this[eh](e,t),t+=512;break;case"ignore":case"body":t+=this[Zn](e,t);break;case"meta":t+=this[Qa](e,t);break;default:throw new Error("invalid state: "+this[ue])}t<i&&(this[S]?this[S]=Buffer.concat([e.slice(t),this[S]]):this[S]=e.slice(t))}end(e){this[ut]||(this[P]?this[P].end(e):(this[ot]=!0,this.brotli===void 0&&(e=e||Buffer.alloc(0)),this.write(e)))}})});var Pi=g((xg,oh)=>{"use strict";var xf=Bt(),rh=Mi(),Yt=p("fs"),Tf=Gt(),ih=p("path"),Qn=Mt();oh.exports=(s,e,t)=>{typeof s=="function"?(t=s,e=null,s={}):Array.isArray(s)&&(e=s,s={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let i=xf(s);if(i.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&Lf(i,e),i.noResume||$f(i),i.file&&i.sync?Nf(i):i.file?If(i,t):nh(i)};var $f=s=>{let e=s.onentry;s.onentry=e?t=>{e(t),t.resume()}:t=>t.resume()},Lf=(s,e)=>{let t=new Map(e.map(o=>[Qn(o),!0])),i=s.filter,r=(o,n)=>{let u=n||ih.parse(o).root||".",h=o===u?!1:t.has(o)?t.get(o):r(ih.dirname(o),u);return t.set(o,h),h};s.filter=i?(o,n)=>i(o,n)&&r(Qn(o)):o=>r(Qn(o))},Nf=s=>{let e=nh(s),t=s.file,i=!0,r;try{let o=Yt.statSync(t),n=s.maxReadSize||16*1024*1024;if(o.size<n)e.end(Yt.readFileSync(t));else{let u=0,h=Buffer.allocUnsafe(n);for(r=Yt.openSync(t,"r");u<o.size;){let a=Yt.readSync(r,h,0,n,u);u+=a,e.write(h.slice(0,a))}e.end()}i=!1}finally{if(i&&r)try{Yt.closeSync(r)}catch{}}},If=(s,e)=>{let t=new rh(s),i=s.maxReadSize||16*1024*1024,r=s.file,o=new Promise((n,u)=>{t.on("error",u),t.on("end",n),Yt.stat(r,(h,a)=>{if(h)u(h);else{let l=new Tf.ReadStream(r,{readSize:i,size:a.size});l.on("error",u),l.pipe(t)}})});return e?o.then(e,e):o},nh=s=>new rh(s)});var Dh=g((Tg,ch)=>{"use strict";var Mf=Bt(),ki=Ei(),uh=Gt(),ah=Pi(),hh=p("path");ch.exports=(s,e,t)=>{if(typeof e=="function"&&(t=e),Array.isArray(s)&&(e=s,s={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let i=Mf(s);if(i.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return i.file&&i.sync?Pf(i,e):i.file?kf(i,e,t):i.sync?qf(i,e):Hf(i,e)};var Pf=(s,e)=>{let t=new ki.Sync(s),i=new uh.WriteStreamSync(s.file,{mode:s.mode||438});t.pipe(i),lh(t,e)},kf=(s,e,t)=>{let i=new ki(s),r=new uh.WriteStream(s.file,{mode:s.mode||438});i.pipe(r);let o=new Promise((n,u)=>{r.on("error",u),r.on("close",n),i.on("error",u)});return eo(i,e),t?o.then(t,t):o},lh=(s,e)=>{e.forEach(t=>{t.charAt(0)==="@"?ah({file:hh.resolve(s.cwd,t.slice(1)),sync:!0,noResume:!0,onentry:i=>s.add(i)}):s.add(t)}),s.end()},eo=(s,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return ah({file:hh.resolve(s.cwd,t.slice(1)),noResume:!0,onentry:i=>s.add(i)}).then(i=>eo(s,e));s.add(t)}s.end()},qf=(s,e)=>{let t=new ki.Sync(s);return lh(t,e),t},Hf=(s,e)=>{let t=new ki(s);return eo(t,e),t}});var to=g(($g,Ch)=>{"use strict";var Uf=Bt(),fh=Ei(),ie=p("fs"),dh=Gt(),mh=Pi(),ph=p("path"),gh=It();Ch.exports=(s,e,t)=>{let i=Uf(s);if(!i.file)throw new TypeError("file is required");if(i.gzip||i.brotli||i.file.endsWith(".br")||i.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),i.sync?zf(i,e):Wf(i,e,t)};var zf=(s,e)=>{let t=new fh.Sync(s),i=!0,r,o;try{try{r=ie.openSync(s.file,"r+")}catch(h){if(h.code==="ENOENT")r=ie.openSync(s.file,"w+");else throw h}let n=ie.fstatSync(r),u=Buffer.alloc(512);e:for(o=0;o<n.size;o+=512){for(let l=0,c=0;l<512;l+=c){if(c=ie.readSync(r,u,l,u.length-l,o+l),o===0&&u[0]===31&&u[1]===139)throw new Error("cannot append to compressed archives");if(!c)break e}let h=new gh(u);if(!h.cksumValid)break;let a=512*Math.ceil(h.size/512);if(o+a+512>n.size)break;o+=a,s.mtimeCache&&s.mtimeCache.set(h.path,h.mtime)}i=!1,Vf(s,t,o,r,e)}finally{if(i)try{ie.closeSync(r)}catch{}}},Vf=(s,e,t,i,r)=>{let o=new dh.WriteStreamSync(s.file,{fd:i,start:t});e.pipe(o),jf(e,r)},Wf=(s,e,t)=>{e=Array.from(e);let i=new fh(s),r=(n,u,h)=>{let a=(f,E)=>{f?ie.close(n,C=>h(f)):h(null,E)},l=0;if(u===0)return a(null,0);let c=0,D=Buffer.alloc(512),m=(f,E)=>{if(f)return a(f);if(c+=E,c<512&&E)return ie.read(n,D,c,D.length-c,l+c,m);if(l===0&&D[0]===31&&D[1]===139)return a(new Error("cannot append to compressed archives"));if(c<512)return a(null,l);let C=new gh(D);if(!C.cksumValid)return a(null,l);let b=512*Math.ceil(C.size/512);if(l+b+512>u||(l+=b+512,l>=u))return a(null,l);s.mtimeCache&&s.mtimeCache.set(C.path,C.mtime),c=0,ie.read(n,D,0,512,l,m)};ie.read(n,D,0,512,l,m)},o=new Promise((n,u)=>{i.on("error",u);let h="r+",a=(l,c)=>{if(l&&l.code==="ENOENT"&&h==="r+")return h="w+",ie.open(s.file,h,a);if(l)return u(l);ie.fstat(c,(D,m)=>{if(D)return ie.close(c,()=>u(D));r(c,m.size,(f,E)=>{if(f)return u(f);let C=new dh.WriteStream(s.file,{fd:c,start:E});i.pipe(C),C.on("error",u),C.on("close",n),Eh(i,e)})})};ie.open(s.file,h,a)});return t?o.then(t,t):o},jf=(s,e)=>{e.forEach(t=>{t.charAt(0)==="@"?mh({file:ph.resolve(s.cwd,t.slice(1)),sync:!0,noResume:!0,onentry:i=>s.add(i)}):s.add(t)}),s.end()},Eh=(s,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return mh({file:ph.resolve(s.cwd,t.slice(1)),noResume:!0,onentry:i=>s.add(i)}).then(i=>Eh(s,e));s.add(t)}s.end()}});var yh=g((Lg,Fh)=>{"use strict";var Gf=Bt(),Yf=to();Fh.exports=(s,e,t)=>{let i=Gf(s);if(!i.file)throw new TypeError("file is required");if(i.gzip||i.brotli||i.file.endsWith(".br")||i.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),Kf(i),Yf(i,e,t)};var Kf=s=>{let e=s.filter;s.mtimeCache||(s.mtimeCache=new Map),s.filter=e?(t,i)=>e(t,i)&&!(s.mtimeCache.get(t)>i.mtime):(t,i)=>!(s.mtimeCache.get(t)>i.mtime)}});var wh=g((Ng,_h)=>{var{promisify:bh}=p("util"),at=p("fs"),Zf=s=>{if(!s)s={mode:511,fs:at};else if(typeof s=="object")s={mode:511,fs:at,...s};else if(typeof s=="number")s={mode:s,fs:at};else if(typeof s=="string")s={mode:parseInt(s,8),fs:at};else throw new TypeError("invalid options argument");return s.mkdir=s.mkdir||s.fs.mkdir||at.mkdir,s.mkdirAsync=bh(s.mkdir),s.stat=s.stat||s.fs.stat||at.stat,s.statAsync=bh(s.stat),s.statSync=s.statSync||s.fs.statSync||at.statSync,s.mkdirSync=s.mkdirSync||s.fs.mkdirSync||at.mkdirSync,s};_h.exports=Zf});var Ah=g((Ig,Sh)=>{var Xf=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:Jf,parse:Qf}=p("path"),ed=s=>{if(/\0/.test(s))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:s,code:"ERR_INVALID_ARG_VALUE"});if(s=Jf(s),Xf==="win32"){let e=/[*|"<>?:]/,{root:t}=Qf(s);if(e.test(s.substr(t.length)))throw Object.assign(new Error("Illegal characters in path."),{path:s,code:"EINVAL"})}return s};Sh.exports=ed});var xh=g((Mg,Rh)=>{var{dirname:Oh}=p("path"),vh=(s,e,t=void 0)=>t===e?Promise.resolve():s.statAsync(e).then(i=>i.isDirectory()?t:void 0,i=>i.code==="ENOENT"?vh(s,Oh(e),e):void 0),Bh=(s,e,t=void 0)=>{if(t!==e)try{return s.statSync(e).isDirectory()?t:void 0}catch(i){return i.code==="ENOENT"?Bh(s,Oh(e),e):void 0}};Rh.exports={findMade:vh,findMadeSync:Bh}});var ro=g((Pg,$h)=>{var{dirname:Th}=p("path"),so=(s,e,t)=>{e.recursive=!1;let i=Th(s);return i===s?e.mkdirAsync(s,e).catch(r=>{if(r.code!=="EISDIR")throw r}):e.mkdirAsync(s,e).then(()=>t||s,r=>{if(r.code==="ENOENT")return so(i,e).then(o=>so(s,e,o));if(r.code!=="EEXIST"&&r.code!=="EROFS")throw r;return e.statAsync(s).then(o=>{if(o.isDirectory())return t;throw r},()=>{throw r})})},io=(s,e,t)=>{let i=Th(s);if(e.recursive=!1,i===s)try{return e.mkdirSync(s,e)}catch(r){if(r.code!=="EISDIR")throw r;return}try{return e.mkdirSync(s,e),t||s}catch(r){if(r.code==="ENOENT")return io(s,e,io(i,e,t));if(r.code!=="EEXIST"&&r.code!=="EROFS")throw r;try{if(!e.statSync(s).isDirectory())throw r}catch{throw r}}};$h.exports={mkdirpManual:so,mkdirpManualSync:io}});var Ih=g((kg,Nh)=>{var{dirname:Lh}=p("path"),{findMade:td,findMadeSync:sd}=xh(),{mkdirpManual:id,mkdirpManualSync:rd}=ro(),nd=(s,e)=>(e.recursive=!0,Lh(s)===s?e.mkdirAsync(s,e):td(e,s).then(i=>e.mkdirAsync(s,e).then(()=>i).catch(r=>{if(r.code==="ENOENT")return id(s,e);throw r}))),od=(s,e)=>{if(e.recursive=!0,Lh(s)===s)return e.mkdirSync(s,e);let i=sd(e,s);try{return e.mkdirSync(s,e),i}catch(r){if(r.code==="ENOENT")return rd(s,e);throw r}};Nh.exports={mkdirpNative:nd,mkdirpNativeSync:od}});var qh=g((qg,kh)=>{var Mh=p("fs"),ud=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,no=ud.replace(/^v/,"").split("."),Ph=+no[0]>10||+no[0]==10&&+no[1]>=12,ad=Ph?s=>s.mkdir===Mh.mkdir:()=>!1,hd=Ph?s=>s.mkdirSync===Mh.mkdirSync:()=>!1;kh.exports={useNative:ad,useNativeSync:hd}});var jh=g((Hg,Wh)=>{var Kt=wh(),Zt=Ah(),{mkdirpNative:Hh,mkdirpNativeSync:Uh}=Ih(),{mkdirpManual:zh,mkdirpManualSync:Vh}=ro(),{useNative:ld,useNativeSync:cd}=qh(),Xt=(s,e)=>(s=Zt(s),e=Kt(e),ld(e)?Hh(s,e):zh(s,e)),Dd=(s,e)=>(s=Zt(s),e=Kt(e),cd(e)?Uh(s,e):Vh(s,e));Xt.sync=Dd;Xt.native=(s,e)=>Hh(Zt(s),Kt(e));Xt.manual=(s,e)=>zh(Zt(s),Kt(e));Xt.nativeSync=(s,e)=>Uh(Zt(s),Kt(e));Xt.manualSync=(s,e)=>Vh(Zt(s),Kt(e));Wh.exports=Xt});var Qh=g((Ug,Jh)=>{"use strict";var he=p("fs"),St=p("path"),fd=he.lchown?"lchown":"chown",dd=he.lchownSync?"lchownSync":"chownSync",Yh=he.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),Gh=(s,e,t)=>{try{return he[dd](s,e,t)}catch(i){if(i.code!=="ENOENT")throw i}},md=(s,e,t)=>{try{return he.chownSync(s,e,t)}catch(i){if(i.code!=="ENOENT")throw i}},pd=Yh?(s,e,t,i)=>r=>{!r||r.code!=="EISDIR"?i(r):he.chown(s,e,t,i)}:(s,e,t,i)=>i,oo=Yh?(s,e,t)=>{try{return Gh(s,e,t)}catch(i){if(i.code!=="EISDIR")throw i;md(s,e,t)}}:(s,e,t)=>Gh(s,e,t),gd=process.version,Kh=(s,e,t)=>he.readdir(s,e,t),Ed=(s,e)=>he.readdirSync(s,e);/^v4\./.test(gd)&&(Kh=(s,e,t)=>he.readdir(s,t));var qi=(s,e,t,i)=>{he[fd](s,e,t,pd(s,e,t,r=>{i(r&&r.code!=="ENOENT"?r:null)}))},Zh=(s,e,t,i,r)=>{if(typeof e=="string")return he.lstat(St.resolve(s,e),(o,n)=>{if(o)return r(o.code!=="ENOENT"?o:null);n.name=e,Zh(s,n,t,i,r)});if(e.isDirectory())uo(St.resolve(s,e.name),t,i,o=>{if(o)return r(o);let n=St.resolve(s,e.name);qi(n,t,i,r)});else{let o=St.resolve(s,e.name);qi(o,t,i,r)}},uo=(s,e,t,i)=>{Kh(s,{withFileTypes:!0},(r,o)=>{if(r){if(r.code==="ENOENT")return i();if(r.code!=="ENOTDIR"&&r.code!=="ENOTSUP")return i(r)}if(r||!o.length)return qi(s,e,t,i);let n=o.length,u=null,h=a=>{if(!u){if(a)return i(u=a);if(--n===0)return qi(s,e,t,i)}};o.forEach(a=>Zh(s,a,e,t,h))})},Cd=(s,e,t,i)=>{if(typeof e=="string")try{let r=he.lstatSync(St.resolve(s,e));r.name=e,e=r}catch(r){if(r.code==="ENOENT")return;throw r}e.isDirectory()&&Xh(St.resolve(s,e.name),t,i),oo(St.resolve(s,e.name),t,i)},Xh=(s,e,t)=>{let i;try{i=Ed(s,{withFileTypes:!0})}catch(r){if(r.code==="ENOENT")return;if(r.code==="ENOTDIR"||r.code==="ENOTSUP")return oo(s,e,t);throw r}return i&&i.length&&i.forEach(r=>Cd(s,r,e,t)),oo(s,e,t)};Jh.exports=uo;uo.sync=Xh});var il=g((zg,ao)=>{"use strict";var el=jh(),le=p("fs"),Hi=p("path"),tl=Qh(),ge=Lt(),Ui=class extends Error{constructor(e,t){super("Cannot extract through symbolic link"),this.path=t,this.symlink=e}get name(){return"SylinkError"}},zi=class extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'"),this.path=e,this.code=t}get name(){return"CwdError"}},Vi=(s,e)=>s.get(ge(e)),bs=(s,e,t)=>s.set(ge(e),t),Fd=(s,e)=>{le.stat(s,(t,i)=>{(t||!i.isDirectory())&&(t=new zi(s,t&&t.code||"ENOTDIR")),e(t)})};ao.exports=(s,e,t)=>{s=ge(s);let i=e.umask,r=e.mode|448,o=(r&i)!==0,n=e.uid,u=e.gid,h=typeof n=="number"&&typeof u=="number"&&(n!==e.processUid||u!==e.processGid),a=e.preserve,l=e.unlink,c=e.cache,D=ge(e.cwd),m=(C,b)=>{C?t(C):(bs(c,s,!0),b&&h?tl(b,n,u,ee=>m(ee)):o?le.chmod(s,r,t):t())};if(c&&Vi(c,s)===!0)return m();if(s===D)return Fd(s,m);if(a)return el(s,{mode:r}).then(C=>m(null,C),m);let E=ge(Hi.relative(D,s)).split("/");Wi(D,E,r,c,l,D,null,m)};var Wi=(s,e,t,i,r,o,n,u)=>{if(!e.length)return u(null,n);let h=e.shift(),a=ge(Hi.resolve(s+"/"+h));if(Vi(i,a))return Wi(a,e,t,i,r,o,n,u);le.mkdir(a,t,sl(a,e,t,i,r,o,n,u))},sl=(s,e,t,i,r,o,n,u)=>h=>{h?le.lstat(s,(a,l)=>{if(a)a.path=a.path&&ge(a.path),u(a);else if(l.isDirectory())Wi(s,e,t,i,r,o,n,u);else if(r)le.unlink(s,c=>{if(c)return u(c);le.mkdir(s,t,sl(s,e,t,i,r,o,n,u))});else{if(l.isSymbolicLink())return u(new Ui(s,s+"/"+e.join("/")));u(h)}}):(n=n||s,Wi(s,e,t,i,r,o,n,u))},yd=s=>{let e=!1,t="ENOTDIR";try{e=le.statSync(s).isDirectory()}catch(i){t=i.code}finally{if(!e)throw new zi(s,t)}};ao.exports.sync=(s,e)=>{s=ge(s);let t=e.umask,i=e.mode|448,r=(i&t)!==0,o=e.uid,n=e.gid,u=typeof o=="number"&&typeof n=="number"&&(o!==e.processUid||n!==e.processGid),h=e.preserve,a=e.unlink,l=e.cache,c=ge(e.cwd),D=C=>{bs(l,s,!0),C&&u&&tl.sync(C,o,n),r&&le.chmodSync(s,i)};if(l&&Vi(l,s)===!0)return D();if(s===c)return yd(c),D();if(h)return D(el.sync(s,i));let f=ge(Hi.relative(c,s)).split("/"),E=null;for(let C=f.shift(),b=c;C&&(b+="/"+C);C=f.shift())if(b=ge(Hi.resolve(b)),!Vi(l,b))try{le.mkdirSync(b,i),E=E||b,bs(l,b,!0)}catch{let Ce=le.lstatSync(b);if(Ce.isDirectory()){bs(l,b,!0);continue}else if(a){le.unlinkSync(b),le.mkdirSync(b,i),E=E||b,bs(l,b,!0);continue}else if(Ce.isSymbolicLink())return new Ui(b,b+"/"+f.join("/"))}return D(E)}});var lo=g((Vg,rl)=>{var ho=Object.create(null),{hasOwnProperty:bd}=Object.prototype;rl.exports=s=>(bd.call(ho,s)||(ho[s]=s.normalize("NFD")),ho[s])});var al=g((Wg,ul)=>{var nl=p("assert"),_d=lo(),wd=Mt(),{join:ol}=p("path"),Sd=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Ad=Sd==="win32";ul.exports=()=>{let s=new Map,e=new Map,t=a=>a.split("/").slice(0,-1).reduce((c,D)=>(c.length&&(D=ol(c[c.length-1],D)),c.push(D||"/"),c),[]),i=new Set,r=a=>{let l=e.get(a);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(c=>s.get(c)),dirs:[...l.dirs].map(c=>s.get(c))}},o=a=>{let{paths:l,dirs:c}=r(a);return l.every(D=>D[0]===a)&&c.every(D=>D[0]instanceof Set&&D[0].has(a))},n=a=>i.has(a)||!o(a)?!1:(i.add(a),a(()=>u(a)),!0),u=a=>{if(!i.has(a))return!1;let{paths:l,dirs:c}=e.get(a),D=new Set;return l.forEach(m=>{let f=s.get(m);nl.equal(f[0],a),f.length===1?s.delete(m):(f.shift(),typeof f[0]=="function"?D.add(f[0]):f[0].forEach(E=>D.add(E)))}),c.forEach(m=>{let f=s.get(m);nl(f[0]instanceof Set),f[0].size===1&&f.length===1?s.delete(m):f[0].size===1?(f.shift(),D.add(f[0])):f[0].delete(a)}),i.delete(a),D.forEach(m=>n(m)),!0};return{check:o,reserve:(a,l)=>{a=Ad?["win32 parallelization disabled"]:a.map(D=>wd(ol(_d(D))).toLowerCase());let c=new Set(a.map(D=>t(D)).reduce((D,m)=>D.concat(m)));return e.set(l,{dirs:c,paths:a}),a.forEach(D=>{let m=s.get(D);m?m.push(l):s.set(D,[l])}),c.forEach(D=>{let m=s.get(D);m?m[m.length-1]instanceof Set?m[m.length-1].add(l):m.push(new Set([l])):s.set(D,[new Set([l])])}),n(l)}}}});var cl=g((jg,ll)=>{var Od=process.env.__FAKE_PLATFORM__||process.platform,vd=Od==="win32",Bd=global.__FAKE_TESTING_FS__||p("fs"),{O_CREAT:Rd,O_TRUNC:xd,O_WRONLY:Td,UV_FS_O_FILEMAP:hl=0}=Bd.constants,$d=vd&&!!hl,Ld=512*1024,Nd=hl|xd|Rd|Td;ll.exports=$d?s=>s<Ld?Nd:"w":()=>"w"});var Fo=g((Gg,Sl)=>{"use strict";var Id=p("assert"),Md=Mi(),y=p("fs"),Pd=Gt(),We=p("path"),bl=il(),Dl=fn(),kd=al(),qd=dn(),re=Lt(),Hd=Mt(),Ud=lo(),fl=Symbol("onEntry"),fo=Symbol("checkFs"),dl=Symbol("checkFs2"),Yi=Symbol("pruneCache"),mo=Symbol("isReusable"),ce=Symbol("makeFs"),po=Symbol("file"),go=Symbol("directory"),Ki=Symbol("link"),ml=Symbol("symlink"),pl=Symbol("hardlink"),gl=Symbol("unsupported"),El=Symbol("checkPath"),ht=Symbol("mkdir"),j=Symbol("onError"),ji=Symbol("pending"),Cl=Symbol("pend"),Jt=Symbol("unpend"),co=Symbol("ended"),Do=Symbol("maybeClose"),Eo=Symbol("skip"),_s=Symbol("doChown"),ws=Symbol("uid"),Ss=Symbol("gid"),As=Symbol("checkedCwd"),_l=p("crypto"),wl=cl(),zd=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Os=zd==="win32",Vd=(s,e)=>{if(!Os)return y.unlink(s,e);let t=s+".DELETE."+_l.randomBytes(16).toString("hex");y.rename(s,t,i=>{if(i)return e(i);y.unlink(t,e)})},Wd=s=>{if(!Os)return y.unlinkSync(s);let e=s+".DELETE."+_l.randomBytes(16).toString("hex");y.renameSync(s,e),y.unlinkSync(e)},Fl=(s,e,t)=>s===s>>>0?s:e===e>>>0?e:t,yl=s=>Hd(re(Ud(s))).toLowerCase(),jd=(s,e)=>{e=yl(e);for(let t of s.keys()){let i=yl(t);(i===e||i.indexOf(e+"/")===0)&&s.delete(t)}},Gd=s=>{for(let e of s.keys())s.delete(e)},vs=class extends Md{constructor(e){if(e||(e={}),e.ondone=t=>{this[co]=!0,this[Do]()},super(e),this[As]=!1,this.reservations=kd(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[ji]=0,this[co]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Os,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=re(We.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",t=>this[fl](t))}warn(e,t,i={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(i.recoverable=!1),super.warn(e,t,i)}[Do](){this[co]&&this[ji]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[El](e){if(this.strip){let t=re(e.path).split("/");if(t.length<this.strip)return!1;if(e.path=t.slice(this.strip).join("/"),e.type==="Link"){let i=re(e.linkpath).split("/");if(i.length>=this.strip)e.linkpath=i.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let t=re(e.path),i=t.split("/");if(i.includes("..")||Os&&/^[a-z]:\.\.$/i.test(i[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:t}),!1;let[r,o]=qd(t);r&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:e,path:t}))}if(We.isAbsolute(e.path)?e.absolute=re(We.resolve(e.path)):e.absolute=re(We.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:re(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:t}=We.win32.parse(e.absolute);e.absolute=t+Dl.encode(e.absolute.slice(t.length));let{root:i}=We.win32.parse(e.path);e.path=i+Dl.encode(e.path.slice(i.length))}return!0}[fl](e){if(!this[El](e))return e.resume();switch(Id.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[fo](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[gl](e)}}[j](e,t){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:t}),this[Jt](),t.resume())}[ht](e,t,i){bl(re(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},i)}[_s](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[ws](e){return Fl(this.uid,e.uid,this.processUid)}[Ss](e){return Fl(this.gid,e.gid,this.processGid)}[po](e,t){let i=e.mode&4095||this.fmode,r=new Pd.WriteStream(e.absolute,{flags:wl(e.size),mode:i,autoClose:!1});r.on("error",h=>{r.fd&&y.close(r.fd,()=>{}),r.write=()=>!0,this[j](h,e),t()});let o=1,n=h=>{if(h){r.fd&&y.close(r.fd,()=>{}),this[j](h,e),t();return}--o===0&&y.close(r.fd,a=>{a?this[j](a,e):this[Jt](),t()})};r.on("finish",h=>{let a=e.absolute,l=r.fd;if(e.mtime&&!this.noMtime){o++;let c=e.atime||new Date,D=e.mtime;y.futimes(l,c,D,m=>m?y.utimes(a,c,D,f=>n(f&&m)):n())}if(this[_s](e)){o++;let c=this[ws](e),D=this[Ss](e);y.fchown(l,c,D,m=>m?y.chown(a,c,D,f=>n(f&&m)):n())}n()});let u=this.transform&&this.transform(e)||e;u!==e&&(u.on("error",h=>{this[j](h,e),t()}),e.pipe(u)),u.pipe(r)}[go](e,t){let i=e.mode&4095||this.dmode;this[ht](e.absolute,i,r=>{if(r){this[j](r,e),t();return}let o=1,n=u=>{--o===0&&(t(),this[Jt](),e.resume())};e.mtime&&!this.noMtime&&(o++,y.utimes(e.absolute,e.atime||new Date,e.mtime,n)),this[_s](e)&&(o++,y.chown(e.absolute,this[ws](e),this[Ss](e),n)),n()})}[gl](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[ml](e,t){this[Ki](e,e.linkpath,"symlink",t)}[pl](e,t){let i=re(We.resolve(this.cwd,e.linkpath));this[Ki](e,i,"link",t)}[Cl](){this[ji]++}[Jt](){this[ji]--,this[Do]()}[Eo](e){this[Jt](),e.resume()}[mo](e,t){return e.type==="File"&&!this.unlink&&t.isFile()&&t.nlink<=1&&!Os}[fo](e){this[Cl]();let t=[e.path];e.linkpath&&t.push(e.linkpath),this.reservations.reserve(t,i=>this[dl](e,i))}[Yi](e){e.type==="SymbolicLink"?Gd(this.dirCache):e.type!=="Directory"&&jd(this.dirCache,e.absolute)}[dl](e,t){this[Yi](e);let i=u=>{this[Yi](e),t(u)},r=()=>{this[ht](this.cwd,this.dmode,u=>{if(u){this[j](u,e),i();return}this[As]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let u=re(We.dirname(e.absolute));if(u!==this.cwd)return this[ht](u,this.dmode,h=>{if(h){this[j](h,e),i();return}n()})}n()},n=()=>{y.lstat(e.absolute,(u,h)=>{if(h&&(this.keep||this.newer&&h.mtime>e.mtime)){this[Eo](e),i();return}if(u||this[mo](e,h))return this[ce](null,e,i);if(h.isDirectory()){if(e.type==="Directory"){let a=!this.noChmod&&e.mode&&(h.mode&4095)!==e.mode,l=c=>this[ce](c,e,i);return a?y.chmod(e.absolute,e.mode,l):l()}if(e.absolute!==this.cwd)return y.rmdir(e.absolute,a=>this[ce](a,e,i))}if(e.absolute===this.cwd)return this[ce](null,e,i);Vd(e.absolute,a=>this[ce](a,e,i))})};this[As]?o():r()}[ce](e,t,i){if(e){this[j](e,t),i();return}switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[po](t,i);case"Link":return this[pl](t,i);case"SymbolicLink":return this[ml](t,i);case"Directory":case"GNUDumpDir":return this[go](t,i)}}[Ki](e,t,i,r){y[i](t,e.absolute,o=>{o?this[j](o,e):(this[Jt](),e.resume()),r()})}},Gi=s=>{try{return[null,s()]}catch(e){return[e,null]}},Co=class extends vs{[ce](e,t){return super[ce](e,t,()=>{})}[fo](e){if(this[Yi](e),!this[As]){let o=this[ht](this.cwd,this.dmode);if(o)return this[j](o,e);this[As]=!0}if(e.absolute!==this.cwd){let o=re(We.dirname(e.absolute));if(o!==this.cwd){let n=this[ht](o,this.dmode);if(n)return this[j](n,e)}}let[t,i]=Gi(()=>y.lstatSync(e.absolute));if(i&&(this.keep||this.newer&&i.mtime>e.mtime))return this[Eo](e);if(t||this[mo](e,i))return this[ce](null,e);if(i.isDirectory()){if(e.type==="Directory"){let n=!this.noChmod&&e.mode&&(i.mode&4095)!==e.mode,[u]=n?Gi(()=>{y.chmodSync(e.absolute,e.mode)}):[];return this[ce](u,e)}let[o]=Gi(()=>y.rmdirSync(e.absolute));this[ce](o,e)}let[r]=e.absolute===this.cwd?[]:Gi(()=>Wd(e.absolute));this[ce](r,e)}[po](e,t){let i=e.mode&4095||this.fmode,r=u=>{let h;try{y.closeSync(o)}catch(a){h=a}(u||h)&&this[j](u||h,e),t()},o;try{o=y.openSync(e.absolute,wl(e.size),i)}catch(u){return r(u)}let n=this.transform&&this.transform(e)||e;n!==e&&(n.on("error",u=>this[j](u,e)),e.pipe(n)),n.on("data",u=>{try{y.writeSync(o,u,0,u.length)}catch(h){r(h)}}),n.on("end",u=>{let h=null;if(e.mtime&&!this.noMtime){let a=e.atime||new Date,l=e.mtime;try{y.futimesSync(o,a,l)}catch(c){try{y.utimesSync(e.absolute,a,l)}catch{h=c}}}if(this[_s](e)){let a=this[ws](e),l=this[Ss](e);try{y.fchownSync(o,a,l)}catch(c){try{y.chownSync(e.absolute,a,l)}catch{h=h||c}}}r(h)})}[go](e,t){let i=e.mode&4095||this.dmode,r=this[ht](e.absolute,i);if(r){this[j](r,e),t();return}if(e.mtime&&!this.noMtime)try{y.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[_s](e))try{y.chownSync(e.absolute,this[ws](e),this[Ss](e))}catch{}t(),e.resume()}[ht](e,t){try{return bl.sync(re(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(i){return i}}[Ki](e,t,i,r){try{y[i+"Sync"](t,e.absolute),r(),e.resume()}catch(o){return this[j](o,e)}}};vs.Sync=Co;Sl.exports=vs});var Rl=g((Yg,Bl)=>{"use strict";var Yd=Bt(),Zi=Fo(),Ol=p("fs"),vl=Gt(),Al=p("path"),yo=Mt();Bl.exports=(s,e,t)=>{typeof s=="function"?(t=s,e=null,s={}):Array.isArray(s)&&(e=s,s={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let i=Yd(s);if(i.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&Kd(i,e),i.file&&i.sync?Zd(i):i.file?Xd(i,t):i.sync?Jd(i):Qd(i)};var Kd=(s,e)=>{let t=new Map(e.map(o=>[yo(o),!0])),i=s.filter,r=(o,n)=>{let u=n||Al.parse(o).root||".",h=o===u?!1:t.has(o)?t.get(o):r(Al.dirname(o),u);return t.set(o,h),h};s.filter=i?(o,n)=>i(o,n)&&r(yo(o)):o=>r(yo(o))},Zd=s=>{let e=new Zi.Sync(s),t=s.file,i=Ol.statSync(t),r=s.maxReadSize||16*1024*1024;new vl.ReadStreamSync(t,{readSize:r,size:i.size}).pipe(e)},Xd=(s,e)=>{let t=new Zi(s),i=s.maxReadSize||16*1024*1024,r=s.file,o=new Promise((n,u)=>{t.on("error",u),t.on("close",n),Ol.stat(r,(h,a)=>{if(h)u(h);else{let l=new vl.ReadStream(r,{readSize:i,size:a.size});l.on("error",u),l.pipe(t)}})});return e?o.then(e,e):o},Jd=s=>new Zi.Sync(s),Qd=s=>new Zi(s)});var xl=g(L=>{"use strict";L.c=L.create=Dh();L.r=L.replace=to();L.t=L.list=Pi();L.u=L.update=yh();L.x=L.extract=Rl();L.Pack=Ei();L.Unpack=Fo();L.Parse=Mi();L.ReadEntry=ti();L.WriteEntry=wn();L.Header=It();L.Pax=ii();L.types=on()});var Il=g((DE,Nl)=>{var Qt=1e3,es=Qt*60,ts=es*60,At=ts*24,rm=At*7,nm=At*365.25;Nl.exports=function(s,e){e=e||{};var t=typeof s;if(t==="string"&&s.length>0)return om(s);if(t==="number"&&isFinite(s))return e.long?am(s):um(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function om(s){if(s=String(s),!(s.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*nm;case"weeks":case"week":case"w":return t*rm;case"days":case"day":case"d":return t*At;case"hours":case"hour":case"hrs":case"hr":case"h":return t*ts;case"minutes":case"minute":case"mins":case"min":case"m":return t*es;case"seconds":case"second":case"secs":case"sec":case"s":return t*Qt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function um(s){var e=Math.abs(s);return e>=At?Math.round(s/At)+"d":e>=ts?Math.round(s/ts)+"h":e>=es?Math.round(s/es)+"m":e>=Qt?Math.round(s/Qt)+"s":s+"ms"}function am(s){var e=Math.abs(s);return e>=At?Ji(s,e,At,"day"):e>=ts?Ji(s,e,ts,"hour"):e>=es?Ji(s,e,es,"minute"):e>=Qt?Ji(s,e,Qt,"second"):s+" ms"}function Ji(s,e,t,i){var r=e>=t*1.5;return Math.round(s/t)+" "+i+(r?"s":"")}});var Ao=g((fE,Ml)=>{function hm(s){t.debug=t,t.default=t,t.coerce=h,t.disable=o,t.enable=r,t.enabled=n,t.humanize=Il(),t.destroy=a,Object.keys(s).forEach(l=>{t[l]=s[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let c=0;for(let D=0;D<l.length;D++)c=(c<<5)-c+l.charCodeAt(D),c|=0;return t.colors[Math.abs(c)%t.colors.length]}t.selectColor=e;function t(l){let c,D=null,m,f;function E(...C){if(!E.enabled)return;let b=E,ee=Number(new Date),Ce=ee-(c||ee);b.diff=Ce,b.prev=c,b.curr=ee,c=ee,C[0]=t.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let Ge=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(Dt,Ot)=>{if(Dt==="%%")return"%";Ge++;let Go=t.formatters[Ot];if(typeof Go=="function"){let xc=C[Ge];Dt=Go.call(b,xc),C.splice(Ge,1),Ge--}return Dt}),t.formatArgs.call(b,C),(b.log||t.log).apply(b,C)}return E.namespace=l,E.useColors=t.useColors(),E.color=t.selectColor(l),E.extend=i,E.destroy=t.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>D!==null?D:(m!==t.namespaces&&(m=t.namespaces,f=t.enabled(l)),f),set:C=>{D=C}}),typeof t.init=="function"&&t.init(E),E}function i(l,c){let D=t(this.namespace+(typeof c>"u"?":":c)+l);return D.log=this.log,D}function r(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let c,D=(typeof l=="string"?l:"").split(/[\s,]+/),m=D.length;for(c=0;c<m;c++)D[c]&&(l=D[c].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...t.names.map(u),...t.skips.map(u).map(c=>"-"+c)].join(",");return t.enable(""),l}function n(l){if(l[l.length-1]==="*")return!0;let c,D;for(c=0,D=t.skips.length;c<D;c++)if(t.skips[c].test(l))return!1;for(c=0,D=t.names.length;c<D;c++)if(t.names[c].test(l))return!0;return!1}function u(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function h(l){return l instanceof Error?l.stack||l.message:l}function a(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Ml.exports=hm});var Pl=g((ne,Qi)=>{ne.formatArgs=cm;ne.save=Dm;ne.load=fm;ne.useColors=lm;ne.storage=dm();ne.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ne.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function lm(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function cm(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+Qi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;s.splice(1,0,e,"color: inherit");let t=0,i=0;s[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(t++,r==="%c"&&(i=t))}),s.splice(i,0,e)}ne.log=console.debug||console.log||(()=>{});function Dm(s){try{s?ne.storage.setItem("debug",s):ne.storage.removeItem("debug")}catch{}}function fm(){let s;try{s=ne.storage.getItem("debug")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=process.env.DEBUG),s}function dm(){try{return localStorage}catch{}}Qi.exports=Ao()(ne);var{formatters:mm}=Qi.exports;mm.j=function(s){try{return JSON.stringify(s)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var ql=g((dE,kl)=>{"use strict";kl.exports=(s,e=process.argv)=>{let t=s.startsWith("-")?"":s.length===1?"-":"--",i=e.indexOf(t+s),r=e.indexOf("--");return i!==-1&&(r===-1||i<r)}});var zl=g((mE,Ul)=>{"use strict";var pm=p("os"),Hl=p("tty"),De=ql(),{env:k}=process,ct;De("no-color")||De("no-colors")||De("color=false")||De("color=never")?ct=0:(De("color")||De("colors")||De("color=true")||De("color=always"))&&(ct=1);"FORCE_COLOR"in k&&(k.FORCE_COLOR==="true"?ct=1:k.FORCE_COLOR==="false"?ct=0:ct=k.FORCE_COLOR.length===0?1:Math.min(parseInt(k.FORCE_COLOR,10),3));function Oo(s){return s===0?!1:{level:s,hasBasic:!0,has256:s>=2,has16m:s>=3}}function vo(s,e){if(ct===0)return 0;if(De("color=16m")||De("color=full")||De("color=truecolor"))return 3;if(De("color=256"))return 2;if(s&&!e&&ct===void 0)return 0;let t=ct||0;if(k.TERM==="dumb")return t;if(process.platform==="win32"){let i=pm.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in k)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in k)||k.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in k)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(k.TEAMCITY_VERSION)?1:0;if(k.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in k){let i=parseInt((k.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(k.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(k.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(k.TERM)||"COLORTERM"in k?1:t}function gm(s){let e=vo(s,s&&s.isTTY);return Oo(e)}Ul.exports={supportsColor:gm,stdout:Oo(vo(!0,Hl.isatty(1))),stderr:Oo(vo(!0,Hl.isatty(2)))}});var Wl=g((H,tr)=>{var Em=p("tty"),er=p("util");H.init=Sm;H.log=bm;H.formatArgs=Fm;H.save=_m;H.load=wm;H.useColors=Cm;H.destroy=er.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");H.colors=[6,2,3,4,5,1];try{let s=zl();s&&(s.stderr||s).level>=2&&(H.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}H.inspectOpts=Object.keys(process.env).filter(s=>/^debug_/i.test(s)).reduce((s,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(r,o)=>o.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),s[t]=i,s},{});function Cm(){return"colors"in H.inspectOpts?!!H.inspectOpts.colors:Em.isatty(process.stderr.fd)}function Fm(s){let{namespace:e,useColors:t}=this;if(t){let i=this.color,r="\x1B[3"+(i<8?i:"8;5;"+i),o=`  ${r};1m${e} \x1B[0m`;s[0]=o+s[0].split(`
`).join(`
`+o),s.push(r+"m+"+tr.exports.humanize(this.diff)+"\x1B[0m")}else s[0]=ym()+e+" "+s[0]}function ym(){return H.inspectOpts.hideDate?"":new Date().toISOString()+" "}function bm(...s){return process.stderr.write(er.format(...s)+`
`)}function _m(s){s?process.env.DEBUG=s:delete process.env.DEBUG}function wm(){return process.env.DEBUG}function Sm(s){s.inspectOpts={};let e=Object.keys(H.inspectOpts);for(let t=0;t<e.length;t++)s.inspectOpts[e[t]]=H.inspectOpts[e[t]]}tr.exports=Ao()(H);var{formatters:Vl}=tr.exports;Vl.o=function(s){return this.inspectOpts.colors=this.useColors,er.inspect(s,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Vl.O=function(s){return this.inspectOpts.colors=this.useColors,er.inspect(s,this.inspectOpts)}});var Ro=g((pE,Bo)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Bo.exports=Pl():Bo.exports=Wl()});var Yl=g(Q=>{"use strict";var Am=Q&&Q.__createBinding||(Object.create?function(s,e,t,i){i===void 0&&(i=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(s,i,r)}:function(s,e,t,i){i===void 0&&(i=t),s[i]=e[t]}),Om=Q&&Q.__setModuleDefault||(Object.create?function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}:function(s,e){s.default=e}),jl=Q&&Q.__importStar||function(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var t in s)t!=="default"&&Object.prototype.hasOwnProperty.call(s,t)&&Am(e,s,t);return Om(e,s),e};Object.defineProperty(Q,"__esModule",{value:!0});Q.req=Q.json=Q.toBuffer=void 0;var vm=jl(p("http")),Bm=jl(p("https"));async function Gl(s){let e=0,t=[];for await(let i of s)e+=i.length,t.push(i);return Buffer.concat(t,e)}Q.toBuffer=Gl;async function Rm(s){let t=(await Gl(s)).toString("utf8");try{return JSON.parse(t)}catch(i){let r=i;throw r.message+=` (input: ${t})`,r}}Q.json=Rm;function xm(s,e={}){let i=((typeof s=="string"?s:s.href).startsWith("https:")?Bm:vm).request(s,e),r=new Promise((o,n)=>{i.once("response",o).once("error",n).end()});return i.then=r.then.bind(r),i}Q.req=xm});var Xl=g(oe=>{"use strict";var Zl=oe&&oe.__createBinding||(Object.create?function(s,e,t,i){i===void 0&&(i=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(s,i,r)}:function(s,e,t,i){i===void 0&&(i=t),s[i]=e[t]}),Tm=oe&&oe.__setModuleDefault||(Object.create?function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}:function(s,e){s.default=e}),$m=oe&&oe.__importStar||function(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var t in s)t!=="default"&&Object.prototype.hasOwnProperty.call(s,t)&&Zl(e,s,t);return Tm(e,s),e},Lm=oe&&oe.__exportStar||function(s,e){for(var t in s)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zl(e,s,t)};Object.defineProperty(oe,"__esModule",{value:!0});oe.Agent=void 0;var Kl=$m(p("http"));Lm(Yl(),oe);var Oe=Symbol("AgentBaseInternalState"),xo=class extends Kl.Agent{constructor(e){super(e),this[Oe]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(i=>i.indexOf("(https.js:")!==-1||i.indexOf("node:https:")!==-1)}createSocket(e,t,i){let r={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,r)).then(o=>{if(o instanceof Kl.Agent)return o.addRequest(e,r);this[Oe].currentSocket=o,super.createSocket(e,t,i)},i)}createConnection(){let e=this[Oe].currentSocket;if(this[Oe].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Oe].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Oe]&&(this[Oe].defaultPort=e)}get protocol(){return this[Oe].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Oe]&&(this[Oe].protocol=e)}};oe.Agent=xo});var Jl=g(ss=>{"use strict";var Nm=ss&&ss.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ss,"__esModule",{value:!0});ss.parseProxyResponse=void 0;var Im=Nm(Ro()),sr=(0,Im.default)("https-proxy-agent:parse-proxy-response");function Mm(s){return new Promise((e,t)=>{let i=0,r=[];function o(){let l=s.read();l?a(l):s.once("readable",o)}function n(){s.removeListener("end",u),s.removeListener("error",h),s.removeListener("readable",o)}function u(){n(),sr("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function h(l){n(),sr("onerror %o",l),t(l)}function a(l){r.push(l),i+=l.length;let c=Buffer.concat(r,i),D=c.indexOf(`\r
\r
`);if(D===-1){sr("have not received end of HTTP headers yet..."),o();return}let m=c.slice(0,D).toString("ascii").split(`\r
`),f=m.shift();if(!f)return s.destroy(),t(new Error("No header received from proxy CONNECT response"));let E=f.split(" "),C=+E[1],b=E.slice(2).join(" "),ee={};for(let Ce of m){if(!Ce)continue;let Ge=Ce.indexOf(":");if(Ge===-1)return s.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${Ce}"`));let $s=Ce.slice(0,Ge).toLowerCase(),Dt=Ce.slice(Ge+1).trimStart(),Ot=ee[$s];typeof Ot=="string"?ee[$s]=[Ot,Dt]:Array.isArray(Ot)?Ot.push(Dt):ee[$s]=Dt}sr("got proxy server response: %o %o",f,ee),n(),e({connect:{statusCode:C,statusText:b,headers:ee},buffered:c})}s.on("error",h),s.on("end",u),o()})}ss.parseProxyResponse=Mm});var ic=g(fe=>{"use strict";var Pm=fe&&fe.__createBinding||(Object.create?function(s,e,t,i){i===void 0&&(i=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(s,i,r)}:function(s,e,t,i){i===void 0&&(i=t),s[i]=e[t]}),km=fe&&fe.__setModuleDefault||(Object.create?function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}:function(s,e){s.default=e}),tc=fe&&fe.__importStar||function(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var t in s)t!=="default"&&Object.prototype.hasOwnProperty.call(s,t)&&Pm(e,s,t);return km(e,s),e},sc=fe&&fe.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(fe,"__esModule",{value:!0});fe.HttpsProxyAgent=void 0;var Bs=tc(p("net")),Ql=tc(p("tls")),qm=sc(p("assert")),Hm=sc(Ro()),Um=Xl(),zm=Jl(),Rs=(0,Hm.default)("https-proxy-agent"),ir=class extends Um.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},Rs("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let i=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),r=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?ec(t,"headers"):null,host:i,port:r}}async connect(e,t){let{proxy:i}=this;if(!t.host)throw new TypeError('No "host" provided');let r;if(i.protocol==="https:"){Rs("Creating `tls.Socket`: %o",this.connectOpts);let D=this.connectOpts.servername||this.connectOpts.host;r=Ql.connect({...this.connectOpts,servername:D&&Bs.isIP(D)?void 0:D})}else Rs("Creating `net.Socket`: %o",this.connectOpts),r=Bs.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},n=Bs.isIPv6(t.host)?`[${t.host}]`:t.host,u=`CONNECT ${n}:${t.port} HTTP/1.1\r
`;if(i.username||i.password){let D=`${decodeURIComponent(i.username)}:${decodeURIComponent(i.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(D).toString("base64")}`}o.Host=`${n}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let D of Object.keys(o))u+=`${D}: ${o[D]}\r
`;let h=(0,zm.parseProxyResponse)(r);r.write(`${u}\r
`);let{connect:a,buffered:l}=await h;if(e.emit("proxyConnect",a),this.emit("proxyConnect",a,e),a.statusCode===200){if(e.once("socket",Vm),t.secureEndpoint){Rs("Upgrading socket connection to TLS");let D=t.servername||t.host;return Ql.connect({...ec(t,"host","path","port"),socket:r,servername:Bs.isIP(D)?void 0:D})}return r}r.destroy();let c=new Bs.Socket({writable:!1});return c.readable=!0,e.once("socket",D=>{Rs("Replaying proxy buffer for failed request"),(0,qm.default)(D.listenerCount("data")>0),D.push(l),D.push(null)}),c}};ir.protocols=["http","https"];fe.HttpsProxyAgent=ir;function Vm(s){s.resume()}function ec(s,...e){let t={},i;for(i in s)e.includes(i)||(t[i]=s[i]);return t}});var Ts=g(No=>{var or=class extends Error{constructor(e,t,i){super(i),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}},Lo=class extends or{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};No.CommanderError=or;No.InvalidArgumentError=Lo});var ur=g(Mo=>{var{InvalidArgumentError:lp}=Ts(),Io=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,i)=>{if(!this.argChoices.includes(t))throw new lp(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,i):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function cp(s){let e=s.name()+(s.variadic===!0?"...":"");return s.required?"<"+e+">":"["+e+"]"}Mo.Argument=Io;Mo.humanReadableArgName=cp});var ko=g(dc=>{var{humanReadableArgName:Dp}=ur(),Po=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(e){let t=e.commands.filter(i=>!i._hidden);if(e._hasImplicitHelpCommand()){let[,i,r]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),o=e.createCommand(i).helpOption(!1);o.description(e._helpCommandDescription),r&&o.arguments(r),t.push(o)}return this.sortSubcommands&&t.sort((i,r)=>i.name().localeCompare(r.name())),t}compareOptions(e,t){let i=r=>r.short?r.short.replace(/^-/,""):r.long.replace(/^--/,"");return i(e).localeCompare(i(t))}visibleOptions(e){let t=e.options.filter(o=>!o.hidden),i=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),r=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(i||r){let o;i?r?o=e.createOption(e._helpFlags,e._helpDescription):o=e.createOption(e._helpShortFlag,e._helpDescription):o=e.createOption(e._helpLongFlag,e._helpDescription),t.push(o)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let t=[];for(let i=e.parent;i;i=i.parent){let r=i.options.filter(o=>!o.hidden);t.push(...r)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(t=>{t.description=t.description||e._argsDescription[t.name()]||""}),e.registeredArguments.find(t=>t.description)?e.registeredArguments:[]}subcommandTerm(e){let t=e.registeredArguments.map(i=>Dp(i)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce((i,r)=>Math.max(i,t.subcommandTerm(r).length),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce((i,r)=>Math.max(i,t.optionTerm(r).length),0)}longestGlobalOptionTermLength(e,t){return t.visibleGlobalOptions(e).reduce((i,r)=>Math.max(i,t.optionTerm(r).length),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce((i,r)=>Math.max(i,t.argumentTerm(r).length),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let i="";for(let r=e.parent;r;r=r.parent)i=r.name()+" "+i;return i+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let t=[];return e.argChoices&&t.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&t.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&t.push(`env: ${e.envVar}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}argumentDescription(e){let t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){let i=`(${t.join(", ")})`;return e.description?`${e.description} ${i}`:i}return e.description}formatHelp(e,t){let i=t.padWidth(e,t),r=t.helpWidth||80,o=2,n=2;function u(f,E){if(E){let C=`${f.padEnd(i+n)}${E}`;return t.wrap(C,r-o,i+n)}return f}function h(f){return f.join(`
`).replace(/^/gm," ".repeat(o))}let a=[`Usage: ${t.commandUsage(e)}`,""],l=t.commandDescription(e);l.length>0&&(a=a.concat([t.wrap(l,r,0),""]));let c=t.visibleArguments(e).map(f=>u(t.argumentTerm(f),t.argumentDescription(f)));c.length>0&&(a=a.concat(["Arguments:",h(c),""]));let D=t.visibleOptions(e).map(f=>u(t.optionTerm(f),t.optionDescription(f)));if(D.length>0&&(a=a.concat(["Options:",h(D),""])),this.showGlobalOptions){let f=t.visibleGlobalOptions(e).map(E=>u(t.optionTerm(E),t.optionDescription(E)));f.length>0&&(a=a.concat(["Global Options:",h(f),""]))}let m=t.visibleCommands(e).map(f=>u(t.subcommandTerm(f),t.subcommandDescription(f)));return m.length>0&&(a=a.concat(["Commands:",h(m),""])),a.join(`
`)}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestGlobalOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,i,r=40){let o=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",n=new RegExp(`[\\n][${o}]+`);if(e.match(n))return e;let u=t-i;if(u<r)return e;let h=e.slice(0,i),a=e.slice(i).replace(`\r
`,`
`),l=" ".repeat(i),D="\\s\u200B",m=new RegExp(`
|.{1,${u-1}}([${D}]|$)|[^${D}]+?([${D}]|$)`,"g"),f=a.match(m)||[];return h+f.map((E,C)=>E===`
`?"":(C>0?l:"")+E.trimEnd()).join(`
`)}};dc.Help=Po});var Uo=g(ar=>{var{InvalidArgumentError:fp}=Ts(),qo=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let i=mc(e);this.short=i.shortFlag,this.long=i.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let t=e;return typeof e=="string"&&(t={[e]:!0}),this.implied=Object.assign(this.implied||{},t),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,i)=>{if(!this.argChoices.includes(t))throw new fp(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,i):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return dp(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},Ho=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)}),this.negativeOptions.forEach((t,i)=>{this.positiveOptions.has(i)&&this.dualOptions.add(i)})}valueFromOption(e,t){let i=t.attributeName();if(!this.dualOptions.has(i))return!0;let r=this.negativeOptions.get(i).presetArg,o=r!==void 0?r:!1;return t.negate===(o===e)}};function dp(s){return s.split("-").reduce((e,t)=>e+t[0].toUpperCase()+t.slice(1))}function mc(s){let e,t,i=s.split(/[ |,]+/);return i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift()),t=i.shift(),!e&&/^-[^-]$/.test(t)&&(e=t,t=void 0),{shortFlag:e,longFlag:t}}ar.Option=qo;ar.splitOptionFlags=mc;ar.DualOptions=Ho});var gc=g(pc=>{function mp(s,e){if(Math.abs(s.length-e.length)>3)return Math.max(s.length,e.length);let t=[];for(let i=0;i<=s.length;i++)t[i]=[i];for(let i=0;i<=e.length;i++)t[0][i]=i;for(let i=1;i<=e.length;i++)for(let r=1;r<=s.length;r++){let o=1;s[r-1]===e[i-1]?o=0:o=1,t[r][i]=Math.min(t[r-1][i]+1,t[r][i-1]+1,t[r-1][i-1]+o),r>1&&i>1&&s[r-1]===e[i-2]&&s[r-2]===e[i-1]&&(t[r][i]=Math.min(t[r][i],t[r-2][i-2]+1))}return t[s.length][e.length]}function pp(s,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let t=s.startsWith("--");t&&(s=s.slice(2),e=e.map(n=>n.slice(2)));let i=[],r=3,o=.4;return e.forEach(n=>{if(n.length<=1)return;let u=mp(s,n),h=Math.max(s.length,n.length);(h-u)/h>o&&(u<r?(r=u,i=[n]):u===r&&i.push(n))}),i.sort((n,u)=>n.localeCompare(u)),t&&(i=i.map(n=>`--${n}`)),i.length>1?`
(Did you mean one of ${i.join(", ")}?)`:i.length===1?`
(Did you mean ${i[0]}?)`:""}pc.suggestSimilar=pp});var _c=g(bc=>{var gp=p("events").EventEmitter,zo=p("child_process"),je=p("path"),Vo=p("fs"),v=p("process"),{Argument:Ep,humanReadableArgName:Cp}=ur(),{CommanderError:Wo}=Ts(),{Help:Fp}=ko(),{Option:Ec,splitOptionFlags:yp,DualOptions:bp}=Uo(),{suggestSimilar:Cc}=gc(),jo=class s extends gp{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>v.stdout.write(t),writeErr:t=>v.stderr.write(t),getOutHelpWidth:()=>v.stdout.isTTY?v.stdout.columns:void 0,getErrHelpWidth:()=>v.stderr.isTTY?v.stderr.columns:void 0,outputError:(t,i)=>i(t)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){let e=[];for(let t=this;t;t=t.parent)e.push(t);return e}command(e,t,i){let r=t,o=i;typeof r=="object"&&r!==null&&(o=r,r=null),o=o||{};let[,n,u]=e.match(/([^ ]+) *(.*)/),h=this.createCommand(n);return r&&(h.description(r),h._executableHandler=!0),o.isDefault&&(this._defaultCommandName=h._name),h._hidden=!!(o.noHelp||o.hidden),h._executableFile=o.executableFile||null,u&&h.arguments(u),this.commands.push(h),h.parent=this,h.copyInheritedSettings(this),r?this:h}createCommand(e){return new s(e)}createHelp(){return Object.assign(new Fp,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return t=t||{},t.isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,t){return new Ep(e,t)}argument(e,t,i,r){let o=this.createArgument(e,t);return typeof i=="function"?o.default(r).argParser(i):o.default(i),this.addArgument(o),this}arguments(e){return e.trim().split(/ +/).forEach(t=>{this.argument(t)}),this}addArgument(e){let t=this.registeredArguments.slice(-1)[0];if(t&&t.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}addHelpCommand(e,t){return e===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=t||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,t){let i=["preSubcommand","preAction","postAction"];if(!i.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${i.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync")throw t},this}_exit(e,t,i){this._exitCallback&&this._exitCallback(new Wo(e,t,i)),v.exit(e)}action(e){let t=i=>{let r=this.registeredArguments.length,o=i.slice(0,r);return this._storeOptionsAsProperties?o[r]=this:o[r]=this.opts(),o.push(this),e.apply(this,o)};return this._actionHandler=t,this}createOption(e,t){return new Ec(e,t)}_callParseArg(e,t,i,r){try{return e.parseArg(t,i)}catch(o){if(o.code==="commander.invalidArgument"){let n=`${r} ${o.message}`;this.error(n,{exitCode:o.exitCode,code:o.code})}throw o}}addOption(e){let t=e.name(),i=e.attributeName();if(e.negate){let o=e.long.replace(/^--no-/,"--");this._findOption(o)||this.setOptionValueWithSource(i,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(i,e.defaultValue,"default");this.options.push(e);let r=(o,n,u)=>{o==null&&e.presetArg!==void 0&&(o=e.presetArg);let h=this.getOptionValue(i);o!==null&&e.parseArg?o=this._callParseArg(e,o,h,n):o!==null&&e.variadic&&(o=e._concatValue(o,h)),o==null&&(e.negate?o=!1:e.isBoolean()||e.optional?o=!0:o=""),this.setOptionValueWithSource(i,o,u)};return this.on("option:"+t,o=>{let n=`error: option '${e.flags}' argument '${o}' is invalid.`;r(o,n,"cli")}),e.envVar&&this.on("optionEnv:"+t,o=>{let n=`error: option '${e.flags}' value '${o}' from env '${e.envVar}' is invalid.`;r(o,n,"env")}),this}_optionEx(e,t,i,r,o){if(typeof t=="object"&&t instanceof Ec)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let n=this.createOption(t,i);if(n.makeOptionMandatory(!!e.mandatory),typeof r=="function")n.default(o).argParser(r);else if(r instanceof RegExp){let u=r;r=(h,a)=>{let l=u.exec(h);return l?l[0]:a},n.default(o).argParser(r)}else n.default(r);return this.addOption(n)}option(e,t,i,r){return this._optionEx({},e,t,i,r)}requiredOption(e,t,i,r){return this._optionEx({mandatory:!0},e,t,i,r)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this.setOptionValueWithSource(e,t,void 0)}setOptionValueWithSource(e,t,i){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this._optionValueSources[e]=i,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let t;return this._getCommandAndAncestors().forEach(i=>{i.getOptionValueSource(e)!==void 0&&(t=i.getOptionValueSource(e))}),t}_prepareUserArgs(e,t){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");t=t||{},e===void 0&&(e=v.argv,v.versions&&v.versions.electron&&(t.from="electron")),this.rawArgs=e.slice();let i;switch(t.from){case void 0:case"node":this._scriptPath=e[1],i=e.slice(2);break;case"electron":v.defaultApp?(this._scriptPath=e[1],i=e.slice(2)):i=e.slice(1);break;case"user":i=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",i}parse(e,t){let i=this._prepareUserArgs(e,t);return this._parseCommand([],i),this}async parseAsync(e,t){let i=this._prepareUserArgs(e,t);return await this._parseCommand([],i),this}_executeSubCommand(e,t){t=t.slice();let i=!1,r=[".js",".ts",".tsx",".mjs",".cjs"];function o(l,c){let D=je.resolve(l,c);if(Vo.existsSync(D))return D;if(r.includes(je.extname(c)))return;let m=r.find(f=>Vo.existsSync(`${D}${f}`));if(m)return`${D}${m}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let n=e._executableFile||`${this._name}-${e._name}`,u=this._executableDir||"";if(this._scriptPath){let l;try{l=Vo.realpathSync(this._scriptPath)}catch{l=this._scriptPath}u=je.resolve(je.dirname(l),u)}if(u){let l=o(u,n);if(!l&&!e._executableFile&&this._scriptPath){let c=je.basename(this._scriptPath,je.extname(this._scriptPath));c!==this._name&&(l=o(u,`${c}-${e._name}`))}n=l||n}i=r.includes(je.extname(n));let h;v.platform!=="win32"?i?(t.unshift(n),t=yc(v.execArgv).concat(t),h=zo.spawn(v.argv[0],t,{stdio:"inherit"})):h=zo.spawn(n,t,{stdio:"inherit"}):(t.unshift(n),t=yc(v.execArgv).concat(t),h=zo.spawn(v.execPath,t,{stdio:"inherit"})),h.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(c=>{v.on(c,()=>{h.killed===!1&&h.exitCode===null&&h.kill(c)})});let a=this._exitCallback;a?h.on("close",()=>{a(new Wo(v.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):h.on("close",v.exit.bind(v)),h.on("error",l=>{if(l.code==="ENOENT"){let c=u?`searched for local subcommand relative to directory '${u}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",D=`'${n}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${c}`;throw new Error(D)}else if(l.code==="EACCES")throw new Error(`'${n}' not executable`);if(!a)v.exit(1);else{let c=new Wo(1,"commander.executeSubCommandAsync","(error)");c.nestedError=l,a(c)}}),this.runningCommand=h}_dispatchSubcommand(e,t,i){let r=this._findCommand(e);r||this.help({error:!0});let o;return o=this._chainOrCallSubCommandHook(o,r,"preSubcommand"),o=this._chainOrCall(o,()=>{if(r._executableHandler)this._executeSubCommand(r,t.concat(i));else return r._parseCommand(t,i)}),o}_dispatchHelpCommand(e){e||this.help();let t=this._findCommand(e);return t&&!t._executableHandler&&t.help(),this._dispatchSubcommand(e,[],[this._helpLongFlag||this._helpShortFlag])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,t)=>{e.required&&this.args[t]==null&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(i,r,o)=>{let n=r;if(r!==null&&i.parseArg){let u=`error: command-argument value '${r}' is invalid for argument '${i.name()}'.`;n=this._callParseArg(i,r,o,u)}return n};this._checkNumberOfArguments();let t=[];this.registeredArguments.forEach((i,r)=>{let o=i.defaultValue;i.variadic?r<this.args.length?(o=this.args.slice(r),i.parseArg&&(o=o.reduce((n,u)=>e(i,u,n),i.defaultValue))):o===void 0&&(o=[]):r<this.args.length&&(o=this.args[r],i.parseArg&&(o=e(i,o,i.defaultValue))),t[r]=o}),this.processedArgs=t}_chainOrCall(e,t){return e&&e.then&&typeof e.then=="function"?e.then(()=>t()):t()}_chainOrCallHooks(e,t){let i=e,r=[];return this._getCommandAndAncestors().reverse().filter(o=>o._lifeCycleHooks[t]!==void 0).forEach(o=>{o._lifeCycleHooks[t].forEach(n=>{r.push({hookedCommand:o,callback:n})})}),t==="postAction"&&r.reverse(),r.forEach(o=>{i=this._chainOrCall(i,()=>o.callback(o.hookedCommand,this))}),i}_chainOrCallSubCommandHook(e,t,i){let r=e;return this._lifeCycleHooks[i]!==void 0&&this._lifeCycleHooks[i].forEach(o=>{r=this._chainOrCall(r,()=>o(this,t))}),r}_parseCommand(e,t){let i=this.parseOptions(t);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(i.operands),t=i.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return Fc(this,t),this._dispatchSubcommand(this._defaultCommandName,e,t);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),Fc(this,i.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let r=()=>{i.unknown.length>0&&this.unknownOption(i.unknown[0])},o=`command:${this.name()}`;if(this._actionHandler){r(),this._processArguments();let n;return n=this._chainOrCallHooks(n,"preAction"),n=this._chainOrCall(n,()=>this._actionHandler(this.processedArgs)),this.parent&&(n=this._chainOrCall(n,()=>{this.parent.emit(o,e,t)})),n=this._chainOrCallHooks(n,"postAction"),n}if(this.parent&&this.parent.listenerCount(o))r(),this._processArguments(),this.parent.emit(o,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(r(),this._processArguments())}else this.commands.length?(r(),this.help({error:!0})):(r(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(t=>t._name===e||t._aliases.includes(e))}_findOption(e){return this.options.find(t=>t.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(t=>{t.mandatory&&e.getOptionValue(t.attributeName())===void 0&&e.missingMandatoryOptionValue(t)})})}_checkForConflictingLocalOptions(){let e=this.options.filter(i=>{let r=i.attributeName();return this.getOptionValue(r)===void 0?!1:this.getOptionValueSource(r)!=="default"});e.filter(i=>i.conflictsWith.length>0).forEach(i=>{let r=e.find(o=>i.conflictsWith.includes(o.attributeName()));r&&this._conflictingOption(i,r)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){let t=[],i=[],r=t,o=e.slice();function n(h){return h.length>1&&h[0]==="-"}let u=null;for(;o.length;){let h=o.shift();if(h==="--"){r===i&&r.push(h),r.push(...o);break}if(u&&!n(h)){this.emit(`option:${u.name()}`,h);continue}if(u=null,n(h)){let a=this._findOption(h);if(a){if(a.required){let l=o.shift();l===void 0&&this.optionMissingArgument(a),this.emit(`option:${a.name()}`,l)}else if(a.optional){let l=null;o.length>0&&!n(o[0])&&(l=o.shift()),this.emit(`option:${a.name()}`,l)}else this.emit(`option:${a.name()}`);u=a.variadic?a:null;continue}}if(h.length>2&&h[0]==="-"&&h[1]!=="-"){let a=this._findOption(`-${h[1]}`);if(a){a.required||a.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${a.name()}`,h.slice(2)):(this.emit(`option:${a.name()}`),o.unshift(`-${h.slice(2)}`));continue}}if(/^--[^=]+=/.test(h)){let a=h.indexOf("="),l=this._findOption(h.slice(0,a));if(l&&(l.required||l.optional)){this.emit(`option:${l.name()}`,h.slice(a+1));continue}}if(n(h)&&(r=i),(this._enablePositionalOptions||this._passThroughOptions)&&t.length===0&&i.length===0){if(this._findCommand(h)){t.push(h),o.length>0&&i.push(...o);break}else if(h===this._helpCommandName&&this._hasImplicitHelpCommand()){t.push(h),o.length>0&&t.push(...o);break}else if(this._defaultCommandName){i.push(h),o.length>0&&i.push(...o);break}}if(this._passThroughOptions){r.push(h),o.length>0&&r.push(...o);break}r.push(h)}return{operands:t,unknown:i}}opts(){if(this._storeOptionsAsProperties){let e={},t=this.options.length;for(let i=0;i<t;i++){let r=this.options[i].attributeName();e[r]=r===this._versionOptionName?this._version:this[r]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,t)=>Object.assign(e,t.opts()),{})}error(e,t){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let i=t||{},r=i.exitCode||1,o=i.code||"commander.error";this._exit(r,o,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in v.env){let t=e.attributeName();(this.getOptionValue(t)===void 0||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,v.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new bp(this.options),t=i=>this.getOptionValue(i)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(i));this.options.filter(i=>i.implied!==void 0&&t(i.attributeName())&&e.valueFromOption(this.getOptionValue(i.attributeName()),i)).forEach(i=>{Object.keys(i.implied).filter(r=>!t(r)).forEach(r=>{this.setOptionValueWithSource(r,i.implied[r],"implied")})})}missingArgument(e){let t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){let t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){let i=n=>{let u=n.attributeName(),h=this.getOptionValue(u),a=this.options.find(c=>c.negate&&u===c.attributeName()),l=this.options.find(c=>!c.negate&&u===c.attributeName());return a&&(a.presetArg===void 0&&h===!1||a.presetArg!==void 0&&h===a.presetArg)?a:l||n},r=n=>{let u=i(n),h=u.attributeName();return this.getOptionValueSource(h)==="env"?`environment variable '${u.envVar}'`:`option '${u.flags}'`},o=`error: ${r(e)} cannot be used with ${r(t)}`;this.error(o,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let r=[],o=this;do{let n=o.createHelp().visibleOptions(o).filter(u=>u.long).map(u=>u.long);r=r.concat(n),o=o.parent}while(o&&!o._enablePositionalOptions);t=Cc(e,r)}let i=`error: unknown option '${e}'${t}`;this.error(i,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let t=this.registeredArguments.length,i=t===1?"":"s",o=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${i} but got ${e.length}.`;this.error(o,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],t="";if(this._showSuggestionAfterError){let r=[];this.createHelp().visibleCommands(this).forEach(o=>{r.push(o.name()),o.alias()&&r.push(o.alias())}),t=Cc(e,r)}let i=`error: unknown command '${e}'${t}`;this.error(i,{code:"commander.unknownCommand"})}version(e,t,i){if(e===void 0)return this._version;this._version=e,t=t||"-V, --version",i=i||"output the version number";let r=this.createOption(t,i);return this._versionOptionName=r.attributeName(),this.options.push(r),this.on("option:"+r.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,t){return e===void 0&&t===void 0?this._description:(this._description=e,t&&(this._argsDescription=t),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let t=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");return t._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(t=>this.alias(t)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let t=this.registeredArguments.map(i=>Cp(i));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=je.basename(e,je.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let t=this.createHelp();return t.helpWidth===void 0&&(t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),t.formatHelp(this,t)}_getHelpContext(e){e=e||{};let t={error:!!e.error},i;return t.error?i=r=>this._outputConfiguration.writeErr(r):i=r=>this._outputConfiguration.writeOut(r),t.write=e.write||i,t.command=this,t}outputHelp(e){let t;typeof e=="function"&&(t=e,e=void 0);let i=this._getHelpContext(e);this._getCommandAndAncestors().reverse().forEach(o=>o.emit("beforeAllHelp",i)),this.emit("beforeHelp",i);let r=this.helpInformation(i);if(t&&(r=t(r),typeof r!="string"&&!Buffer.isBuffer(r)))throw new Error("outputHelp callback must return a string or a Buffer");i.write(r),this._helpLongFlag&&this.emit(this._helpLongFlag),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach(o=>o.emit("afterAllHelp",i))}helpOption(e,t){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=t||this._helpDescription;let i=yp(this._helpFlags);return this._helpShortFlag=i.shortFlag,this._helpLongFlag=i.longFlag,this}help(e){this.outputHelp(e);let t=v.exitCode||0;t===0&&e&&typeof e!="function"&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){let i=["beforeAll","before","after","afterAll"];if(!i.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${i.join("', '")}'`);let r=`${e}Help`;return this.on(r,o=>{let n;typeof t=="function"?n=t({error:o.error,command:o.command}):n=t,n&&o.write(`${n}
`)}),this}};function Fc(s,e){s._hasHelpOption&&e.find(i=>i===s._helpLongFlag||i===s._helpShortFlag)&&(s.outputHelp(),s._exit(0,"commander.helpDisplayed","(outputHelp)"))}function yc(s){return s.map(e=>{if(!e.startsWith("--inspect"))return e;let t,i="127.0.0.1",r="9229",o;return(o=e.match(/^(--inspect(-brk)?)$/))!==null?t=o[1]:(o=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(t=o[1],/^\d+$/.test(o[3])?r=o[3]:i=o[3]):(o=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(t=o[1],i=o[3],r=o[4]),t&&r!=="0"?`${t}=${i}:${parseInt(r)+1}`:e})}bc.Command=jo});var Oc=g((Ee,Ac)=>{var{Argument:_p}=ur(),{Command:wc}=_c(),{CommanderError:wp,InvalidArgumentError:Sc}=Ts(),{Help:Sp}=ko(),{Option:Ap}=Uo();Ee=Ac.exports=new wc;Ee.program=Ee;Ee.Command=wc;Ee.Option=Ap;Ee.Argument=_p;Ee.Help=Sp;Ee.CommanderError=wp;Ee.InvalidArgumentError=Sc;Ee.InvalidOptionArgumentError=Sc});import{statSync as DD,readdirSync as fD,existsSync as dD,rmSync as mD}from"fs";var G=ft(cr(),1),Ns=ft(fr(),1);import{stdin as ou,stdout as uu}from"node:process";import*as Ye from"node:readline";import Jo from"node:readline";import{WriteStream as zc}from"node:tty";function Vc({onlyFirst:s=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,s?void 0:"g")}function au(s){if(typeof s!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof s}\``);return s.replace(Vc(),"")}var pr={},Wc={get exports(){return pr},set exports(s){pr=s}};(function(s){var e={};s.exports=e,e.eastAsianWidth=function(i){var r=i.charCodeAt(0),o=i.length==2?i.charCodeAt(1):0,n=r;return 55296<=r&&r<=56319&&56320<=o&&o<=57343&&(r&=1023,o&=1023,n=r<<10|o,n+=65536),n==12288||65281<=n&&n<=65376||65504<=n&&n<=65510?"F":n==8361||65377<=n&&n<=65470||65474<=n&&n<=65479||65482<=n&&n<=65487||65490<=n&&n<=65495||65498<=n&&n<=65500||65512<=n&&n<=65518?"H":4352<=n&&n<=4447||4515<=n&&n<=4519||4602<=n&&n<=4607||9001<=n&&n<=9002||11904<=n&&n<=11929||11931<=n&&n<=12019||12032<=n&&n<=12245||12272<=n&&n<=12283||12289<=n&&n<=12350||12353<=n&&n<=12438||12441<=n&&n<=12543||12549<=n&&n<=12589||12593<=n&&n<=12686||12688<=n&&n<=12730||12736<=n&&n<=12771||12784<=n&&n<=12830||12832<=n&&n<=12871||12880<=n&&n<=13054||13056<=n&&n<=19903||19968<=n&&n<=42124||42128<=n&&n<=42182||43360<=n&&n<=43388||44032<=n&&n<=55203||55216<=n&&n<=55238||55243<=n&&n<=55291||63744<=n&&n<=64255||65040<=n&&n<=65049||65072<=n&&n<=65106||65108<=n&&n<=65126||65128<=n&&n<=65131||110592<=n&&n<=110593||127488<=n&&n<=127490||127504<=n&&n<=127546||127552<=n&&n<=127560||127568<=n&&n<=127569||131072<=n&&n<=194367||177984<=n&&n<=196605||196608<=n&&n<=262141?"W":32<=n&&n<=126||162<=n&&n<=163||165<=n&&n<=166||n==172||n==175||10214<=n&&n<=10221||10629<=n&&n<=10630?"Na":n==161||n==164||167<=n&&n<=168||n==170||173<=n&&n<=174||176<=n&&n<=180||182<=n&&n<=186||188<=n&&n<=191||n==198||n==208||215<=n&&n<=216||222<=n&&n<=225||n==230||232<=n&&n<=234||236<=n&&n<=237||n==240||242<=n&&n<=243||247<=n&&n<=250||n==252||n==254||n==257||n==273||n==275||n==283||294<=n&&n<=295||n==299||305<=n&&n<=307||n==312||319<=n&&n<=322||n==324||328<=n&&n<=331||n==333||338<=n&&n<=339||358<=n&&n<=359||n==363||n==462||n==464||n==466||n==468||n==470||n==472||n==474||n==476||n==593||n==609||n==708||n==711||713<=n&&n<=715||n==717||n==720||728<=n&&n<=731||n==733||n==735||768<=n&&n<=879||913<=n&&n<=929||931<=n&&n<=937||945<=n&&n<=961||963<=n&&n<=969||n==1025||1040<=n&&n<=1103||n==1105||n==8208||8211<=n&&n<=8214||8216<=n&&n<=8217||8220<=n&&n<=8221||8224<=n&&n<=8226||8228<=n&&n<=8231||n==8240||8242<=n&&n<=8243||n==8245||n==8251||n==8254||n==8308||n==8319||8321<=n&&n<=8324||n==8364||n==8451||n==8453||n==8457||n==8467||n==8470||8481<=n&&n<=8482||n==8486||n==8491||8531<=n&&n<=8532||8539<=n&&n<=8542||8544<=n&&n<=8555||8560<=n&&n<=8569||n==8585||8592<=n&&n<=8601||8632<=n&&n<=8633||n==8658||n==8660||n==8679||n==8704||8706<=n&&n<=8707||8711<=n&&n<=8712||n==8715||n==8719||n==8721||n==8725||n==8730||8733<=n&&n<=8736||n==8739||n==8741||8743<=n&&n<=8748||n==8750||8756<=n&&n<=8759||8764<=n&&n<=8765||n==8776||n==8780||n==8786||8800<=n&&n<=8801||8804<=n&&n<=8807||8810<=n&&n<=8811||8814<=n&&n<=8815||8834<=n&&n<=8835||8838<=n&&n<=8839||n==8853||n==8857||n==8869||n==8895||n==8978||9312<=n&&n<=9449||9451<=n&&n<=9547||9552<=n&&n<=9587||9600<=n&&n<=9615||9618<=n&&n<=9621||9632<=n&&n<=9633||9635<=n&&n<=9641||9650<=n&&n<=9651||9654<=n&&n<=9655||9660<=n&&n<=9661||9664<=n&&n<=9665||9670<=n&&n<=9672||n==9675||9678<=n&&n<=9681||9698<=n&&n<=9701||n==9711||9733<=n&&n<=9734||n==9737||9742<=n&&n<=9743||9748<=n&&n<=9749||n==9756||n==9758||n==9792||n==9794||9824<=n&&n<=9825||9827<=n&&n<=9829||9831<=n&&n<=9834||9836<=n&&n<=9837||n==9839||9886<=n&&n<=9887||9918<=n&&n<=9919||9924<=n&&n<=9933||9935<=n&&n<=9953||n==9955||9960<=n&&n<=9983||n==10045||n==10071||10102<=n&&n<=10111||11093<=n&&n<=11097||12872<=n&&n<=12879||57344<=n&&n<=63743||65024<=n&&n<=65039||n==65533||127232<=n&&n<=127242||127248<=n&&n<=127277||127280<=n&&n<=127337||127344<=n&&n<=127386||917760<=n&&n<=917999||983040<=n&&n<=1048573||1048576<=n&&n<=1114109?"A":"N"},e.characterLength=function(i){var r=this.eastAsianWidth(i);return r=="F"||r=="W"||r=="A"?2:1};function t(i){return i.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}e.length=function(i){for(var r=t(i),o=0,n=0;n<r.length;n++)o=o+this.characterLength(r[n]);return o},e.slice=function(i,r,o){textLen=e.length(i),r=r||0,o=o||1,r<0&&(r=textLen+r),o<0&&(o=textLen+o);for(var n="",u=0,h=t(i),a=0;a<h.length;a++){var l=h[a],c=e.length(l);if(u>=r-(c==2?1:0))if(u+c<=o)n+=l;else break;u+=c}return n}})(Wc);var jc=pr,Gc=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};function is(s,e={}){if(typeof s!="string"||s.length===0||(e={ambiguousIsNarrow:!0,...e},s=au(s),s.length===0))return 0;s=s.replace(Gc(),"  ");let t=e.ambiguousIsNarrow?1:2,i=0;for(let r of s){let o=r.codePointAt(0);if(!(o<=31||o>=127&&o<=159||o>=768&&o<=879))switch(jc.eastAsianWidth(r)){case"F":case"W":i+=2;break;case"A":i+=t;break;default:i+=1}}return i}var dr=10,Qo=(s=0)=>e=>`\x1B[${e+s}m`,eu=(s=0)=>e=>`\x1B[${38+s};5;${e}m`,tu=(s=0)=>(e,t,i)=>`\x1B[${38+s};2;${e};${t};${i}m`,O={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(O.modifier);var Yc=Object.keys(O.color),Kc=Object.keys(O.bgColor);[...Yc,...Kc];function Zc(){let s=new Map;for(let[e,t]of Object.entries(O)){for(let[i,r]of Object.entries(t))O[i]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},t[i]=O[i],s.set(r[0],r[1]);Object.defineProperty(O,e,{value:t,enumerable:!1})}return Object.defineProperty(O,"codes",{value:s,enumerable:!1}),O.color.close="\x1B[39m",O.bgColor.close="\x1B[49m",O.color.ansi=Qo(),O.color.ansi256=eu(),O.color.ansi16m=tu(),O.bgColor.ansi=Qo(dr),O.bgColor.ansi256=eu(dr),O.bgColor.ansi16m=tu(dr),Object.defineProperties(O,{rgbToAnsi256:{value:(e,t,i)=>e===t&&t===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[i]=t;i.length===3&&(i=[...i].map(o=>o+o).join(""));let r=Number.parseInt(i,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:e=>O.rgbToAnsi256(...O.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let t,i,r;if(e>=232)t=((e-232)*10+8)/255,i=t,r=t;else{e-=16;let u=e%36;t=Math.floor(e/36)/5,i=Math.floor(u/6)/5,r=u%6/5}let o=Math.max(t,i,r)*2;if(o===0)return 30;let n=30+(Math.round(r)<<2|Math.round(i)<<1|Math.round(t));return o===2&&(n+=60),n},enumerable:!1},rgbToAnsi:{value:(e,t,i)=>O.ansi256ToAnsi(O.rgbToAnsi256(e,t,i)),enumerable:!1},hexToAnsi:{value:e=>O.ansi256ToAnsi(O.hexToAnsi256(e)),enumerable:!1}}),O}var Xc=Zc(),ks=new Set(["\x1B","\x9B"]),Jc=39,gr="\x07",hu="[",Qc="]",lu="m",Er=`${Qc}8;;`,su=s=>`${ks.values().next().value}${hu}${s}${lu}`,iu=s=>`${ks.values().next().value}${Er}${s}${gr}`,eD=s=>s.split(" ").map(e=>is(e)),mr=(s,e,t)=>{let i=[...e],r=!1,o=!1,n=is(au(s[s.length-1]));for(let[u,h]of i.entries()){let a=is(h);if(n+a<=t?s[s.length-1]+=h:(s.push(h),n=0),ks.has(h)&&(r=!0,o=i.slice(u+1).join("").startsWith(Er)),r){o?h===gr&&(r=!1,o=!1):h===lu&&(r=!1);continue}n+=a,n===t&&u<i.length-1&&(s.push(""),n=0)}!n&&s[s.length-1].length>0&&s.length>1&&(s[s.length-2]+=s.pop())},tD=s=>{let e=s.split(" "),t=e.length;for(;t>0&&!(is(e[t-1])>0);)t--;return t===e.length?s:e.slice(0,t).join(" ")+e.slice(t).join("")},sD=(s,e,t={})=>{if(t.trim!==!1&&s.trim()==="")return"";let i="",r,o,n=eD(s),u=[""];for(let[a,l]of s.split(" ").entries()){t.trim!==!1&&(u[u.length-1]=u[u.length-1].trimStart());let c=is(u[u.length-1]);if(a!==0&&(c>=e&&(t.wordWrap===!1||t.trim===!1)&&(u.push(""),c=0),(c>0||t.trim===!1)&&(u[u.length-1]+=" ",c++)),t.hard&&n[a]>e){let D=e-c,m=1+Math.floor((n[a]-D-1)/e);Math.floor((n[a]-1)/e)<m&&u.push(""),mr(u,l,e);continue}if(c+n[a]>e&&c>0&&n[a]>0){if(t.wordWrap===!1&&c<e){mr(u,l,e);continue}u.push("")}if(c+n[a]>e&&t.wordWrap===!1){mr(u,l,e);continue}u[u.length-1]+=l}t.trim!==!1&&(u=u.map(a=>tD(a)));let h=[...u.join(`
`)];for(let[a,l]of h.entries()){if(i+=l,ks.has(l)){let{groups:D}=new RegExp(`(?:\\${hu}(?<code>\\d+)m|\\${Er}(?<uri>.*)${gr})`).exec(h.slice(a).join(""))||{groups:{}};if(D.code!==void 0){let m=Number.parseFloat(D.code);r=m===Jc?void 0:m}else D.uri!==void 0&&(o=D.uri.length===0?void 0:D.uri)}let c=Xc.codes.get(Number(r));h[a+1]===`
`?(o&&(i+=iu("")),r&&c&&(i+=su(c))):l===`
`&&(r&&c&&(i+=su(r)),o&&(i+=iu(o)))}return i};function ru(s,e,t){return String(s).normalize().replace(/\r\n/g,`
`).split(`
`).map(i=>sD(i,e,t)).join(`
`)}function iD(s,e){if(s===e)return;let t=s.split(`
`),i=e.split(`
`),r=[];for(let o=0;o<Math.max(t.length,i.length);o++)t[o]!==i[o]&&r.push(o);return r}var cu=Symbol("clack:cancel");function ve(s){return s===cu}function Ls(s,e){s.isTTY&&s.setRawMode(e)}var nu=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),rD=new Set(["up","down","left","right","space","enter"]),rs=class{constructor({render:e,input:t=ou,output:i=uu,...r},o=!0){this._track=!1,this._cursor=0,this.state="initial",this.error="",this.subscribers=new Map,this._prevFrame="",this.opts=r,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=e.bind(this),this._track=o,this.input=t,this.output=i}prompt(){let e=new zc(0);return e._write=(t,i,r)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),r()},this.input.pipe(e),this.rl=Jo.createInterface({input:this.input,output:e,tabSize:2,prompt:"",escapeCodeTimeout:50}),Jo.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Ls(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((t,i)=>{this.once("submit",()=>{this.output.write(G.cursor.show),this.output.off("resize",this.render),Ls(this.input,!1),t(this.value)}),this.once("cancel",()=>{this.output.write(G.cursor.show),this.output.off("resize",this.render),Ls(this.input,!1),t(cu)})})}on(e,t){let i=this.subscribers.get(e)??[];i.push({cb:t}),this.subscribers.set(e,i)}once(e,t){let i=this.subscribers.get(e)??[];i.push({cb:t,once:!0}),this.subscribers.set(e,i)}emit(e,...t){let i=this.subscribers.get(e)??[],r=[];for(let o of i)o.cb(...t),o.once&&r.push(()=>i.splice(i.indexOf(o),1));for(let o of r)o()}unsubscribe(){this.subscribers.clear()}onKeypress(e,t){if(this.state==="error"&&(this.state="active"),t?.name&&!this._track&&nu.has(t.name)&&this.emit("cursor",nu.get(t.name)),t?.name&&rD.has(t.name)&&this.emit("cursor",t.name),e&&(e.toLowerCase()==="y"||e.toLowerCase()==="n")&&this.emit("confirm",e.toLowerCase()==="y"),e&&this.emit("key",e.toLowerCase()),t?.name==="return"){if(this.opts.validate){let i=this.opts.validate(this.value);i&&(this.error=i,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}e===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Ls(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let e=ru(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(G.cursor.move(-999,e*-1))}render(){let e=ru(this._render(this)??"",process.stdout.columns,{hard:!0});if(e!==this._prevFrame){if(this.state==="initial")this.output.write(G.cursor.hide);else{let t=iD(this._prevFrame,e);if(this.restoreCursor(),t&&t?.length===1){let i=t[0];this.output.write(G.cursor.move(0,i)),this.output.write(G.erase.lines(1));let r=e.split(`
`);this.output.write(r[i]),this._prevFrame=e,this.output.write(G.cursor.move(0,r.length-i-1));return}else if(t&&t?.length>1){let i=t[0];this.output.write(G.cursor.move(0,i)),this.output.write(G.erase.down());let r=e.split(`
`).slice(i);this.output.write(r.join(`
`)),this._prevFrame=e;return}this.output.write(G.erase.down())}this.output.write(e),this.state==="initial"&&(this.state="active"),this._prevFrame=e}}},Is=class extends rs{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(e){super(e,!1),this.value=!!e.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",t=>{this.output.write(G.cursor.move(0,-1)),this.value=t,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};var Ms=class extends rs{constructor(e){super(e,!1),this.cursor=0,this.options=e.options,this.cursor=this.options.findIndex(({value:t})=>t===e.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",t=>{switch(t){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var Ps=class extends rs{constructor(e){super(e),this.valueWithCursor="",this.on("finalize",()=>{this.value||(this.value=e.defaultValue),this.valueWithCursor=this.value}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.value}${Ns.default.inverse(Ns.default.hidden("_"))}`;else{let t=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.valueWithCursor=`${t}${Ns.default.inverse(i[0])}${i.slice(1)}`}})}get cursor(){return this._cursor}};function Du({input:s=ou,output:e=uu,overwrite:t=!0,hideCursor:i=!0}={}){let r=Ye.createInterface({input:s,output:e,prompt:"",tabSize:1});Ye.emitKeypressEvents(s,r),s.isTTY&&s.setRawMode(!0);let o=(n,{name:u})=>{if(String(n)===""&&process.exit(0),!t)return;Ye.moveCursor(e,u==="return"?0:-1,u==="return"?-1:0,()=>{Ye.clearLine(e,1,()=>{s.once("keypress",o)})})};return i&&process.stdout.write(G.cursor.hide),s.once("keypress",o),()=>{s.off("keypress",o),i&&process.stdout.write(G.cursor.show),s.isTTY&&s.setRawMode(!1),r.terminal=!1,r.close()}}var d=ft(fr(),1),vt=ft(cr(),1);import de from"node:process";function nD(){return de.platform!=="win32"?de.env.TERM!=="linux":!!de.env.CI||!!de.env.WT_SESSION||!!de.env.TERMINUS_SUBLIME||de.env.ConEmuTask==="{cmd::Cmder}"||de.env.TERM_PROGRAM==="Terminus-Sublime"||de.env.TERM_PROGRAM==="vscode"||de.env.TERM==="xterm-256color"||de.env.TERM==="alacritty"||de.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Cr=nD(),x=(s,e)=>Cr?s:e,oD=x("\u25C6","*"),fu=x("\u25A0","x"),du=x("\u25B2","x"),br=x("\u25C7","o"),uD=x("\u250C","T"),R=x("\u2502","|"),ns=x("\u2514","\u2014"),Fr=x("\u25CF",">"),yr=x("\u25CB"," "),qp=x("\u25FB","[\u2022]"),Hp=x("\u25FC","[+]"),Up=x("\u25FB","[ ]"),zp=x("\u25AA","\u2022"),Vp=x("\u2500","-"),Wp=x("\u256E","+"),jp=x("\u251C","+"),Gp=x("\u256F","+"),aD=x("\u25CF","\u2022"),hD=x("\u25C6","*"),lD=x("\u25B2","!"),cD=x("\u25A0","x"),_r=s=>{switch(s){case"initial":case"active":return d.default.cyan(oD);case"cancel":return d.default.red(fu);case"error":return d.default.yellow(du);case"submit":return d.default.green(br)}},mu=s=>new Ps({validate:s.validate,placeholder:s.placeholder,defaultValue:s.defaultValue,initialValue:s.initialValue,render(){let e=`${d.default.gray(R)}
${_r(this.state)}  ${s.message}
`,t=s.placeholder?d.default.inverse(s.placeholder[0])+d.default.dim(s.placeholder.slice(1)):d.default.inverse(d.default.hidden("_")),i=this.value?this.valueWithCursor:t;switch(this.state){case"error":return`${e.trim()}
${d.default.yellow(R)}  ${i}
${d.default.yellow(ns)}  ${d.default.yellow(this.error)}
`;case"submit":return`${e}${d.default.gray(R)}  ${d.default.dim(this.value||s.placeholder)}`;case"cancel":return`${e}${d.default.gray(R)}  ${d.default.strikethrough(d.default.dim(this.value??""))}${this.value?.trim()?`
`+d.default.gray(R):""}`;default:return`${e}${d.default.cyan(R)}  ${i}
${d.default.cyan(ns)}
`}}}).prompt();var wr=s=>{let e=s.active??"Yes",t=s.inactive??"No";return new Is({active:e,inactive:t,initialValue:s.initialValue??!0,render(){let i=`${d.default.gray(R)}
${_r(this.state)}  ${s.message}
`,r=this.value?e:t;switch(this.state){case"submit":return`${i}${d.default.gray(R)}  ${d.default.dim(r)}`;case"cancel":return`${i}${d.default.gray(R)}  ${d.default.strikethrough(d.default.dim(r))}
${d.default.gray(R)}`;default:return`${i}${d.default.cyan(R)}  ${this.value?`${d.default.green(Fr)} ${e}`:`${d.default.dim(yr)} ${d.default.dim(e)}`} ${d.default.dim("/")} ${this.value?`${d.default.dim(yr)} ${d.default.dim(t)}`:`${d.default.green(Fr)} ${t}`}
${d.default.cyan(ns)}
`}}}).prompt()},Sr=s=>{let e=(i,r)=>{let o=i.label??String(i.value);return r==="active"?`${d.default.green(Fr)} ${o} ${i.hint?d.default.dim(`(${i.hint})`):""}`:r==="selected"?`${d.default.dim(o)}`:r==="cancelled"?`${d.default.strikethrough(d.default.dim(o))}`:`${d.default.dim(yr)} ${d.default.dim(o)}`},t=0;return new Ms({options:s.options,initialValue:s.initialValue,render(){let i=`${d.default.gray(R)}
${_r(this.state)}  ${s.message}
`;switch(this.state){case"submit":return`${i}${d.default.gray(R)}  ${e(this.options[this.cursor],"selected")}`;case"cancel":return`${i}${d.default.gray(R)}  ${e(this.options[this.cursor],"cancelled")}
${d.default.gray(R)}`;default:{let r=s.maxItems===void 0?1/0:Math.max(s.maxItems,5);this.cursor>=t+r-3?t=Math.max(Math.min(this.cursor-r+3,this.options.length-r),0):this.cursor<t+2&&(t=Math.max(this.cursor-2,0));let o=r<this.options.length&&t>0,n=r<this.options.length&&t+r<this.options.length;return`${i}${d.default.cyan(R)}  ${this.options.slice(t,t+r).map((u,h,a)=>h===0&&o?d.default.dim("..."):h===a.length-1&&n?d.default.dim("..."):e(u,h+t===this.cursor?"active":"inactive")).join(`
${d.default.cyan(R)}  `)}
${d.default.cyan(ns)}
`}}}}).prompt()};var pu=(s="")=>{process.stdout.write(`${d.default.gray(uD)}  ${s}
`)},me=(s="")=>{process.stdout.write(`${d.default.gray(R)}
${d.default.gray(ns)}  ${s}

`)},Y={message:(s="",{symbol:e=d.default.gray(R)}={})=>{let t=[`${d.default.gray(R)}`];if(s){let[i,...r]=s.split(`
`);t.push(`${e}  ${i}`,...r.map(o=>`${d.default.gray(R)}  ${o}`))}process.stdout.write(`${t.join(`
`)}
`)},info:s=>{Y.message(s,{symbol:d.default.blue(aD)})},success:s=>{Y.message(s,{symbol:d.default.green(hD)})},step:s=>{Y.message(s,{symbol:d.default.green(br)})},warn:s=>{Y.message(s,{symbol:d.default.yellow(lD)})},warning:s=>{Y.warn(s)},error:s=>{Y.message(s,{symbol:d.default.red(cD)})}},gu=()=>{let s=Cr?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],e=Cr?80:120,t,i,r=!1,o="",n=(l="")=>{r=!0,t=Du(),o=l.replace(/\.+$/,""),process.stdout.write(`${d.default.gray(R)}
`);let c=0,D=0;i=setInterval(()=>{let m=d.default.magenta(s[c]),f=".".repeat(Math.floor(D)).slice(0,3);process.stdout.write(vt.cursor.move(-999,0)),process.stdout.write(vt.erase.down(1)),process.stdout.write(`${m}  ${o}${f}`),c=c+1<s.length?c+1:0,D=D<s.length?D+.125:0},e)},u=(l="",c=0)=>{o=l??o,r=!1,clearInterval(i);let D=c===0?d.default.green(br):c===1?d.default.red(fu):d.default.red(du);process.stdout.write(vt.cursor.move(-999,0)),process.stdout.write(vt.erase.down(1)),process.stdout.write(`${D}  ${o}
`),t()},h=(l="")=>{o=l??o},a=l=>{let c=l>1?"Something went wrong":"Canceled";r&&u(c,l)};return process.on("uncaughtExceptionMonitor",()=>a(2)),process.on("unhandledRejection",()=>a(2)),process.on("SIGINT",()=>a(1)),process.on("SIGTERM",()=>a(1)),process.on("exit",a),{start:n,stop:u,message:h}};var Eu=async(s,e)=>{if(dD(s)){let t=DD(s);if(t.isFile()||t.isSymbolicLink()){if(e)Y.warn("Target is a file or symlink, but force flag is set, removing file and continuing.");else{Y.warn("Target is a file or symlink.");let i=await wr({message:"Remove and continue?",initialValue:!1});(ve(i)||!i)&&(me("Cancelled. No changes were made."),process.exit(0))}mD(s)}if(t.isDirectory()&&fD(s).length>0)if(e)Y.warn("Target directory is not empty but force flag is set, continuing.");else{Y.warn("Target directory is not empty.");let i=await wr({message:"Continue anyway?",initialValue:!1});(ve(i)||!i)&&(me("Cancelled. No changes were made."),process.exit(0))}}};var Cu="cloudflare-community/cloudspark",Ar={js:{name:"js",displayName:"JavaScript",description:"Plain JavaScript"},ts:{name:"ts",displayName:"TypeScript",description:"TypeScript with types set up for Cloudflare Workers"},rs:{name:"rs",displayName:"Rust",description:"Rust, running using the workers.rs project"}},Or=[{name:"hello-world",displayName:"Hello World",description:"A simple Hello World script for getting started with Cloudflare Workers",languages:[Ar.ts,Ar.js,Ar.rs]}];var oc=ft(xl(),1);import{readFile as Wm,writeFile as jm,rm as Gm,mkdir as rc}from"node:fs/promises";import{existsSync as xs,createWriteStream as Ym,readdirSync as Km}from"node:fs";function Tl(s=""){return!s||!s.includes("\\")?s:s.replace(/\\/g,"/")}var em=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,tm=/^[A-Za-z]:$/;function sm(){return typeof process<"u"?process.cwd().replace(/\\/g,"/"):"/"}var lt=function(...s){s=s.map(i=>Tl(i));let e="",t=!1;for(let i=s.length-1;i>=-1&&!t;i--){let r=i>=0?s[i]:sm();!r||r.length===0||(e=`${r}/${e}`,t=Xi(r))}return e=$l(e,!t),t&&!Xi(e)?`/${e}`:e.length>0?e:"."};function $l(s,e){let t="",i=0,r=-1,o=0,n=null;for(let u=0;u<=s.length;++u){if(u<s.length)n=s[u];else{if(n==="/")break;n="/"}if(n==="/"){if(!(r===u-1||o===1))if(o===2){if(t.length<2||i!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){let h=t.lastIndexOf("/");h===-1?(t="",i=0):(t=t.slice(0,h),i=t.length-1-t.lastIndexOf("/")),r=u,o=0;continue}else if(t.length>0){t="",i=0,r=u,o=0;continue}}e&&(t+=t.length>0?"/..":"..",i=2)}else t.length>0?t+=`/${s.slice(r+1,u)}`:t=s.slice(r+1,u),i=u-r-1;r=u,o=0}else n==="."&&o!==-1?++o:o=-1}return t}var Xi=function(s){return em.test(s)};var bo=function(s){let e=Tl(s).replace(/\/$/,"").split("/").slice(0,-1);return e.length===1&&tm.test(e[0])&&(e[0]+="/"),e.join("/")||(Xi(s)?"/":".")};function wo(s,e,t=".",i){if(!_o(e))return wo(s,{},t,i);let r=Object.assign({},e);for(let o in s){if(o==="__proto__"||o==="constructor")continue;let n=s[o];n!=null&&(i&&i(r,o,n,t)||(Array.isArray(n)&&Array.isArray(r[o])?r[o]=[...n,...r[o]]:_o(n)&&_o(r[o])?r[o]=wo(n,r[o],(t?`${t}.`:"")+o.toString(),i):r[o]=n))}return r}function _o(s){if(s===null||typeof s!="object")return!1;let e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}function So(s){return(...e)=>e.reduce((t,i)=>wo(t,i,"",s),{})}var Ll=So(),hE=So((s,e,t)=>{if(s[e]!==void 0&&typeof t=="function")return s[e]=t(s[e]),!0}),lE=So((s,e,t)=>{if(Array.isArray(s[e])&&typeof t=="function")return s[e]=t(s[e]),!0});import{pipeline as Zm}from"node:stream";import{homedir as Xm}from"node:os";import{promisify as Jm}from"node:util";async function Qm(s,e,t={}){let i=e+".json",r=JSON.parse(await Wm(i,"utf8").catch(()=>"{}")),n=(await To(s,{method:"HEAD",headers:t.headers}).catch(()=>{}))?.headers.get("etag");if(r.etag===n&&xs(e))return;typeof n=="string"&&(r.etag=n);let u=await To(s,{headers:t.headers});if(u.status>=400)throw new Error(`Failed to download ${s}: ${u.status} ${u.statusText}`);let h=Ym(e);await Jm(Zm)(u.body,h),await jm(i,JSON.stringify(r),"utf8")}var ep=/^(?<repo>[\w.-]+\/[\w.-]+)(?<subdir>[^#]+)?(?<ref>#[\w./-]+)?/;function nr(s){let e=s.match(ep)?.groups||{};return{repo:e.repo,subdir:e.subdir||"/",ref:e.ref?e.ref.slice(1):"main"}}function rr(...s){process.env.DEBUG&&console.debug("[giget]",...s)}async function To(s,e={}){if(!e.agent){let t=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;if(t){let i=await Promise.resolve().then(()=>ft(ic(),1)).then(r=>r.HttpsProxyAgent||r.default);e.agent=new i(t)}}return await fetch(s,{...e,headers:uc(e.headers)})}function tp(){return process.env.XDG_CACHE_HOME?lt(process.env.XDG_CACHE_HOME,"giget"):lt(Xm(),".cache/giget")}function uc(s={}){let e={};for(let[t,i]of Object.entries(s))i&&(e[t.toLowerCase()]=i);return e}var nc=(s,e)=>{let t=nr(s),i=process.env.GIGET_GITHUB_URL||"https://api.github.com";return{name:t.repo.replace("/","-"),version:t.ref,subdir:t.subdir,headers:{Authorization:e.auth?`Bearer ${e.auth}`:void 0,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"},url:`${i.replace("api.github.com","github.com")}/${t.repo}/tree/${t.ref}${t.subdir}`,tar:`${i}/repos/${t.repo}/tarball/${t.ref}`}},sp=(s,e)=>{let t=nr(s),i=process.env.GIGET_GITLAB_URL||"https://gitlab.com";return{name:t.repo.replace("/","-"),version:t.ref,subdir:t.subdir,headers:{authorization:e.auth?`Bearer ${e.auth}`:void 0},url:`${i}/${t.repo}/tree/${t.ref}${t.subdir}`,tar:`${i}/${t.repo}/-/archive/${t.ref}.tar.gz`}},ip=(s,e)=>{let t=nr(s);return{name:t.repo.replace("/","-"),version:t.ref,subdir:t.subdir,headers:{authorization:e.auth?`Bearer ${e.auth}`:void 0},url:`https://bitbucket.com/${t.repo}/src/${t.ref}${t.subdir}`,tar:`https://bitbucket.org/${t.repo}/get/${t.ref}.tar.gz`}},rp=(s,e)=>{let t=nr(s);return{name:t.repo.replace("/","-"),version:t.ref,subdir:t.subdir,headers:{authorization:e.auth?`Bearer ${e.auth}`:void 0},url:`https://git.sr.ht/~${t.repo}/tree/${t.ref}/item${t.subdir}`,tar:`https://git.sr.ht/~${t.repo}/archive/${t.ref}.tar.gz`}},np={github:nc,gh:nc,gitlab:sp,bitbucket:ip,sourcehut:rp},op="https://raw.githubusercontent.com/unjs/giget/main/templates",up=(s=op,e={})=>async t=>{let i=Date.now(),r=`${s}/${t}.json`,o=await To(r,{headers:{authorization:e.auth?`Bearer ${e.auth}`:void 0}});if(o.status>=400)throw new Error(`Failed to download ${t} template info from ${r}: ${o.status} ${o.statusText}`);let n=await o.json();if(!n.tar||!n.name)throw new Error(`Invalid template info from ${r}. name or tar fields are missing!`);return rr(`Fetched ${t} template info from ${r} in ${Date.now()-i}ms`),n},ap=/^([\w-.]+):/;async function ac(s,e={}){e=Ll({registry:process.env.GIGET_REGISTRY,auth:process.env.GIGET_AUTH},e);let t=e.registry===!1?void 0:up(e.registry,{auth:e.auth}),i=e.provider||(t?"registry":"github"),r=s,o=s.match(ap);o&&(i=o[1],r=s.slice(o[0].length));let n=e.providers?.[i]||np[i]||t;if(!n)throw new Error(`Unsupported provider: ${i}`);let u=await Promise.resolve().then(()=>n(r,{auth:e.auth})).catch(f=>{throw new Error(`Failed to download template from ${i}: ${f.message}`)});if(!u)throw new Error(`Failed to resolve template from ${i}`);u.name=(u.name||"template").replace(/[^\da-z-]/gi,"-"),u.defaultDir=(u.defaultDir||u.name).replace(/[^\da-z-]/gi,"-");let h=lt(e.cwd||"."),a=lt(h,e.dir||u.defaultDir);if(e.forceClean&&await Gm(a,{recursive:!0,force:!0}),!e.force&&xs(a)&&Km(a).length>0)throw new Error(`Destination ${a} already exists.`);await rc(a,{recursive:!0});let l=lt(tp(),i,u.name),c=lt(l,(u.version||u.name)+".tar.gz");if(e.preferOffline&&xs(c)&&(e.offline=!0),!e.offline){await rc(bo(c),{recursive:!0});let f=Date.now();await Qm(u.tar,c,{headers:{Authorization:e.auth?`Bearer ${e.auth}`:void 0,...uc(u.headers)}}).catch(E=>{if(!xs(c))throw E;rr("Download error. Using cached version:",E),e.offline=!0}),rr(`Downloaded ${u.tar} to ${c} in ${Date.now()-f}ms`)}if(!xs(c))throw new Error(`Tarball not found: ${c} (offline: ${e.offline})`);let D=Date.now(),m=u.subdir?.replace(/^\//,"")||"";return await(0,oc.extract)({file:c,cwd:a,onentry(f){f.path=f.path.split("/").splice(1).join("/"),m&&(f.path.startsWith(m+"/")?f.path=f.path.slice(m.length):f.path="")}}),rr(`Extracted to ${a} in ${Date.now()-D}ms`),{...u,source:r,dir:a}}var $o=(s,e)=>`github:${Cu}/templates/${s}/${e}`;async function hc(s,e){let t=gu();t.start("Downloading template (this may take a while)...");try{await ac(s,{dir:e,force:!0})}catch(i){t.stop(i.message,1),me("Exited. Artifacts may be present on filesystem."),process.exit(1)}t.stop("Successfully cloned template.")}import{normalize as hp}from"path";var lc=async s=>{let e=await Sr({message:"Select a template",options:s.map(i=>({label:i.displayName,value:i.name,hint:i.description}))});return ve(e)&&(me("Cancelled. No changes were made."),process.exit(0)),s.find(i=>i.name==e)},cc=async s=>{let e=await Sr({message:"Select a language",options:s.languages.map(t=>({label:t.displayName,value:t.name,hint:t.description}))});return ve(e)&&(me("Cancelled. No changes were made."),process.exit(0)),e},Dc=async()=>{let s=await mu({message:"Enter the target directory you want to initialize in",placeholder:"./worker",defaultValue:"./worker"});return ve(s)&&(me("Cancelled. No changes were made."),process.exit(0)),hp(s)};var fc=async(s,e,t)=>{pu("Cloudspark CLI \u26A1\uFE0F");let i,r;if(s)Y.message("Express mode active. Initializing the template."),i=`${t.provider??"github"}:${s}`,r=e??"worker";else if(t.y){Y.message("Bypassing all prompts, and initializing the default template.");let o=Or[0];i=$o(o.name,o.languages[0].name),r="worker"}else{Y.message("Let's get started by selecting a template.");let o=await lc(Or),n=await cc(o);i=$o(o.name,n),r=await Dc()}await Eu(r,t.force),await hc(i,r),me(`Done! Your Worker is ready to go at "${r}"`),process.exit(0)};var vc=ft(Oc(),1),{program:Bc,createCommand:YE,createArgument:KE,createOption:ZE,CommanderError:XE,InvalidArgumentError:JE,InvalidOptionArgumentError:QE,Command:e0,Argument:t0,Option:s0,Help:i0}=vc.default;var Rc=Bc.name("cloudspark").description("Cloudspark CLI, your CommunityApproved\u2122 Cloudflare Developer Platform CLI");Rc.command("init").description("Initialize a new Worker").argument("[repo]","The repository to initialize.").argument("[folder]","The folder to initialize to.").option("-y","Bypass prompts and use default values(doesn't apply to output folder conflicts).").option("-f, --force","Force clone the template, ignoring existing files.").action(fc);await Rc.parseAsync();export{fc as init};
